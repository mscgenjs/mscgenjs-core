!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mscgenjs=e():t.mscgenjs=e()}(self,(()=>(()=>{var t={730:t=>{var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var o,i,a=Object.prototype,u=a.hasOwnProperty,s=a.toString,c=a.propertyIsEnumerable,l=(o=Object.keys,i=Object,function(t){return o(i(t))}),f=Math.max,d=!c.call({valueOf:1},"valueOf");function h(t,e,r){var n=t[e];u.call(t,e)&&b(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function p(t,n){return!!(n=null==n?e:n)&&("number"==typeof t||r.test(t))&&t>-1&&t%1==0&&t<n}function g(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||a)}function b(t,e){return t===e||t!=t&&e!=e}var m=Array.isArray;function y(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}(t.length)&&!function(t){var e=v(t)?s.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var x,w=(x=function(t,e){if(d||g(e)||y(e))!function(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o];h(r,a,t[a])}}(e,function(t){return y(t)?function(t,e){var r=m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&y(t)}(t)&&u.call(t,"callee")&&(!c.call(t,"callee")||"[object Arguments]"==s.call(t))}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!u.call(t,i)||o&&("length"==i||p(i,n))||r.push(i);return r}(t):function(t){if(!g(t))return l(t);var e=[];for(var r in Object(t))u.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)u.call(e,r)&&h(t,r,e[r])},function(t,e){return e=f(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=f(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=a,n(t,this,u)}}((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=x.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!v(r))return!1;var n=typeof e;return!!("number"==n?y(r)&&p(e,r.length):"string"==n&&e in r)&&b(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&x(t,a)}return t})));t.exports=w},465:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Boolean]",u="[object Date]",s="[object Function]",c="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",g="[object Set]",b="[object String]",m="[object Symbol]",y="[object WeakMap]",v="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",_="[object Float64Array]",C="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",k="[object Uint8Array]",L="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",M=/\w*$/,O=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,F={};F[i]=F["[object Array]"]=F[v]=F[x]=F[a]=F[u]=F[w]=F[_]=F[C]=F[A]=F[S]=F[l]=F[f]=F[d]=F[p]=F[g]=F[b]=F[m]=F[k]=F[L]=F[E]=F[T]=!0,F["[object Error]"]=F[s]=F[y]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,P="object"==typeof self&&self&&self.Object===Object&&self,D=I||P||Function("return this")(),B=e&&!e.nodeType&&e,N=B&&t&&!t.nodeType&&t,H=N&&N.exports===B;function W(t,e){return t.set(e[0],e[1]),t}function R(t,e){return t.add(e),t}function G(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function X(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function V(t,e){return function(r){return t(e(r))}}function q(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var U,$=Array.prototype,K=Function.prototype,Z=Object.prototype,Y=D["__core-js_shared__"],Q=(U=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",J=K.toString,tt=Z.hasOwnProperty,et=Z.toString,rt=RegExp("^"+J.call(tt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=H?D.Buffer:void 0,ot=D.Symbol,it=D.Uint8Array,at=V(Object.getPrototypeOf,Object),ut=Object.create,st=Z.propertyIsEnumerable,ct=$.splice,lt=Object.getOwnPropertySymbols,ft=nt?nt.isBuffer:void 0,dt=V(Object.keys,Object),ht=Dt(D,"DataView"),pt=Dt(D,"Map"),gt=Dt(D,"Promise"),bt=Dt(D,"Set"),mt=Dt(D,"WeakMap"),yt=Dt(Object,"create"),vt=Rt(ht),xt=Rt(pt),wt=Rt(gt),_t=Rt(bt),Ct=Rt(mt),At=ot?ot.prototype:void 0,St=At?At.valueOf:void 0;function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Et(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Tt(t){this.__data__=new Lt(t)}function Mt(t,e,r){var n=t[e];tt.call(t,e)&&Gt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Ot(t,e){for(var r=t.length;r--;)if(Gt(t[r][0],e))return r;return-1}function jt(t,e,r,n,o,h,y){var O;if(n&&(O=h?n(t,o,h,y):n(t)),void 0!==O)return O;if(!Ut(t))return t;var j=zt(t);if(j){if(O=function(t){var e=t.length,r=t.constructor(e);return e&&"string"==typeof t[0]&&tt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!e)return function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(t,O)}else{var I=Nt(t),P=I==s||I==c;if(Vt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(I==d||I==i||P&&!h){if(z(t))return h?t:{};if(O=function(t){return"function"!=typeof t.constructor||Wt(t)?{}:Ut(e=at(t))?ut(e):{};var e}(P?{}:t),!e)return function(t,e){return It(t,Bt(t),e)}(t,function(t,e){return t&&It(e,$t(e),t)}(O,t))}else{if(!F[I])return h?t:{};O=function(t,e,r,n){var o,i=t.constructor;switch(e){case v:return Ft(t);case a:case u:return new i(+t);case x:return function(t,e){var r=e?Ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case w:case _:case C:case A:case S:case k:case L:case E:case T:return function(t,e){var r=e?Ft(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case l:return function(t,e,r){return G(e?r(X(t),!0):X(t),W,new t.constructor)}(t,n,r);case f:case b:return new i(t);case p:return function(t){var e=new t.constructor(t.source,M.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,r){return G(e?r(q(t),!0):q(t),R,new t.constructor)}(t,n,r);case m:return o=t,St?Object(St.call(o)):{}}}(t,I,jt,e)}}y||(y=new Tt);var D=y.get(t);if(D)return D;if(y.set(t,O),!j)var B=r?function(t){return function(t,e,r){var n=e(t);return zt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,$t,Bt)}(t):$t(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r););}(B||t,(function(o,i){B&&(o=t[i=o]),Mt(O,i,jt(o,e,r,n,i,t,y))})),O}function Ft(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function It(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;Mt(r,a,void 0===u?t[a]:u)}return r}function Pt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Dt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Ut(t)||(e=t,Q&&Q in e))&&(qt(t)||z(t)?rt:O).test(Rt(t));var e}(r)?r:void 0}kt.prototype.clear=function(){this.__data__=yt?yt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(yt){var r=e[t];return r===n?void 0:r}return tt.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return yt?void 0!==e[t]:tt.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=yt&&void 0===e?n:e,this},Lt.prototype.clear=function(){this.__data__=[]},Lt.prototype.delete=function(t){var e=this.__data__,r=Ot(e,t);return!(r<0||(r==e.length-1?e.pop():ct.call(e,r,1),0))},Lt.prototype.get=function(t){var e=this.__data__,r=Ot(e,t);return r<0?void 0:e[r][1]},Lt.prototype.has=function(t){return Ot(this.__data__,t)>-1},Lt.prototype.set=function(t,e){var r=this.__data__,n=Ot(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},Et.prototype.clear=function(){this.__data__={hash:new kt,map:new(pt||Lt),string:new kt}},Et.prototype.delete=function(t){return Pt(this,t).delete(t)},Et.prototype.get=function(t){return Pt(this,t).get(t)},Et.prototype.has=function(t){return Pt(this,t).has(t)},Et.prototype.set=function(t,e){return Pt(this,t).set(t,e),this},Tt.prototype.clear=function(){this.__data__=new Lt},Tt.prototype.delete=function(t){return this.__data__.delete(t)},Tt.prototype.get=function(t){return this.__data__.get(t)},Tt.prototype.has=function(t){return this.__data__.has(t)},Tt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Lt){var n=r.__data__;if(!pt||n.length<199)return n.push([t,e]),this;r=this.__data__=new Et(n)}return r.set(t,e),this};var Bt=lt?V(lt,Object):function(){return[]},Nt=function(t){return et.call(t)};function Ht(t,e){return!!(e=null==e?o:e)&&("number"==typeof t||j.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Z)}function Rt(t){if(null!=t){try{return J.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ht&&Nt(new ht(new ArrayBuffer(1)))!=x||pt&&Nt(new pt)!=l||gt&&Nt(gt.resolve())!=h||bt&&Nt(new bt)!=g||mt&&Nt(new mt)!=y)&&(Nt=function(t){var e=et.call(t),r=e==d?t.constructor:void 0,n=r?Rt(r):void 0;if(n)switch(n){case vt:return x;case xt:return l;case wt:return h;case _t:return g;case Ct:return y}return e});var zt=Array.isArray;function Xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}(t.length)&&!qt(t)}var Vt=ft||function(){return!1};function qt(t){var e=Ut(t)?et.call(t):"";return e==s||e==c}function Ut(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $t(t){return Xt(t)?function(t,e){var r=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Xt(t)}(t)&&tt.call(t,"callee")&&(!st.call(t,"callee")||et.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!tt.call(t,a)||o&&("length"==a||Ht(a,n))||r.push(a);return r}(t):function(t){if(!Wt(t))return dt(t);var e=[];for(var r in Object(t))tt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}t.exports=function(t){return jt(t,!0,!0)}},800:(t,e,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();function a(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var u=Object.prototype,s=u.hasOwnProperty,c=u.toString,l=i.Symbol,f=u.propertyIsEnumerable,d=l?l.isConcatSpreadable:void 0;function h(t,e,r,n,o){var i=-1,u=t.length;for(r||(r=p),o||(o=[]);++i<u;){var s=t[i];e>0&&r(s)?e>1?h(s,e-1,r,n,o):a(o,s):n||(o[o.length]=s)}return o}function p(t){return g(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?c.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)}(t)}(t)&&s.call(t,"callee")&&(!f.call(t,"callee")||"[object Arguments]"==c.call(t))}(t)||!!(d&&t&&t[d])}var g=Array.isArray;t.exports=function(t){return t&&t.length?h(t,1):[]}},773:(t,e,r)=>{var n,o="__lodash_hash_undefined__",i=/^\[object .+?Constructor\]$/,a="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,u="object"==typeof self&&self&&self.Object===Object&&self,s=a||u||Function("return this")(),c=Array.prototype,l=Function.prototype,f=Object.prototype,d=s["__core-js_shared__"],h=(n=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",p=l.toString,g=f.hasOwnProperty,b=f.toString,m=RegExp("^"+p.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),y=c.splice,v=k(s,"Map"),x=k(Object,"create");function w(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function A(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function S(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function k(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){if(!E(t)||h&&h in t)return!1;var e=function(t){var e=E(t)?b.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?m:i;return e.test(function(t){if(null!=t){try{return p.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(r)?r:void 0}function L(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new(L.Cache||C),r}function E(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}w.prototype.clear=function(){this.__data__=x?x(null):{}},w.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},w.prototype.get=function(t){var e=this.__data__;if(x){var r=e[t];return r===o?void 0:r}return g.call(e,t)?e[t]:void 0},w.prototype.has=function(t){var e=this.__data__;return x?void 0!==e[t]:g.call(e,t)},w.prototype.set=function(t,e){return this.__data__[t]=x&&void 0===e?o:e,this},_.prototype.clear=function(){this.__data__=[]},_.prototype.delete=function(t){var e=this.__data__,r=A(e,t);return!(r<0||(r==e.length-1?e.pop():y.call(e,r,1),0))},_.prototype.get=function(t){var e=this.__data__,r=A(e,t);return r<0?void 0:e[r][1]},_.prototype.has=function(t){return A(this.__data__,t)>-1},_.prototype.set=function(t,e){var r=this.__data__,n=A(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},C.prototype.clear=function(){this.__data__={hash:new w,map:new(v||_),string:new w}},C.prototype.delete=function(t){return S(this,t).delete(t)},C.prototype.get=function(t){return S(this,t).get(t)},C.prototype.has=function(t){return S(this,t).has(t)},C.prototype.set=function(t,e){return S(this,t).set(t,e),this},L.Cache=C,t.exports=L},607:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(863)),i=n(r(440));e.renderMsc=function(t,e,r){o.renderMsc(t,e||{},r,i.getParser,i.getGraphicsRenderer)},e.translateMsc=function(t,e){return o.translateMsc(t,e||{},i.getParser,i.getTextRenderer)},e.version=o.version,e.getAllowedValues=o.getAllowedValues,e.getParser=i.getParser,e.getGraphicsRenderer=i.getGraphicsRenderer,e.getTextRenderer=i.getTextRenderer},866:(t,e,r)=>{"use strict";e.__esModule=!0;var n=r(100);e.default=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:n.namedStyles.map((function(t){return{name:t.name,description:t.description,experimental:t.experimental,deprecated:t.deprecated}}))})},863:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(866)),i=n(r(901)),a=r(808);function u(t,e,r){return function(t,e){return"json"===e&&"object"==typeof t}(t,e)?t:r(e).parse(t)}function s(t,e,r){Boolean(t)&&(Boolean(e)?t(e,null):t(null,r))}e.renderMsc=function(t,e,r,n,o){var a=i.default(e,t);try{s(r,null,o().render(u(t,a.inputType,n),a.window,a.elementId,{source:a.source,styleAdditions:a.styleAdditions,additionalTemplate:a.additionalTemplate,mirrorEntitiesOnBottom:a.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:a.regularArcTextVerticalAlignment}))}catch(t){s(r,t)}},e.translateMsc=function(t,e,r,n){var o=Object.assign({inputType:"mscgen",outputType:"json"},e);return"ast"===o.outputType?r(o.inputType).parse(t):"json"===o.outputType?JSON.stringify(r(o.inputType).parse(t),null,"  "):n(o.outputType).render(u(t,o.inputType,r))},e.version=a.version,e.getAllowedValues=function(){return o.default}},901:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(866));function i(t,e,r){var n=r;return e.some((function(e){return e.name===t}))&&(n=t),n}function a(t,e){return"boolean"==typeof t?t:e}e.default=function(t,e){var r,n,u,s=a(t.includeSource,!0);return{inputType:(u=t.inputType,i(u,o.default.inputType,"mscgen")),elementId:t.elementId||"__svg",window:t.window||window,includeSource:s,source:s?e:null,styleAdditions:t.styleAdditions||null,additionalTemplate:(n=t.additionalTemplate,i(n,o.default.namedStyle,"basic")),mirrorEntitiesOnBottom:a(t.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:(r=t.regularArcTextVerticalAlignment,i(r,o.default.regularArcTextVerticalAlignment,"middle"))}}},440:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(238)),i=n(r(177)),a=n(r(54)),u=n(r(682)),s=n(r(616)),c=n(r(671)),l=n(r(867)),f=n(r(872)),d=n(r(593)),h=o,p=l,g=Object.freeze({mscgen:o,xu:a,msgenny:i}),b=Object.freeze({mscgen:l,msgenny:f,xu:d,dot:s,doxygen:c});e.getParser=function(t){return["ast","json"].includes(t)?JSON:g[t]||h},e.getGraphicsRenderer=function(){return u},e.getTextRenderer=function(t){return b[t]||p}},701:(t,e)=>{"use strict";function r(t,e){return void 0===e||"*"===e||t.some((function(t){return t.name===e}))}e.__esModule=!0,e.nameValue2Option=function(t,e){var r={};return r[t.toLowerCase()]=e,r},e.flattenBoolean=function(t){return["true","on","1"].includes(t.toLowerCase())},e.entityExists=r,e.isMscGenKeyword=function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)};var n=function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}(t,e)};e.EntityNotDefinedError=n,e.checkForUndeclaredEntities=function t(e,o){(o||[]).forEach((function(o){o.forEach((function(o){if(o.from&&!r(e,o.from))throw new n(o.from,o);if(o.to&&!r(e,o.to))throw new n(o.to,o);o.arcs&&t(e,o.arcs)}))}))},e.getMetaInfo=function(t,e){var r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some((function(t){return t.some((function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)}))}))}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}},630:(t,e)=>{"use strict";e.__esModule=!0;var r=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return r[t]}},355:(t,e)=>{"use strict";function r(t,e,n){e.forEach((function(e){!function(t,e,n){e.forEach((function(o){!function(t,e,r,n){n.forEach((function(n){n(r,t,e)}))}(t,e,o,n),o.arcs&&r(t,o.arcs,n)}))}(t,e,n)}))}e.__esModule=!0,e.default=function(t,e,n){var o,i;return o=t.entities,i=e,o.forEach((function(t){i.forEach((function(e){e(t)}))})),t.arcs&&r(t.entities,t.arcs,n),t}},98:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(355)),a=n(r(465)),u=o(r(249)),s=n(r(630)),c=n(r(368)),l=n(r(913)),f=0;function d(t){void 0===t.label&&(t.label=t.name)}function h(t){t.label&&(t.label=u.unescapeString(t.label)),t.id&&(t.id=u.unescapeString(t.id))}function p(t){t.label=Boolean(t.label)?t.label:""}function g(t){if(c.default(t.kind)!==t.kind){t.kind=c.default(t.kind);var e=t.from;t.from=t.to,t.to=e}}function b(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function m(t,e){if(void 0===e&&(e=[]),t&&t.from){var r=e.find((function(e){return e.name===t.from}));r&&b(t,r)}}function y(t){return t.arcs.reduce((function(t,e){return t+(Boolean(e[0].arcs)?y(e[0])+1:0)}),t.arcs.length)}function v(t,e,r,n){var o=[],i=[],u=[];return t.forEach((function(t){if(t.isVirtual=!1,"inline_expression"===s.default(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var o=a.default(t);o.numberofrows=y(o),delete o.arcs,i.push(o),t.arcs.forEach((function(t){u=u.concat(v(t,e+1,o.from,o.to)),t.forEach((function(t){b(t,o)}))})),e>f&&(f=e)}else i.push(t);u.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===s.default(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)})),o.push(i),o.concat(u)}function x(t){return f=0,{options:l.default(t.options),entities:a.default(t.entities),arcs:(e=t.arcs,e?e.reduce((function(t,e){return t.concat(v(e,0))}),[]):[]),depth:f+1};var e}e.nameAsLabel=d,e.swapRTLArc=g,e.overrideColors=m,e.normalize=x,e.flatten=function(t){return x(i.default(t,[d,h],[g,m,h,p]))}},368:(t,e)=>{"use strict";e.__esModule=!0;var r=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return r[t]||t}},913:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},433:(t,e)=>{"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},324:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(433)),a=o(r(138)),u=o(r(743)),s=o(r(327)),c=function(){function t(t){this.interEntitySpacing=160,this.height=34,this.width=100,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=160*t,this.width=100*t)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,r){var n=this,o=u.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,r)+2*i.default.LINE_WIDTH,t.forEach((function(t){o.appendChild(n.renderEntity(t,n.entityXHWM,e,r)),n.setX(t,n.entityXHWM),n.entityXHWM+=n.interEntitySpacing})),o},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,r){return a.splitLabel(t,"entity",this.width,e,r).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var r=Math.min(s.getBBox(t).width+4*i.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e},t.prototype.renderEntity=function(t,e,r,n){var o=u.createGroup(),i={x:e||0,y:r||0,width:this.width,height:this.height},s=a.createLabel(Object.assign({kind:"entity"},t),Object.assign({},i,{y:i.y+i.height/2}),n);return o.appendChild(u.createRect(this.sizeEntityBoxToLabel(s,i),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),o.appendChild(s),o},t.prototype.getMaxEntityHeight=function(t,e){var r=this,n=t[0],o=2;return t.forEach((function(t){var a=r.getNoEntityLines(t.label,i.default.FONT_SIZE,e);a>o&&(o=a,n=t)})),o>2?Math.max(this.height,s.getBBox(this.renderEntity(n,0,0,e)).height):this.height},t}();e.Thing=c},721:(t,e)=>{"use strict";e.__esModule=!0;var r="mscgenjs",n=r;e.setPrefix=function(t){n=r+t},e.get=function(t){return n+(t||"")}},407:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(630)),i=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.getClass=function(t){return i[t]||t},e.getAggregateClass=function(t){return o.default(t)||t}},84:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(800)),i=n(r(368)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},u={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function s(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}function c(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}function l(t,e){return a[i.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function f(t,e){function r(e){f(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&a[i.default(e.kind)]&&a[i.default(e.kind)].marker&&!t.includes(l(e.kind,e.linecolor))&&t.push(l(e.kind,e.linecolor)),t}function d(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.getAttributes=function(t,e,r,n,o){var i=[];return a[e]&&a[e].attributes&&(i=a[e].attributes.map((function(i){return{name:i.name,value:i.value.replace(/\{\{signal-marker-end\}\}/g,s(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,c(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}}))),i},e.getMarkerDefs=function(t,e){return o.default(function(t){return t.arcs.reduce(f,[]).sort().map(d)}(e).map((function(e){return u[e.kind].variants.map((function(r){return{name:t+e.kind+r.name+"-"+e.color,path:r.path,color:e.color,type:e.kind}}))})))}},682:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(465)),a=n(r(630)),u=r(98),s=n(r(433)),c=r(324),l=o(r(721)),f=o(r(407)),d=o(r(84)),h=o(r(138)),p=o(r(618)),g=o(r(223)),b=o(r(12)),m=o(r(743)),y=o(r(327)),v=new c.Thing(0),x=Object.seal({arcRowHeight:38,arcGradient:0,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),w=[];function _(t,e,r){x.layers.sequence.appendChild(v.renderEntities(t,e,r)),x.arcEndX=v.getDims().entityXHWM-v.getDims().interEntitySpacing+v.getDims().width}function C(t,e,r,n,o){var a=m.createGroup();return t.from&&t.to&&("*"===t.to?(function(t,e,r,n,o){var i=0,a=t.label,u=v.getX(t.from);t.label="",e.forEach((function(e){var a={};e.name!==t.from&&(i=v.getX(e.name),a=E(t,u,i,n,o),r.push({layer:x.layers.sequence,element:a}))})),t.label=a}(t,e,r,n,o),a=h.createLabel(t,{x:0,y:b.get(n).y,width:x.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},i.default(o))),r.push({title:t.title,layer:x.layers.sequence,element:a})):(a=E(t,v.getX(t.from),v.getX(t.to),n,o),r.push({title:t.title,layer:x.layers.sequence,element:a}))),a}function A(t,e,r){var n=0;return t.forEach((function(t){var o;switch(a.default(t.kind)){case"empty":o=L(t,0);break;case"box":o=M(v.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":o=S(t,0);break;default:var u=i.default(t);u.arcskip=0,o=C(u,e,[],0,r)}n=Math.max(n,y.getBBox(o).height+2*s.default.LINE_WIDTH)})),n}function S(t,e){var r=v.getOAndD(t.from,t.to),n=e>0,o=2*x.maxDepth*s.default.LINE_WIDTH,i=r.to-r.from+(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH)-7-s.default.LINE_WIDTH,a=r.from-(v.getDims().interEntitySpacing-3*s.default.LINE_WIDTH-o)/2-2*(x.maxDepth-t.depth)*s.default.LINE_WIDTH,u=m.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var c=h.createLabel(t,{x:a+s.default.LINE_WIDTH-i/2,y:e+x.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordwraparcs:x.wordWrapArcs}),l=y.getBBox(c),f=Math.max(l.height+2*s.default.LINE_WIDTH,x.arcRowHeight/2-2*s.default.LINE_WIDTH),d=Math.min(l.width+2*s.default.LINE_WIDTH,i),p=m.createEdgeRemark({width:d-s.default.LINE_WIDTH+7,height:f,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return u.appendChild(p),u.appendChild(c),u}function k(t,e,r,n){return r<x.arcRowHeight&&(r=x.arcRowHeight),t.map((function(t){var o=m.createLine({xFrom:v.getX(t.name),yFrom:0-r/2+(n||0),xTo:v.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:"+t.linecolor+";"),o}))}function L(t,e){return"---"===t.kind?function(t,e,r){var n=0,o=x.arcEndX,i="comment",a=m.createGroup();if(t.from&&t.to){var u=1*x.maxDepth*s.default.LINE_WIDTH,c=2*(x.maxDepth-t.depth)*s.default.LINE_WIDTH;n=e.from-(v.getDims().interEntitySpacing+2*s.default.LINE_WIDTH)/2-(c-u),o=e.to+(v.getDims().interEntitySpacing+2*s.default.LINE_WIDTH)/2+(c-u),i="inline_expression_divider"}var l=m.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});return a.appendChild(l),a.appendChild(T(t,e,r)),t.linecolor&&l.setAttribute("style","stroke:"+t.linecolor+";"),a}(t,v.getOAndD(t.from,t.to),e):T(t,v.getOAndD(t.from,t.to),e)}function E(t,e,r,n,o){var a,u=m.createGroup(),c="arc ";c+="<:>"===(a=t.kind)?"bidi ":"::"===a?"nodi ":"",c+=f.getAggregateClass(t.kind)+" "+f.getClass(t.kind);var p=[":>","::","<:>"].includes(t.kind),y=function(t,e,r){var n=b.get(t).y+e;if(r){var o=Math.floor(r),i=r-o,a=b.get(t).realRowNumber;n=b.getByRealRowNumber(a+o).y+i*(b.getByRealRowNumber(a+o+1).y-b.getByRealRowNumber(a+o).y)}return n}(n,x.arcGradient,t.arcskip);if(e===(r=g.determineArcXTo(t.kind,e,r))){u.appendChild(function(t,e,r,n,o,i){var a=x.arcRowHeight/5*2,u=v.getDims().interEntitySpacing/2,c={},h="arc "+f.getAggregateClass(t)+" "+f.getClass(t);if(n){c=m.createGroup();var p=m.createUTurn({x:e,y:o,width:u-2*s.default.LINE_WIDTH,height:a},o+r+a-2*s.default.LINE_WIDTH,{class:h,dontHitHome:"::"!==t,lineWidth:s.default.LINE_WIDTH}),g=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a-s.default.LINE_WIDTH,{lineWidth:s.default.LINE_WIDTH}),b=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"::"!==t,lineWidth:s.default.LINE_WIDTH});i&&p.setAttribute("style","stroke:"+i),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){g.setAttribute(t.name,t.value)})),g.setAttribute("style","stroke:transparent;"),Boolean(i)&&b.setAttribute("style","stroke:"+i),c.appendChild(p),c.appendChild(b),c.appendChild(g),c.setAttribute("class",h)}else c=m.createUTurn({x:e,y:o,width:u,height:a},o+r+a,{class:h,dontHitHome:"-x"===t,lineWidth:s.default.LINE_WIDTH}),d.getAttributes(l.get(),t,i,e,e).forEach((function(t){c.setAttribute(t.name,t.value)}));return c}(t.kind,e,y-b.get(n).y-x.arcGradient,p,b.get(n).y,t.linecolor));var w=2*v.getDims().interEntitySpacing/3;u.appendChild(h.createLabel(t,{x:e+1.5*s.default.LINE_WIDTH-w/2,y:b.get(n).y-x.arcRowHeight/5-s.default.LINE_WIDTH/2,width:w},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},i.default(o))))}else{var _=m.createLine({xFrom:e,yFrom:b.get(n).y,xTo:r,yTo:y},{class:c,doubleLine:p});d.getAttributes(l.get(),t.kind,t.linecolor,e,r).forEach((function(t){_.setAttribute(t.name,t.value)})),u.appendChild(_),u.appendChild(h.createLabel(t,{x:e,y:b.get(n).y+(y-b.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===x.regularArcTextVerticalAlignment,ownBackground:!0},i.default(o))))}return u}function T(t,e,r){var n=0,o=x.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),h.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:x.wordWrapArcs})}function M(t,e,r,n){var o,i=2*x.maxDepth*s.default.LINE_WIDTH,a=t.to-t.from+v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-i,u=t.from-(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-i)/2,c=m.createGroup(),l=h.createLabel(e,{x:u,y:r,width:a},n),f=y.getBBox(l),d=Math.max(f.height+2*s.default.LINE_WIDTH,x.arcRowHeight-2*s.default.LINE_WIDTH),p={width:a,height:d,x:u,y:r-d/2};switch(e.kind){case"rbox":o=m.createRBox(p,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":o=m.createABox(p,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":o=m.createNote(p,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:s.default.LINE_WIDTH});break;default:o=m.createRect(p,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return c.appendChild(o),c.appendChild(l),c}e.clean=function(t,e){x.document=p.init(e),y.init(x.document),y.removeRenderedSVGFromElement(t)},e.render=function(t,e,r,n){var o=Object.freeze(u.flatten(t)),i=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return l.setPrefix(r),function(t,e,r,n){var o;x.document=p.bootstrap(e,r,l.get(),d.getMarkerDefs(l.get(),t),n),x.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,x.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,y.init(x.document),x.layers={lifeline:(o=x.document).getElementById(l.get("_lifelines")),sequence:o.getElementById(l.get("_sequence")),notes:o.getElementById(l.get("_notes")),inline:o.getElementById(l.get("_arcspans")),watermark:o.getElementById(l.get("_watermark"))},x.maxDepth=t.depth,function(t,e){v=new c.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=38,t.arcGradient=0,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+38,t.arcGradient=parseInt(e.arcgradient,10)+0),t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(x,t.options)}(o,e,i,n||{}),function(t){var e,r,n;_(t.entities,0,t.options),b.clear(v.getDims().height,x.arcRowHeight),e=t.arcs,r=t.entities,n=t.options,w=[],k(r,"arcrow",x.arcRowHeight,b.get(-1).y).forEach((function(t){x.layers.lifeline.appendChild(t)})),function(t,e,r){var n=0;t.forEach((function(t,o){t.every((function(t){return t.isVirtual}))?b.set(o,Math.max(b.get(o).height,A(t,e,r))):(b.set(o,Math.max(b.get(o).height,A(t,e,r)),n),n++)}))}(e,r,n),e.forEach((function(t,e){!function(t,e,r,n){var o="arcrow",i=[];t.forEach((function(t){var u={};switch(a.default(t.kind)){case"empty":u=L(t,b.get(e).y),"..."===t.kind&&(o="arcrowomit"),i.push({layer:x.layers.sequence,element:u});break;case"box":u=M(v.getOAndD(t.from,t.to),t,b.get(e).y,n),i.push({title:t.title,layer:x.layers.notes,element:u});break;case"inline_expression":u=S(t,b.get(e).y),i.push({layer:x.layers.notes,element:u}),w.push({arc:t,rownum:e});break;default:u=C(t,r,i,e,n)}})),k(r,o,b.get(e).height,b.get(e).y).forEach((function(t){x.layers.lifeline.appendChild(t)})),i.forEach((function(t){t.element&&(t.title&&t.element.appendChild(m.createTitle(t.title)),t.layer.appendChild(t.element))}))}(t,e,r,n)})),w.forEach((function(t){var e,r,n,o;x.layers.inline.appendChild((e=t,r=b.get(t.rownum).y,n=b.get(e.rownum).y,o=b.get(e.rownum+e.arc.numberofrows+1).y-n,e.arc.label="",function(t,e,r,n){var o=2*x.maxDepth*s.default.LINE_WIDTH,i=t.to-t.from+v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-o,a=t.from-(v.getDims().interEntitySpacing-2*s.default.LINE_WIDTH-o)/2,u=2*(x.maxDepth-e.depth)*s.default.LINE_WIDTH;return m.createRect({width:i+2*u,height:r||x.arcRowHeight-2*s.default.LINE_WIDTH,x:a-u,y:n},{class:"box inline_expression "+e.kind,color:e.linecolor,bgColor:e.textbgcolor})}(v.getOAndD(e.arc.from,e.arc.to),e.arc,o,r)))})),x.mirrorEntitiesOnBottom&&function(t,e){var r=b.getLast().y+(b.getLast().height+x.arcRowHeight)/2;k(t,"arcrow",x.arcRowHeight,r).forEach((function(t){x.layers.lifeline.appendChild(t)})),_(t,r+x.arcRowHeight/2,e)}(t.entities,t.options)}(o),function(t){var e,r,n=function(t){var e=g.determineDepthCorrection(t.depth,s.default.LINE_WIDTH),r=b.getLast(),n={width:t.entities.length*v.getDims().interEntitySpacing+e,height:Boolean(x.mirrorEntitiesOnBottom)?2*v.getDims().height+r.y+r.height+6:r.y+r.height/2+6,horizontaltransform:(v.getDims().interEntitySpacing+e-v.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:3,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);e=n,(r=x.document.getElementById(l.get("_background")))&&r.appendChild(m.createRect(e,{class:"bglayer"})),n=function(t,e){return t.watermark&&function(t,e){x.layers.watermark.appendChild(m.createDiagonalText(t,e,"watermark"))}(t.watermark,e),t.width&&"auto"!==t.width&&(e=g.scaleCanvasToWidth(t.width,e)),e}(t.options,n),function(t){var e=x.document.getElementById(l.get()),r=x.document.getElementById(l.get("_body"));r&&e&&(r.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&!0===t.autoscale?m.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):m.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}))}(n)}(o),y.webkitNamespaceBugWorkaround(i.innerHTML)}},138:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(630)),a=n(r(996)),u=n(r(433)),s=o(r(407)),c=o(r(743)),l=o(r(327));function f(t,e){return e&&t.setAttribute("style","fill:"+e+";"),t}function d(t,e,r,n,o){return function(t,e){return function(t,e){return"box"===i.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==i.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}(e,o)?a.default(t,function(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.createLabel=function(t,e,r,n){var o=c.createGroup(n);if(r=r||{},t.label){var i=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach((function(){t.push("")})),e.alignAround&&1===t.length&&t.push(""),t}(d(t.label,t.kind,e.width,u.default.FONT_SIZE,r),r),h=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(l.calculateTextHeight()+u.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(l.calculateTextHeight()+1)}(a,e,r);a.forEach((function(e,n){if(""!==e){var a=function(t,e,r,n,o,i){var a,d,h,p=r+(o+1/4)*l.calculateTextHeight(),g=function(t,e){var r=t,n=s.getClass(r),o=s.getAggregateClass(r);return n===o?n+e:o+e+n+e}(n.kind,"-text ");return i.alignLeft&&(g+="anchor-start "),i.alignAround&&(p=r+(o+1/4)*(l.calculateTextHeight()+u.default.LINE_WIDTH)),a=f(function(t,e,r,n,o){var i=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return c.createText(t,r,i)}(t,o,{x:e,y:p},g,n),n.textcolor),d=n.url,h=n.textcolor,f(a,d&&!h?"blue":h)}(e,i,h,t,n,r);r.ownBackground&&o.appendChild((d=a,p=t.textbgcolor,g=c.createRect(l.getBBox(d),{class:"label-text-background"}),p&&g.setAttribute("style","fill:"+p+"; stroke:"+p+";"),g)),o.appendChild(a)}var d,p,g;h++}))}return o},e.splitLabel=d},618:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(743)),a=o(r(433)),u=r(100),s={};function c(t,e,r){var n=i.createDefs();return n.appendChild(function(t,e){var r=s.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(s.createTextNode(function(t,e){return(r=f(t.additionalTemplate)||{},n=t.styleAdditions,(r.cssBefore||"")+u.baseTemplate+(r.cssAfter||"")+(n||"")).replace(/<%=fontSize%>/g,a.default.FONT_SIZE).replace(/<%=lineWidth%>/g,a.default.LINE_WIDTH).replace(/<%=id%>/g,e);var r,n}(t,e))),r}(r,t)),n=function(t,e){return e.forEach((function(e){"method"===e.type?t.appendChild(i.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(i.createMarkerPath(e.name,e.path,e.color))})),t}(n,e),n}function l(t){return i.init(t.document,{LINE_WIDTH:a.default.LINE_WIDTH,FONT_SIZE:a.default.FONT_SIZE}),t.document}function f(t){return u.namedStyles.find((function(e){return e.name===t}))}e.init=l,e.bootstrap=function(t,e,r,n,o){s=l(t);var a,u,d=i.createSVG(r,r,function(t){var e="",r=f(t.additionalTemplate);return Boolean(r)&&(e=r.renderMagic),e}(o));return Boolean(o.source)&&d.appendChild(function(t,e){var r=i.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),r}(t,o.source)),d.appendChild(c(r,n,o)),d.appendChild((a=r,(u=i.createGroup(a+"_body")).appendChild(i.createGroup(a+"_background")),u.appendChild(i.createGroup(a+"_arcspans")),u.appendChild(i.createGroup(a+"_lifelines")),u.appendChild(i.createGroup(a+"_sequence")),u.appendChild(i.createGroup(a+"_notes")),u.appendChild(i.createGroup(a+"_watermark")),u)),e.appendChild(d),s}},223:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(465));e.scaleCanvasToWidth=function(t,e){var r=o.default(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},e.determineDepthCorrection=function(t,e){return t?2*(t+1)*e*2:0},e.determineArcXTo=function(t,e,r){return"-x"===t?e+3/4*(r-e):r}},12:(t,e)=>{"use strict";e.__esModule=!0;var r=[],n=0,o=0;function i(t){return r[t]?r[t]:{y:n+1.5*o+t*o,height:o,realRowNumber:r.length-1}}function a(){return i(r.length-1)}e.get=i,e.getLast=a,e.clear=function(t,e){r=[],n=t,o=e},e.getByRealRowNumber=function(t){var e=r.find((function(e){return e.realRowNumber===t}));return void 0===e&&(e=a()),e},e.set=function(t,e,n){void 0===n&&(n=-1);var o=i(t-1);r[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:n}}},134:(t,e)=>{"use strict";e.__esModule=!0,e.SVGNS="http://www.w3.org/2000/svg",e.XLINKNS="http://www.w3.org/1999/xlink";var r={};function n(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function o(t,e,r,n){return Boolean(n)&&t.setAttributeNS(e,r,n),t}function i(t,e){return Object.keys(e||{}).forEach((function(r){n(t,r,e[r])})),t}e.setAttribute=n,e.setAttributeNS=o,e.setAttributes=i,e.setAttributesNS=function(t,e,r){return Object.keys(r||{}).forEach((function(n){o(t,e,n,r[n])})),t},e.createElement=function(t,n){return i(r.createElementNS(e.SVGNS,t),n)},e.createTextNode=function(t){return r.createTextNode(t)},e.init=function(t){r=t}},505:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t){return 0-360*Math.atan(t.height/t.width)/(2*Math.PI)}},743:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(172)),i=n(r(480)),a=n(r(183)),u=o,s={};e.init=function(t,e){i.init(t),s=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},e.createSVG=function(t,e,r){return u=function(t){return Boolean(t)?"wobbly"===t?a:o:u}(r),i.createSVG(t,e)},e.updateSVG=i.updateSVG,e.createTitle=i.createTitle,e.createDesc=i.createDesc,e.createDefs=i.createDefs,e.createTSpan=i.createTSpan,e.createRect=function(t,e){return u.createRect(t,e)},e.createRBox=function(t,e){return u.createRBox(t,e)},e.createABox=function(t,e){return u.createABox(t,e)},e.createNote=function(t,e){return u.createNote(t,e)},e.createEdgeRemark=function(t,e){return u.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:s.LINE_WIDTH})},e.createText=i.createText,e.createDiagonalText=i.createDiagonalText,e.createLine=function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=s.LINE_WIDTH),u.createDoubleLine(t,e)):u.createSingleLine(t,e)},e.createUTurn=i.createUTurn,e.createGroup=i.createGroup,e.createMarkerPath=i.createMarkerPath,e.createMarkerPolygon=i.createMarkerPolygon},212:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},172:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(480)),i=n(r(818));e.createDoubleLine=function(t,e){var r=e.lineWidth||1,n=r,a=e?e.class:"",u=i.getDirection(t),s=i.determineEndCorrection(t,a,r),c=i.determineStartCorrection(t,a,r),l=(t.xTo-t.xFrom+s-c).toString(),f=(t.yTo-t.yFrom).toString(),d=o.pathPoint2String("l",u.signX,u.dy),h=o.pathPoint2String("l",l,f);return o.createPath(o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*u.dy)+d+o.pathPoint2String("M",t.xFrom+c,t.yFrom-n)+h+o.pathPoint2String("M",t.xFrom+c,t.yFrom+n)+h+o.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*r*u.dy)+d,e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),i=n.toString(10);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width-n,0)+o.pathPoint2String("l",0,i)+o.pathPoint2String("l",i,0)+o.pathPoint2String("m",-i,-i)+o.pathPoint2String("l",i,i)+o.pathPoint2String("l",0,t.height-n)+o.pathPoint2String("l",-t.width,0)+o.pathPoint2String("l",0,-t.height)+"z",e)},e.createRBox=function(t,e){var r=Object.assign({rx:6,ry:6},e);return o.createRect(t,r)},e.createABox=function(t,e){return o.createPath(o.pathPoint2String("M",t.x,t.y+t.height/2)+o.pathPoint2String("l",3,-t.height/2)+o.pathPoint2String("l",t.width-6,0)+o.pathPoint2String("l",3,t.height/2)+o.pathPoint2String("l",-3,t.height/2)+o.pathPoint2String("l",-(t.width-6),0)+"z",e)},e.createEdgeRemark=function(t,e){var r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return o.createPath(o.pathPoint2String("M",t.x,t.y)+o.pathPoint2String("l",t.width,0)+o.pathPoint2String("l",0,t.height-r)+o.pathPoint2String("l",-r,r)+o.pathPoint2String("l",-(t.width-r),0),n)},e.createSingleLine=o.createSingleLine,e.createRect=o.createRect},480:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(134)),a=o(r(505)),u=o(r(212));function s(t){return u.default(t.x,2).toString()+","+u.default(t.y,2).toString()+" "}function c(t,e,r){return t+s({x:e,y:r})}function l(t,e,r,n){return i.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}function f(t,e){var r=i.createElement("tspan"),n=i.createTextNode(t);return r.appendChild(n),e?function(t,e){var r=i.createElement("a");return i.setAttributesNS(r,i.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function d(t,e,r){var n=Object.assign({class:null,url:null,id:null,idurl:null},r),o=i.createElement("text",{x:u.default(e.x,2).toString(),y:u.default(e.y,2).toString(),class:n.class});if(o.appendChild(f(t,n.url)),n.id){var a=f(" ["+n.id+"]",n.idurl);a.setAttribute("style","vertical-align:text-top;font-size:0.7em;text-anchor:start;"),o.appendChild(a)}return o}function h(t,e){var r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return p(i.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function p(t,e,r){var n="";return r&&(n+="fill:"+r+";"),e&&(n+="stroke:"+e+";"),i.setAttribute(t,"style",n)}e.point2String=s,e.pathPoint2String=c,e.createTSpan=f,e.createText=d,e.createPath=h,e.createSingleLine=function(t,e){return i.createElement("line",{x1:u.default(t.xFrom,2).toString(),y1:u.default(t.yFrom,2).toString(),x2:u.default(t.xTo,2).toString(),y2:u.default(t.yTo,2).toString(),class:e?e.class:null})},e.createRect=function(t,e){var r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return p(i.createElement("rect",{width:u.default(t.width,2),height:u.default(t.height,2),x:u.default(t.x,2),y:u.default(t.y,2),rx:u.default(r.rx,2),ry:u.default(r.ry,2),class:r.class}),r.color,r.bgColor)},e.createUTurn=function(t,e,r){var n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*n.lineWidth:t.x;return h(c("M",t.x,t.y-t.height/2)+c("C",t.x+t.width,t.y-7.5*n.lineWidth/2)+s({x:t.x+t.width,y:e+0})+s({x:o,y:e}),{class:n.class})},e.createGroup=function(t,e){return i.createElement("g",{id:t,class:e})},e.createMarkerPath=function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(h(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+r||0})),n},e.createMarkerPolygon=function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(i.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},e.createTitle=function(t){var e=i.createElement("title"),r=i.createTextNode(t);return e.appendChild(r),e},e.createDiagonalText=function(t,e,r){return i.setAttributes(d(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+u.default(a.default(e),2).toString()+" "+u.default(e.width/2,2).toString()+" "+u.default(e.height/2,2).toString()+")"})},e.createDesc=function(){return i.createElement("desc")},e.createDefs=function(){return i.createElement("defs")},e.createSVG=function(t,e){return i.createElement("svg",{version:"1.1",id:t,class:e,xmlns:i.SVGNS,"xmlns:xlink":i.XLINKNS,width:"0",height:"0"})},e.init=i.init,e.updateSVG=i.setAttributes},818:(t,e)=>{"use strict";e.__esModule=!0,e.determineStartCorrection=function(t,e,r){var n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},e.determineEndCorrection=function(t,e,r){var n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},e.getDirection=function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}},648:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(480)),i=n(r(818)),a=r(787);e.renderNotePathString=function(t,e){return o.pathPoint2String("M",t.x,t.y)+a.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+o.pathPoint2String("L",t.x,t.y+t.height)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+o.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return o.pathPoint2String("M",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width-e,t.y+e)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+o.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+t.height/2)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+o.pathPoint2String("L",t.x+e,t.y)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+o.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return o.pathPoint2String("M",t.x,t.y+e)+a.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.pathPoint2String("L",t.x+t.width-e,t.y)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+e,t.y+t.height)+a.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var r=e.lineWidth||1,n=r,u=e?e.class:"",s=i.getDirection(t),c=i.determineEndCorrection(t,u,r),l=i.determineStartCorrection(t,u,r);return o.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*s.dy)+o.pathPoint2String("l",s.signX,s.dy)+o.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+c,yTo:t.yTo-n})+o.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+c,yTo:t.yTo+n})+o.pathPoint2String("M",t.xTo-s.signX,t.yTo+7.5*r*s.dy)+o.pathPoint2String("l",s.signX,s.dy)},e.edgeRemark2CurveString=function(t,e){return o.pathPoint2String("M",t.x+t.width,t.y)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+o.pathPoint2String("L",t.x-1,t.y+t.height)}},787:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(212)),a=o(r(480)),u=o(r(818));function s(t){return t.map((function(t){return a.pathPoint2String("S",t.controlX,t.controlY)+" "+a.point2String(t)})).join(" ")}function c(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function l(t,e){var r=c(t);return r>0?Math.floor(r/e):0}function f(t){return Math.round(2*Math.random()*t)-t}function d(t,e,r){e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(c(e),t)}(e,t);for(var n,o=[],a=l(t,e),s=u.getDirection(t),d=s.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(s.dy,2))),h=s.signY*(Math.abs(s.dy)===1/0?e:Math.sqrt(Math.pow(s.dy,2)*Math.pow(e,2)/(1+Math.pow(s.dy,2)))),p=1;p<=a;p++)e>c({xFrom:(n={controlX:i.default(t.xFrom+(p-.5)*d+f(r),2),controlY:i.default(t.yFrom+(p-.5)*h+f(r),2),x:i.default(t.xFrom+p*d,2),y:i.default(t.yFrom+p*h,2)}).x,yFrom:n.y,xTo:t.xTo,yTo:t.yTo})&&(n.x=t.xTo,n.y=t.yTo),o.push(n);return o}e.points2CurveString=s,e.line2CurveString=function(t){return s(d(t,70,3))},e.getLineLength=c,e.getNumberOfSegments=l,e.getBetweenPoints=d},183:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=r(648),a=r(787),u=n(r(212)),s=o(r(480)),c=o(r(818));e.createSingleLine=function(t,e){void 0===e&&(e={});var r=c.getDirection(t);return s.createPath(s.pathPoint2String("M",t.xFrom,t.yFrom)+s.pathPoint2String("L",u.default(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:u.default(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+a.line2CurveString(t),e)},e.createNote=function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),o=s.createGroup();return o.appendChild(s.createPath(i.renderNotePathString(t,n),e)),e.bgColor="transparent",o.appendChild(s.createPath(i.renderNoteCornerString(t,n),e)),o},e.createRect=function(t,e){return s.createPath(i.rbox2CurveString(t,0),e)},e.createABox=function(t,e){return s.createPath(i.abox2CurveString(t,3),e)},e.createRBox=function(t,e){return s.createPath(i.rbox2CurveString(t,6),e)},e.createEdgeRemark=function(t,e){var r=e&&e.lineWidth||1,n=s.createGroup(),o=e&&e.foldSize?e.foldSize:7,a=e&&e.color?e.color:"black";e.color="transparent!important";var u=s.createPath(s.pathPoint2String("M",t.x,t.y+r/2)+s.pathPoint2String("L",t.x+t.width,t.y+r/2)+s.pathPoint2String("L",t.x+t.width,t.y+t.height-o)+s.pathPoint2String("L",t.x+t.width-o,t.y+t.height)+s.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=a;var c=s.createPath(i.edgeRemark2CurveString(t,o),e);return n.appendChild(u),n.appendChild(c),n},e.createDoubleLine=function(t,e){return s.createPath(i.doubleLine2CurveString(t,e),{class:e.class})}},327:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(773)),a=o(r(721)),u=o(r(743)),s={},c=a.get("bboxer");function l(t){return"function"==typeof t.getBBox?(e=function(t){var e=s.getElementById(c);(e=e||function(t){var e=u.createSVG(t,a.get());return s.body.appendChild(e),e}(c)).appendChild(t);var r=t.getBBox();return e.removeChild(t),r}(t),r=1e5,Math.abs(e.height)>r||Math.abs(e.width)>r?{height:0,width:0,x:0,y:0}:e):{height:15,width:15,x:2,y:2};var e,r}e.getBBox=l,e.removeRenderedSVGFromElement=function(t){a.setPrefix(t);var e=s.getElementById(a.get());if(Boolean(e)){var r=s.getElementById(t);r?r.removeChild(e):s.body.removeChild(e)}},e.init=function(t){s=t},e.calculateTextHeight=i.default((function(){return l(u.createText("jy9@",{x:0,y:0})).height})),e.webkitNamespaceBugWorkaround=function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},616:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var i=n(r(465)),a=n(r(630)),u=n(r(355)),s=o(r(98)),c=n(r(996)),l=o(r(277)),f="  ",d=0;function h(t,e){return e+'="'+function(t){var e=c.default(t.replace(/"/g,'\\"'),40);return e.slice(0,-1).reduce((function(t,e){return t+e+"\n"}),"")+e.slice(-1)}(t)+'"'}function p(t,e,r){Boolean(e)&&t.push(h(e,r))}function g(t){return["label","color","fontcolor","fillcolor"].filter((function(e){return Boolean(t[e])})).map((function(e){return h(t[e],e)}))}function b(t){return t.slice(0,-1).reduce((function(t,e){return t+e+", "})," [")+(t.slice(-1)+"]")}function m(t){return'"'+t+'"'}function y(t,e){return t.reduce((function(t,r){return t+r.reduce((function(t,r){return t+function(t,e){var r="";return t.from&&t.to&&(r+=f+e+function(t,e,r){var n="",o=a.default(t.kind);return n+="box"===o?function(t,e,r){var n="",o="box"+e.toString();n+=o;var i=g(t);return p(i,l.getStyle(t.kind),"style"),p(i,l.getShape(t.kind),"shape"),n+=b(i)+"\n"+f+r,p(i=[],"dotted","style"),p(i,"none","dir"),(n+=o+" -- {"+m(t.from)+","+m(t.to)+"}")+b(i)}(t,e,r):function(t,e,r){var n="";t.label=function(t,e){return e?"("+t+") "+e:"("+t+")"}(r,t.label);var o=g(t);switch(p(o,l.getStyle(t.kind),"style"),e){case"directional":p(o,l.getArrow(t.kind),"arrowhead");break;case"bidirectional":p(o,l.getArrow(t.kind),"arrowhead"),p(o,l.getArrow(t.kind),"arrowtail"),p(o,"both","dir");break;case"nondirectional":p(o,"none","dir")}return t.arcs||(n+=m(t.from)+" ",n+="--",n+=" "+m(t.to),n+=b(o)),n}(t,o,e),n}(t,++d,e)+"\n",t.arcs&&(r+=f+e+"subgraph cluster_"+d.toString()+"{",r+="\n  "+e+' label="'+t.kind+": "+t.label+'" labeljust="l"\n',r+=y(t.arcs,e+f),r+=f+e+"}\n")),r}(r,e)}),"")}),"")}function v(t){return t.arcs&&t.arcs.forEach((function(e,r){e.filter((function(t){return"*"===t.to})).forEach((function(n,o){var a=i.default(n);delete t.arcs[r][o];var u=function(t,e){return t.filter((function(t){return e.from!==t.name})).map((function(t){return e.to=t.name,i.default(e)}))}(t.entities,a);e[o]=u.shift(),t.arcs[r]=e.concat(u)}))})),t}e.explodeBroadcasts=v,e.render=function(t){var e=function(t){return v(u.default(t,[s.nameAsLabel],[s.swapRTLArc,s.overrideColors]))}(i.default(t)),r="/* Sequence chart represented as a directed graph\n * in the graphviz dot language (http://graphviz.org/)\n *\n * Generated by mscgen_js (https://sverweij.github.io/mscgen_js)\n */\n\ngraph {\n";return r+="  rankdir=LR\n",r+="  splines=true\n",r+="  ordering=out\n",r+='  fontname="Helvetica"\n',r+='  fontsize="9"\n',r+='  node [style=filled, fillcolor=white fontname="Helvetica", fontsize="9" ]\n',r+='  edge [fontname="Helvetica", fontsize="9", arrowhead=vee, arrowtail=vee, dir=forward]\n',r+="\n",r+=e.entities.reduce((function(t,e){return t+f+function(t){return m(t.name)+b(g(t))}(e)+";\n"}),"")+"\n",e.arcs&&(d=0,r+=y(e.arcs,"")),r+"}"}},671:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this,{program:{opener:" * \\msc\n",closer:" * \\endmsc"},option:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},entity:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},arcline:{opener:" *   ",separator:",\n *   ",closer:";\n"},inline:{opener:";\n",closer:" * #"}})},e.prototype.renderComments=function(){return""},e}(r(867).MscGenAdaptor);e.render=function(t){return new i(!1).render(t)}},867:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var a=i(r(630)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(e){t.prototype.init.call(this,Object.assign({supportedOptions:["hscale","width","arcgradient","wordwraparcs"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],inline:{opener:";"+this.eol,closer:"#"}},e))},e.prototype.renderKind=function(t){return"inline_expression"===a.default(t)?"--":t},e.prototype.optionIsValid=function(t){return!Boolean(t.value)||"string"!=typeof t.value||"auto"!==t.value.toLowerCase()},e}(r(593).XuAdaptor);e.MscGenAdaptor=u,e.render=function(t,e){return void 0===e&&(e=!1),new u(e).render(t)}},872:function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});e.__esModule=!0;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.init=function(){t.prototype.init.call(this,{supportedEntityAttributes:["label"],supportedArcAttributes:["label"],program:{opener:"",closer:""},option:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},entity:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},arcline:{opener:"",separator:","+this.eol,closer:";"+this.eol},inline:{opener:" {"+this.eol,closer:"}"},attribute:{opener:"",separator:"",closer:""}})},e.prototype.renderEntityName=function(t){return this.entityNameIsQuotable(t)?'"'+t+'"':t},e.prototype.renderAttribute=function(t){var e="";return t.name&&t.value&&(e+=' : "'+t.value+'"'),e},e.prototype.entityNameIsQuotable=function(t){var e=t.match(/[^;, "\t\n\r=\-><:{*]+/gi);return e?1!==e.length:"*"!==t},e}(r(593).XuAdaptor);e.render=function(t){return(new i).render(t)}},593:function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e};e.__esModule=!0;var o=n(r(701)),i=n(r(249)),a=function(){function t(t){void 0===t&&(t=!1),this.indent="  ",this.space=" ",this.eol="\n",this.config={},!0===t?(this.indent="",this.space="",this.eol=""):(this.indent="  ",this.space=" ",this.eol="\n"),this.init(this.config)}return t.prototype.init=function(t){this.config=Object.assign({},this.getConfig(),t)},t.prototype.render=function(t){var e="";return t.precomment&&(e+=this.renderComments(t.precomment)),e+=this.config.program.opener,t.options&&(e+=this.renderOptions(t.options)),e+=this.renderEntities(t.entities),t.arcs&&(e+=this.renderArcLines(t.arcs,"")),e+this.config.program.closer},t.prototype.renderEntityName=function(t){return this.isQuotable(t)?'"'+t+'"':t},t.prototype.renderAttribute=function(t){var e="";return t.name&&t.hasOwnProperty("value")&&(e="string"==typeof t.value?this.renderStringAttribute(t):this.renderNonStringAttribute(t)),e},t.prototype.renderComments=function(t){return t.reduce((function(t,e){return t+e}),"")},t.prototype.renderOption=function(t){return t.name+"="+("string"==typeof t.value?'"'+i.escapeString(t.value)+'"':t.value.toString())},t.prototype.optionIsValid=function(t){return!0},t.prototype.renderKind=function(t){return t},t.prototype.renderStringAttribute=function(t){return t.name+'="'+i.escapeString(t.value)+'"'},t.prototype.renderNonStringAttribute=function(t){return t.name+"="+t.value},t.prototype.getConfig=function(){return{supportedOptions:["hscale","width","arcgradient","wordwraparcs","watermark","wordwrapentities","wordwrapboxes"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip","title","activation"],program:{opener:"msc"+this.space+"{"+this.eol,closer:"}"},option:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},entity:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},attribute:{opener:this.space+"[",separator:","+this.space,closer:"]"},arcline:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol},inline:{opener:this.space+"{"+this.eol,closer:this.indent+"}"}}},t.prototype.extractSupportedOptions=function(t,e){return e.filter((function(e){return void 0!==t[e]})).map((function(e){return{name:e,value:t[e]}}))},t.prototype.isQuotable=function(t){var e=t.match(/[a-z0-9]+/gi);return e?1!==e.length||o.isMscGenKeyword(t):"*"!==t},t.prototype.renderOptions=function(t){var e=this,r=this.extractSupportedOptions(t,this.config.supportedOptions).filter(this.optionIsValid),n="";if(r.length>0){var o=r.pop();n=r.reduce((function(t,r){return t+e.renderOption(r)+e.config.option.separator}),this.config.option.opener),n+=this.renderOption(o)+this.config.option.closer}return n},t.prototype.renderEntity=function(t){return this.renderEntityName(t.name)+this.renderAttributes(t,this.config.supportedEntityAttributes)},t.prototype.renderEntities=function(t){var e=this,r="";return t.length>0&&(r=t.slice(0,-1).reduce((function(t,r){return t+e.renderEntity(r)+e.config.entity.separator}),this.config.entity.opener),r+=this.renderEntity(t[t.length-1])+this.config.entity.closer),r},t.prototype.renderAttributes=function(t,e){var r=this,n="",o=this.extractSupportedOptions(t,e);if(o.length>0){var i=o.pop();n=o.reduce((function(t,e){return t+r.renderAttribute(e)+r.config.attribute.separator}),this.config.attribute.opener),n+=this.renderAttribute(i)+this.config.attribute.closer}return n},t.prototype.renderArc=function(t,e){var r="";return t.from&&(r+=this.renderEntityName(t.from)+" "),r+=this.renderKind(t.kind),t.to&&(r+=" "+this.renderEntityName(t.to)),r+=this.renderAttributes(t,this.config.supportedArcAttributes),t.arcs&&(r+=this.config.inline.opener,r+=this.renderArcLines(t.arcs,e+this.indent),r+=e+this.config.inline.closer),null===t.arcs&&(r+=this.config.inline.opener,r+=e+this.config.inline.closer),r},t.prototype.renderArcLine=function(t,e){var r=this,n="";return t.length>0&&(n=t.slice(0,-1).reduce((function(t,n){return t+e+r.renderArc(n,e)+r.config.arcline.separator}),this.config.arcline.opener),n+=e+this.renderArc(t[t.length-1],e)+this.config.arcline.closer),n},t.prototype.renderArcLines=function(t,e){var r=this;return t.reduce((function(t,n){return t+r.renderArcLine(n,e)}),"")},t}();e.XuAdaptor=a,e.render=function(t,e){return void 0===e&&(e=!1),new a(e).render(t)}},277:(t,e)=>{"use strict";e.__esModule=!0;var r=Object.freeze({"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"}),n=Object.freeze({box:"box",abox:"hexagon",rbox:"box",note:"note"}),o=Object.freeze({">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"});e.getArrow=function(t){return r[t]},e.getShape=function(t){return n[t]},e.getStyle=function(t){return o[t]}},249:(t,e)=>{"use strict";e.__esModule=!0,e.unescapeString=function(t){return t.replace(/\\"/g,'"')},e.escapeString=function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},996:(t,e)=>{"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=0,n=[],o=0,i=0,a=0,u=0,s=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");u<=s.length;)u>=s.length?n.push(s.substring(o,u)):"\n"===s[u]?(r=0,a=u,n.push(s.substring(o,a)),o=a+1):r++>=e&&(-1===(a=s.substring(0,u).lastIndexOf(" "))||a<o?(r=1,a=u,i=u):(r=0,i=a+1),n.push(s.substring(o,a)),o=i),u++;return n}},238:function(t,e,r){var n,o,i;o=[r(730),r(701)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=e,i.found=n,i.location=o,i.name="SyntaxError",i}function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(o){var u=this.location.end,s=n("",i.line.toString().length," "),c=o[i.line-1],l=(i.line===u.line?u.column:c.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+s+" |\n"+i.line+" | "+c+"\n"+s+" | "+n("",i.column-1," ")+n("",l,"^")}else e+="\n at "+a}return e},r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){var i,a,u,s,c={},l=(o=void 0!==o?o:{}).grammarSource,f={program:Ue},d=Ue,h=",",p=";",g="*",b="|||",m="...",y="---",v="<<=>>",x="<<>>",w="note",_="abox",C="rbox",A="label",S="idurl",k="linecolor",L="linecolour",E="textcolor",T="textcolour",M="textbgcolor",O="textbgcolour",j="arclinecolor",F="arclinecolour",I="arctextcolor",P="arctextcolour",D="arctextbgcolor",B="arctextbgcolour",N="arcskip",H='"',W='\\"',R="*/",G=/^[A-Za-z_0-9]/,z=/^[ \t]/,X=/^[\r\n]/,V=/^[^\r\n]/,q=/^[0-9]/,U=Re("{",!1),$=Re("}",!1),K=Re("msc",!0),Z=Re(",",!1),Y=Re(";",!1),Q=ze("option"),J=Re("hscale",!0),tt=Re("width",!0),et=Re("arcgradient",!0),rt=Re("=",!1),nt=Re("wordwraparcs",!0),ot=ze("entity"),it=Re("[",!1),at=Re("]",!1),ut=Re("*",!1),st=ze("empty row"),ct=Re("|||",!1),lt=Re("...",!1),ft=ze("---"),dt=Re("---",!1),ht=ze("bi-directional arrow"),pt=Re("--",!1),gt=Re("<->",!1),bt=Re("==",!1),mt=Re("<<=>>",!1),yt=Re("<=>",!1),vt=Re("..",!1),xt=Re("<<>>",!1),wt=Re("::",!1),_t=Re("<:>",!1),Ct=ze("left to right arrow"),At=Re("->",!1),St=Re("=>>",!1),kt=Re("=>",!1),Lt=Re(">>",!1),Et=Re(":>",!1),Tt=Re("-x",!0),Mt=ze("right to left arrow"),Ot=Re("<-",!1),jt=Re("<<=",!1),Ft=Re("<=",!1),It=Re("<<",!1),Pt=Re("<:",!1),Dt=Re("x-",!0),Bt=ze("box"),Nt=Re("note",!0),Ht=Re("abox",!0),Wt=Re("rbox",!0),Rt=Re("box",!0),Gt=ze("attribute name"),zt=Re("label",!0),Xt=Re("idurl",!0),Vt=Re("id",!0),qt=Re("url",!0),Ut=Re("linecolor",!0),$t=Re("linecolour",!0),Kt=Re("textcolor",!0),Zt=Re("textcolour",!0),Yt=Re("textbgcolor",!0),Qt=Re("textbgcolour",!0),Jt=Re("arclinecolor",!0),te=Re("arclinecolour",!0),ee=Re("arctextcolor",!0),re=Re("arctextcolour",!0),ne=Re("arctextbgcolor",!0),oe=Re("arctextbgcolour",!0),ie=Re("arcskip",!0),ae=ze("double quoted string"),ue=Re('"',!1),se=Re('\\"',!1),ce={type:"any"},le=ze("identifier"),fe=Ge([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),de=ze("whitespace"),he=Ge([" ","\t"],!1,!1),pe=ze("lineend"),ge=Ge(["\r","\n"],!1,!1),be=Re("/*",!1),me=Re("*/",!1),ye=Re("//",!1),ve=Re("#",!1),xe=Ge(["\r","\n"],!0,!1),we=ze("comment"),_e=ze("number"),Ce=ze("cardinal"),Ae=Ge([["0","9"]],!1,!1),Se=ze("real"),ke=Re(".",!1),Le=ze("boolean"),Ee=Re("true",!0),Te=Re("false",!0),Me=Re("on",!0),Oe=Re("off",!0),je=Re("0",!1),Fe=Re("1",!1),Ie=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw function(t,e){return new r(t,null,null,e)}(t,e=void 0!==e?e:Ve(De,Pe))}("Keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},Pe=0,De=0,Be=[{line:1,column:1}],Ne=0,He=[],We=0;if("startRule"in o){if(!(o.startRule in f))throw new Error("Can't start parsing from rule \""+o.startRule+'".');d=f[o.startRule]}function Re(t,e){return{type:"literal",text:t,ignoreCase:e}}function Ge(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function ze(t){return{type:"other",description:t}}function Xe(t){var e,r=Be[t];if(r)return r;for(e=t-1;!Be[e];)e--;for(r={line:(r=Be[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Be[t]=r,r}function Ve(t,e){var r=Xe(t),n=Xe(e);return{source:l,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function qe(t){Pe<Ne||(Pe>Ne&&(Ne=Pe,He=[]),He.push(t))}function Ue(){var r,o,i,a,u,s,l;return r=Pe,o=hr(),function(){var t;return"msc"===n.substr(Pe,3).toLowerCase()?(t=n.substr(Pe,3),Pe+=3):(t=c,0===We&&qe(K)),t}()!==c?(hr(),123===n.charCodeAt(Pe)?(i="{",Pe++):(i=c,0===We&&qe(U)),i!==c?(hr(),a=function(){var e,r,o,i;return e=Pe,(r=function(){var e,r,o,i,a,u;for(e=Pe,r=Pe,o=[],i=Pe,(a=$e())!==c?(44===n.charCodeAt(Pe)?(u=h,Pe++):(u=c,0===We&&qe(Z)),u!==c?(De=i,i=a):(Pe=i,i=c)):(Pe=i,i=c);i!==c;)o.push(i),i=Pe,(a=$e())!==c?(44===n.charCodeAt(Pe)?(u=h,Pe++):(u=c,0===We&&qe(Z)),u!==c?(De=i,i=a):(Pe=i,i=c)):(Pe=i,i=c);return i=Pe,(a=$e())!==c?(59===n.charCodeAt(Pe)?(u=p,Pe++):(u=c,0===We&&qe(Y)),u!==c?(De=i,i=a):(Pe=i,i=c)):(Pe=i,i=c),i!==c?r=o=[o,i]:(Pe=r,r=c),r!==c&&(De=e,r=function(e){return e[0].concat(e[1]).reduce(t,{})}(r)),r}())===c&&(r=null),(o=function(){var t,e,r,o,i,a;for(t=Pe,e=Pe,r=[],o=Pe,(i=Ke())!==c?(44===n.charCodeAt(Pe)?(a=h,Pe++):(a=c,0===We&&qe(Z)),a!==c?(De=o,o=i):(Pe=o,o=c)):(Pe=o,o=c);o!==c;)r.push(o),o=Pe,(i=Ke())!==c?(44===n.charCodeAt(Pe)?(a=h,Pe++):(a=c,0===We&&qe(Z)),a!==c?(De=o,o=i):(Pe=o,o=c)):(Pe=o,o=c);return o=Pe,(i=Ke())!==c?(59===n.charCodeAt(Pe)?(a=p,Pe++):(a=c,0===We&&qe(Y)),a!==c?(De=o,o=i):(Pe=o,o=c)):(Pe=o,o=c),o!==c?e=r=[r,o]:(Pe=e,e=c),e!==c&&(De=t,u=e,e=u[0].concat(u[1])),e;var u}())===c&&(o=null),(i=function(){var t,e,r,o;if(t=[],e=Pe,(r=Ze())!==c?(hr(),59===n.charCodeAt(Pe)?(o=p,Pe++):(o=c,0===We&&qe(Y)),o!==c?(De=e,e=r):(Pe=e,e=c)):(Pe=e,e=c),e!==c)for(;e!==c;)t.push(e),e=Pe,(r=Ze())!==c?(hr(),59===n.charCodeAt(Pe)?(o=p,Pe++):(o=c,0===We&&qe(Y)),o!==c?(De=e,e=r):(Pe=e,e=c)):(Pe=e,e=c);else t=c;return t}())===c&&(i=null),De=e,function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i)}(),hr(),125===n.charCodeAt(Pe)?(u="}",Pe++):(u=c,0===We&&qe($)),u!==c?(hr(),De=r,s=o,(l=a).entities=l.entities||[],e.checkForUndeclaredEntities(l.entities,l.arcs),l=t({meta:{extendedOptions:!1,extendedArcTypes:!1,extendedFeatures:!1}},l),s.length>0&&(l=t({precomment:s},l)),r=l):(Pe=r,r=c)):(Pe=r,r=c)):(Pe=r,r=c),r}function $e(){var t,r,o,i,a,u;return We++,t=Pe,hr(),"hscale"===n.substr(Pe,6).toLowerCase()?(r=n.substr(Pe,6),Pe+=6):(r=c,0===We&&qe(J)),r===c&&("width"===n.substr(Pe,5).toLowerCase()?(r=n.substr(Pe,5),Pe+=5):(r=c,0===We&&qe(tt)),r===c&&("arcgradient"===n.substr(Pe,11).toLowerCase()?(r=n.substr(Pe,11),Pe+=11):(r=c,0===We&&qe(et)))),r!==c?(hr(),61===n.charCodeAt(Pe)?(o="=",Pe++):(o=c,0===We&&qe(rt)),o!==c?(hr(),(i=function(){var t,e;return We++,t=Pe,(e=function(){var t,e,r,o;return t=Pe,34===n.charCodeAt(Pe)?(e=H,Pe++):(e=c,0===We&&qe(ue)),e!==c&&(r=pr())!==c?(34===n.charCodeAt(Pe)?(o=H,Pe++):(o=c,0===We&&qe(ue)),o!==c?(De=t,i=r,t=i.toString()):(Pe=t,t=c)):(Pe=t,t=c),t;var i}())!==c&&(De=t,e=e),(t=e)===c&&(t=Pe,(e=pr())!==c&&(De=t,r=e,e=r.toString()),t=e),We--,t===c&&(e=c,0===We&&qe(_e)),t;var r}())!==c?(hr(),De=t,a=r,u=i,t=e.nameValue2Option(a,u)):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c),t===c&&(t=Pe,hr(),"wordwraparcs"===n.substr(Pe,12).toLowerCase()?(r=n.substr(Pe,12),Pe+=12):(r=c,0===We&&qe(nt)),r!==c?(hr(),61===n.charCodeAt(Pe)?(o="=",Pe++):(o=c,0===We&&qe(rt)),o!==c?(hr(),(i=function(){var t,e;return We++,t=Pe,(e=function(){var t,e,r,o;return t=Pe,34===n.charCodeAt(Pe)?(e=H,Pe++):(e=c,0===We&&qe(ue)),e!==c&&(r=br())!==c?(34===n.charCodeAt(Pe)?(o=H,Pe++):(o=c,0===We&&qe(ue)),o!==c?(De=t,t=r):(Pe=t,t=c)):(Pe=t,t=c),t}())!==c&&(De=t,e=e),(t=e)===c&&(t=Pe,(e=br())!==c&&(De=t,r=e,e=r.toString()),t=e),We--,t===c&&(e=c,0===We&&qe(Le)),t;var r}())!==c?(hr(),De=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c)),We--,t===c&&0===We&&qe(Q),t}function Ke(){var e,r,o,i,a,u;return We++,e=Pe,hr(),(r=nr())!==c?(hr(),o=Pe,91===n.charCodeAt(Pe)?(i="[",Pe++):(i=c,0===We&&qe(it)),i!==c&&(a=er())!==c?(93===n.charCodeAt(Pe)?(u="]",Pe++):(u=c,0===We&&qe(at)),u!==c?(De=o,o=a):(Pe=o,o=c)):(Pe=o,o=c),o===c&&(o=null),i=hr(),De=e,e=t({name:r},o)):(Pe=e,e=c),e===c&&(e=Pe,hr(),(r=ir())!==c?(hr(),o=Pe,91===n.charCodeAt(Pe)?(i="[",Pe++):(i=c,0===We&&qe(it)),i!==c&&(a=er())!==c?(93===n.charCodeAt(Pe)?(u="]",Pe++):(u=c,0===We&&qe(at)),u!==c?(De=o,o=function(t,e){return e}(0,a)):(Pe=o,o=c)):(Pe=o,o=c),o===c&&(o=null),i=hr(),De=e,e=Ie(r,o)):(Pe=e,e=c)),We--,e===c&&0===We&&qe(ot),e}function Ze(){var t,e,r,o,i,a,u;for(t=Pe,e=Pe,r=[],o=Pe,(i=Ye())!==c?(hr(),44===n.charCodeAt(Pe)?(a=h,Pe++):(a=c,0===We&&qe(Z)),a!==c?(De=o,o=i):(Pe=o,o=c)):(Pe=o,o=c);o!==c;)r.push(o),o=Pe,(i=Ye())!==c?(hr(),44===n.charCodeAt(Pe)?(a=h,Pe++):(a=c,0===We&&qe(Z)),a!==c?(De=o,o=i):(Pe=o,o=c)):(Pe=o,o=c);return o=Pe,(i=Ye())!==c&&(De=o,i=i),(o=i)!==c?e=r=[r,o]:(Pe=e,e=c),e!==c&&(De=t,e=(u=e)[0].concat(u[1])),e}function Ye(){var e,r,o,i,a,u;return e=Pe,r=Pe,(o=function(){var t,e;return t=Pe,hr(),(e=function(){var t;return We++,n.substr(Pe,3)===b?(t=b,Pe+=3):(t=c,0===We&&qe(ct)),t===c&&(n.substr(Pe,3)===m?(t=m,Pe+=3):(t=c,0===We&&qe(lt))),We--,t===c&&0===We&&qe(st),t}())!==c?(hr(),De=t,r=e,t={kind:r}):(Pe=t,t=c),t;var r}())!==c&&(De=r,o=o),(r=o)===c&&(r=Pe,(o=function(){var t,e,r,o;return t=Pe,hr(),(e=or())!==c?(hr(),(r=function(){var t,e;return t=Pe,(e=Qe())===c&&(e=Je())===c&&(e=tr())===c&&(e=function(){var t;return We++,n.substr(Pe,4).toLowerCase()===w?(t=n.substr(Pe,4),Pe+=4):(t=c,0===We&&qe(Nt)),t===c&&(n.substr(Pe,4).toLowerCase()===_?(t=n.substr(Pe,4),Pe+=4):(t=c,0===We&&qe(Ht)),t===c&&(n.substr(Pe,4).toLowerCase()===C?(t=n.substr(Pe,4),Pe+=4):(t=c,0===We&&qe(Wt)),t===c&&("box"===n.substr(Pe,3).toLowerCase()?(t=n.substr(Pe,3),Pe+=3):(t=c,0===We&&qe(Rt))))),We--,t===c&&0===We&&qe(Bt),t}()),e!==c&&(De=t,r=e,e=r.toLowerCase()),e;var r}())!==c?(hr(),(o=or())!==c?(hr(),De=t,i=e,a=r,u=o,t={kind:a,from:i,to:u}):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c),t===c&&(t=Pe,hr(),42===n.charCodeAt(Pe)?(e=g,Pe++):(e=c,0===We&&qe(ut)),e!==c?(hr(),(r=tr())!==c?(hr(),(o=or())!==c?(hr(),De=t,t=function(t,e){return{kind:t,from:"*",to:e}}(r,o)):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c),t===c&&(t=Pe,hr(),(e=or())!==c?(hr(),(r=Je())!==c?(hr(),42===n.charCodeAt(Pe)?(o=g,Pe++):(o=c,0===We&&qe(ut)),o!==c?(hr(),De=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c),t===c&&(t=Pe,hr(),(e=or())!==c?(hr(),(r=Qe())!==c?(hr(),42===n.charCodeAt(Pe)?(o=g,Pe++):(o=c,0===We&&qe(ut)),o!==c?(hr(),De=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c)))),t;var i,a,u}())!==c&&(De=r,o=o),(r=o)===c&&(r=Pe,(o=function(){var t,e;return t=Pe,hr(),(e=function(){var t;return We++,n.substr(Pe,3)===y?(t=y,Pe+=3):(t=c,0===We&&qe(dt)),We--,t===c&&0===We&&qe(ft),t}())!==c?(hr(),De=t,r=e,t={kind:r}):(Pe=t,t=c),t;var r}())!==c&&(De=r,o=o),r=o)),r!==c?(o=Pe,91===n.charCodeAt(Pe)?(i="[",Pe++):(i=c,0===We&&qe(it)),i!==c&&(a=er())!==c?(93===n.charCodeAt(Pe)?(u="]",Pe++):(u=c,0===We&&qe(at)),u!==c?(De=o,o=a):(Pe=o,o=c)):(Pe=o,o=c),o===c&&(o=null),De=e,e=function(e,r){return t(e,r)}(r,o)):(Pe=e,e=c),e}function Qe(){var t;return We++,"--"===n.substr(Pe,2)?(t="--",Pe+=2):(t=c,0===We&&qe(pt)),t===c&&("<->"===n.substr(Pe,3)?(t="<->",Pe+=3):(t=c,0===We&&qe(gt)),t===c&&("=="===n.substr(Pe,2)?(t="==",Pe+=2):(t=c,0===We&&qe(bt)),t===c&&(n.substr(Pe,5)===v?(t=v,Pe+=5):(t=c,0===We&&qe(mt)),t===c&&("<=>"===n.substr(Pe,3)?(t="<=>",Pe+=3):(t=c,0===We&&qe(yt)),t===c&&(".."===n.substr(Pe,2)?(t="..",Pe+=2):(t=c,0===We&&qe(vt)),t===c&&(n.substr(Pe,4)===x?(t=x,Pe+=4):(t=c,0===We&&qe(xt)),t===c&&("::"===n.substr(Pe,2)?(t="::",Pe+=2):(t=c,0===We&&qe(wt)),t===c&&("<:>"===n.substr(Pe,3)?(t="<:>",Pe+=3):(t=c,0===We&&qe(_t)))))))))),We--,t===c&&0===We&&qe(ht),t}function Je(){var t;return We++,"->"===n.substr(Pe,2)?(t="->",Pe+=2):(t=c,0===We&&qe(At)),t===c&&("=>>"===n.substr(Pe,3)?(t="=>>",Pe+=3):(t=c,0===We&&qe(St)),t===c&&("=>"===n.substr(Pe,2)?(t="=>",Pe+=2):(t=c,0===We&&qe(kt)),t===c&&(">>"===n.substr(Pe,2)?(t=">>",Pe+=2):(t=c,0===We&&qe(Lt)),t===c&&(":>"===n.substr(Pe,2)?(t=":>",Pe+=2):(t=c,0===We&&qe(Et)),t===c&&("-x"===n.substr(Pe,2).toLowerCase()?(t=n.substr(Pe,2),Pe+=2):(t=c,0===We&&qe(Tt))))))),We--,t===c&&0===We&&qe(Ct),t}function tr(){var t;return We++,"<-"===n.substr(Pe,2)?(t="<-",Pe+=2):(t=c,0===We&&qe(Ot)),t===c&&("<<="===n.substr(Pe,3)?(t="<<=",Pe+=3):(t=c,0===We&&qe(jt)),t===c&&("<="===n.substr(Pe,2)?(t="<=",Pe+=2):(t=c,0===We&&qe(Ft)),t===c&&("<<"===n.substr(Pe,2)?(t="<<",Pe+=2):(t=c,0===We&&qe(It)),t===c&&("<:"===n.substr(Pe,2)?(t="<:",Pe+=2):(t=c,0===We&&qe(Pt)),t===c&&("x-"===n.substr(Pe,2).toLowerCase()?(t=n.substr(Pe,2),Pe+=2):(t=c,0===We&&qe(Dt))))))),We--,t===c&&0===We&&qe(Mt),t}function er(){var e,r,o,i,a,u,s;for(e=Pe,r=Pe,o=[],i=Pe,(a=rr())!==c?(44===n.charCodeAt(Pe)?(u=h,Pe++):(u=c,0===We&&qe(Z)),u!==c?(De=i,i=a):(Pe=i,i=c)):(Pe=i,i=c);i!==c;)o.push(i),i=Pe,(a=rr())!==c?(44===n.charCodeAt(Pe)?(u=h,Pe++):(u=c,0===We&&qe(Z)),u!==c?(De=i,i=a):(Pe=i,i=c)):(Pe=i,i=c);return i=Pe,(a=rr())!==c&&(De=i,a=a),(i=a)!==c?r=o=[o,i]:(Pe=r,r=c),r!==c&&(De=e,r=(s=r)[0].concat(s[1]).reduce(t,{})),r}function rr(){var t,e,r,o,i,a;return t=Pe,hr(),(e=function(){var t;return We++,n.substr(Pe,5).toLowerCase()===A?(t=n.substr(Pe,5),Pe+=5):(t=c,0===We&&qe(zt)),t===c&&(n.substr(Pe,5).toLowerCase()===S?(t=n.substr(Pe,5),Pe+=5):(t=c,0===We&&qe(Xt)),t===c&&("id"===n.substr(Pe,2).toLowerCase()?(t=n.substr(Pe,2),Pe+=2):(t=c,0===We&&qe(Vt)),t===c&&("url"===n.substr(Pe,3).toLowerCase()?(t=n.substr(Pe,3),Pe+=3):(t=c,0===We&&qe(qt)),t===c&&(n.substr(Pe,9).toLowerCase()===k?(t=n.substr(Pe,9),Pe+=9):(t=c,0===We&&qe(Ut)),t===c&&(n.substr(Pe,10).toLowerCase()===L?(t=n.substr(Pe,10),Pe+=10):(t=c,0===We&&qe($t)),t===c&&(n.substr(Pe,9).toLowerCase()===E?(t=n.substr(Pe,9),Pe+=9):(t=c,0===We&&qe(Kt)),t===c&&(n.substr(Pe,10).toLowerCase()===T?(t=n.substr(Pe,10),Pe+=10):(t=c,0===We&&qe(Zt)),t===c&&(n.substr(Pe,11).toLowerCase()===M?(t=n.substr(Pe,11),Pe+=11):(t=c,0===We&&qe(Yt)),t===c&&(n.substr(Pe,12).toLowerCase()===O?(t=n.substr(Pe,12),Pe+=12):(t=c,0===We&&qe(Qt)),t===c&&(n.substr(Pe,12).toLowerCase()===j?(t=n.substr(Pe,12),Pe+=12):(t=c,0===We&&qe(Jt)),t===c&&(n.substr(Pe,13).toLowerCase()===F?(t=n.substr(Pe,13),Pe+=13):(t=c,0===We&&qe(te)),t===c&&(n.substr(Pe,12).toLowerCase()===I?(t=n.substr(Pe,12),Pe+=12):(t=c,0===We&&qe(ee)),t===c&&(n.substr(Pe,13).toLowerCase()===P?(t=n.substr(Pe,13),Pe+=13):(t=c,0===We&&qe(re)),t===c&&(n.substr(Pe,14).toLowerCase()===D?(t=n.substr(Pe,14),Pe+=14):(t=c,0===We&&qe(ne)),t===c&&(n.substr(Pe,15).toLowerCase()===B?(t=n.substr(Pe,15),Pe+=15):(t=c,0===We&&qe(oe)),t===c&&(n.substr(Pe,7).toLowerCase()===N?(t=n.substr(Pe,7),Pe+=7):(t=c,0===We&&qe(ie)))))))))))))))))),We--,t===c&&0===We&&qe(Gt),t}())!==c?(hr(),61===n.charCodeAt(Pe)?(r="=",Pe++):(r=c,0===We&&qe(rt)),r!==c?(hr(),(o=or())!==c?(hr(),De=t,i=o,(a={})[e.toLowerCase().replace("colour","color")]=i,t=a):(Pe=t,t=c)):(Pe=t,t=c)):(Pe=t,t=c),t}function nr(){var t,e,r,o;return We++,t=Pe,34===n.charCodeAt(Pe)?(e=H,Pe++):(e=c,0===We&&qe(ue)),e!==c?(r=function(){var t,e,r,o;for(t=[],e=Pe,r=Pe,We++,34===n.charCodeAt(Pe)?(o=H,Pe++):(o=c,0===We&&qe(ue)),We--,o===c?r=void 0:(Pe=r,r=c),r!==c?(n.substr(Pe,2)===W?(o=W,Pe+=2):(o=c,0===We&&qe(se)),o===c&&(n.length>Pe?(o=n.charAt(Pe),Pe++):(o=c,0===We&&qe(ce))),o!==c?(De=e,e=o):(Pe=e,e=c)):(Pe=e,e=c);e!==c;)t.push(e),e=Pe,r=Pe,We++,34===n.charCodeAt(Pe)?(o=H,Pe++):(o=c,0===We&&qe(ue)),We--,o===c?r=void 0:(Pe=r,r=c),r!==c?(n.substr(Pe,2)===W?(o=W,Pe+=2):(o=c,0===We&&qe(se)),o===c&&(n.length>Pe?(o=n.charAt(Pe),Pe++):(o=c,0===We&&qe(ce))),o!==c?(De=e,e=o):(Pe=e,e=c)):(Pe=e,e=c);return t}(),34===n.charCodeAt(Pe)?(o=H,Pe++):(o=c,0===We&&qe(ue)),o!==c?(De=t,t=r.join("")):(Pe=t,t=c)):(Pe=t,t=c),We--,t===c&&(e=c,0===We&&qe(ae)),t}function or(){var t;return We++,(t=ir())===c&&(t=nr()),We--,t===c&&0===We&&qe(le),t}function ir(){var t,e,r;if(t=Pe,e=[],G.test(n.charAt(Pe))?(r=n.charAt(Pe),Pe++):(r=c,0===We&&qe(fe)),r!==c)for(;r!==c;)e.push(r),G.test(n.charAt(Pe))?(r=n.charAt(Pe),Pe++):(r=c,0===We&&qe(fe));else e=c;return e!==c&&(De=t,e=e.join("")),e}function ar(){var t,e;return We++,t=Pe,z.test(n.charAt(Pe))?(e=n.charAt(Pe),Pe++):(e=c,0===We&&qe(he)),e!==c&&(De=t,e=e),We--,(t=e)===c&&(e=c,0===We&&qe(de)),t}function ur(){var t,e;return We++,t=Pe,X.test(n.charAt(Pe))?(e=n.charAt(Pe),Pe++):(e=c,0===We&&qe(ge)),e!==c&&(De=t,e=e),We--,(t=e)===c&&(e=c,0===We&&qe(pe)),t}function sr(){var t,e,r;return t=Pe,e=Pe,We++,n.substr(Pe,2)===R?(r=R,Pe+=2):(r=c,0===We&&qe(me)),We--,r===c?e=void 0:(Pe=e,e=c),e!==c?(n.length>Pe?(r=n.charAt(Pe),Pe++):(r=c,0===We&&qe(ce)),r!==c?(De=t,t=r):(Pe=t,t=c)):(Pe=t,t=c),t}function cr(){var t,e,r,o,i;if(t=Pe,(e=function(){var t;return"/*"===n.substr(Pe,2)?(t="/*",Pe+=2):(t=c,0===We&&qe(be)),t}())!==c){for(r=[],o=sr();o!==c;)r.push(o),o=sr();(o=function(){var t;return n.substr(Pe,2)===R?(t=R,Pe+=2):(t=c,0===We&&qe(me)),t}())!==c?(De=t,i=o,t=e+r.join("")+i):(Pe=t,t=c)}else Pe=t,t=c;return t}function lr(){var t;return V.test(n.charAt(Pe))?(t=n.charAt(Pe),Pe++):(t=c,0===We&&qe(xe)),t}function fr(){var t,e,r,o;if(t=Pe,(e=function(){var t;return"//"===n.substr(Pe,2)?(t="//",Pe+=2):(t=c,0===We&&qe(ye)),t===c&&(35===n.charCodeAt(Pe)?(t="#",Pe++):(t=c,0===We&&qe(ve))),t}())!==c){for(r=[],o=lr();o!==c;)r.push(o),o=lr();De=t,t=e+r.join("")}else Pe=t,t=c;return t}function dr(){var t;return We++,(t=fr())===c&&(t=cr()),We--,t===c&&0===We&&qe(we),t}function hr(){var t,e;for(t=[],(e=ar())===c&&(e=ur())===c&&(e=dr());e!==c;)t.push(e),(e=ar())===c&&(e=ur())===c&&(e=dr());return t}function pr(){var t;return(t=function(){var t,e,r,o,i;return We++,t=Pe,e=Pe,(r=gr())!==c?(46===n.charCodeAt(Pe)?(o=".",Pe++):(o=c,0===We&&qe(ke)),o!==c&&(i=gr())!==c?e=r=[r,o,i]:(Pe=e,e=c)):(Pe=e,e=c),e!==c&&(De=t,a=e,e=parseFloat(a.join(""))),We--,(t=e)===c&&(e=c,0===We&&qe(Se)),t;var a}())===c&&(t=gr()),t}function gr(){var t,e,r;if(We++,t=Pe,e=[],q.test(n.charAt(Pe))?(r=n.charAt(Pe),Pe++):(r=c,0===We&&qe(Ae)),r!==c)for(;r!==c;)e.push(r),q.test(n.charAt(Pe))?(r=n.charAt(Pe),Pe++):(r=c,0===We&&qe(Ae));else e=c;return e!==c&&(De=t,e=parseInt(e.join(""),10)),We--,(t=e)===c&&(e=c,0===We&&qe(Ce)),t}function br(){var t;return"true"===n.substr(Pe,4).toLowerCase()?(t=n.substr(Pe,4),Pe+=4):(t=c,0===We&&qe(Ee)),t===c&&("false"===n.substr(Pe,5).toLowerCase()?(t=n.substr(Pe,5),Pe+=5):(t=c,0===We&&qe(Te)),t===c&&("on"===n.substr(Pe,2).toLowerCase()?(t=n.substr(Pe,2),Pe+=2):(t=c,0===We&&qe(Me)),t===c&&("off"===n.substr(Pe,3).toLowerCase()?(t=n.substr(Pe,3),Pe+=3):(t=c,0===We&&qe(Oe)),t===c&&(48===n.charCodeAt(Pe)?(t="0",Pe++):(t=c,0===We&&qe(je)),t===c&&(49===n.charCodeAt(Pe)?(t="1",Pe++):(t=c,0===We&&qe(Fe))))))),t}if((i=d())!==c&&Pe===n.length)return i;throw i!==c&&Pe<n.length&&qe({type:"end"}),a=He,u=Ne<n.length?n.charAt(Ne):null,s=Ne<n.length?Ve(Ne,Ne+1):Ve(Ne,Ne),new r(r.buildMessage(a,u),a,u,s)}}})?n.apply(e,o):n)||(t.exports=i)},177:function(t,e,r){var n,o,i;o=[r(730),r(701)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=e,i.found=n,i.location=o,i.name="SyntaxError",i}function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(o){var u=this.location.end,s=n("",i.line.toString().length," "),c=o[i.line-1],l=(i.line===u.line?u.column:c.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+s+" |\n"+i.line+" | "+c+"\n"+s+" | "+n("",i.column-1," ")+n("",l,"^")}else e+="\n at "+a}return e},r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){var i,a,u,s,c={},l=(o=void 0!==o?o:{}).grammarSource,f={program:We},d=We,h=",",p=";",g="=",b=":",m="*",y="{",v="|||",x="...",w="---",_="<<=>>",C="<<>>",A="note",S="abox",k="rbox",L="else",E="break",T="strict",M="critical",O="ignore",j="consider",F="assert",I="loop",P='"',D='\\"',B="*/",N=/^[^;, "\t\n\r=\-><:{*]/,H=/^[ \t]/,W=/^[\r\n]/,R=/^[^\r\n]/,G=/^[0-9]/,z=Ie(",",!1),X=Ie(";",!1),V=Ie("hscale",!0),q=Ie("arcgradient",!0),U=Ie("=",!1),$=Ie("width",!0),K=Ie("wordwraparcs",!0),Z=Ie("wordwrapentities",!0),Y=Ie("wordwrapboxes",!0),Q=Ie("watermark",!0),J=De("entity"),tt=Ie(":",!1),et=Ie("*",!1),rt=Ie("{",!1),nt=Ie("}",!1),ot=De("empty row"),it=Ie("|||",!1),at=Ie("...",!1),ut=De("---"),st=Ie("---",!1),ct=De("bi-directional arrow"),lt=Ie("--",!1),ft=Ie("<->",!1),dt=Ie("==",!1),ht=Ie("<<=>>",!1),pt=Ie("<=>",!1),gt=Ie("..",!1),bt=Ie("<<>>",!1),mt=Ie("::",!1),yt=Ie("<:>",!1),vt=De("left to right arrow"),xt=Ie("->",!1),wt=Ie("=>>",!1),_t=Ie("=>",!1),Ct=Ie(">>",!1),At=Ie(":>",!1),St=Ie("-x",!0),kt=De("right to left arrow"),Lt=Ie("<-",!1),Et=Ie("<<=",!1),Tt=Ie("<=",!1),Mt=Ie("<<",!1),Ot=Ie("<:",!1),jt=Ie("x-",!0),Ft=De("box"),It=Ie("note",!0),Pt=Ie("abox",!0),Dt=Ie("rbox",!0),Bt=Ie("box",!0),Nt=De("inline expression"),Ht=Ie("alt",!0),Wt=Ie("else",!0),Rt=Ie("opt",!0),Gt=Ie("break",!0),zt=Ie("par",!0),Xt=Ie("seq",!0),Vt=Ie("strict",!0),qt=Ie("neg",!0),Ut=Ie("critical",!0),$t=Ie("ignore",!0),Kt=Ie("consider",!0),Zt=Ie("assert",!0),Yt=Ie("loop",!0),Qt=Ie("ref",!0),Jt=Ie("exc",!0),te=De("double quoted string"),ee=Ie('"',!1),re=Ie('\\"',!1),ne={type:"any"},oe=De("identifier"),ie=Pe([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ae=De("whitespace"),ue=Pe([" ","\t"],!1,!1),se=De("lineend"),ce=Pe(["\r","\n"],!1,!1),le=Ie("/*",!1),fe=Ie("*/",!1),de=Ie("//",!1),he=Ie("#",!1),pe=Pe(["\r","\n"],!0,!1),ge=De("comment"),be=De("number"),me=Pe([["0","9"]],!1,!1),ye=Ie(".",!1),ve=De("boolean"),xe=Ie("true",!0),we=Ie("false",!0),_e=Ie("on",!0),Ce=Ie("off",!0),Ae=Ie("0",!1),Se=Ie("1",!1),ke=De("size"),Le=Ie("auto",!0),Ee=function(r,n){return n.entities=hr(n.entities||[],n.arcs),n=t({meta:e.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},Te=0,Me=[{line:1,column:1}],Oe=0,je=[],Fe=0;if("startRule"in o){if(!(o.startRule in f))throw new Error("Can't start parsing from rule \""+o.startRule+'".');d=f[o.startRule]}function Ie(t,e){return{type:"literal",text:t,ignoreCase:e}}function Pe(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function De(t){return{type:"other",description:t}}function Be(t){var e,r=Me[t];if(r)return r;for(e=t-1;!Me[e];)e--;for(r={line:(r=Me[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Me[t]=r,r}function Ne(t,e){var r=Be(t),n=Be(e);return{source:l,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function He(t){Te<Oe||(Te>Oe&&(Oe=Te,je=[]),je.push(t))}function We(){var e,r;return e=ir(),r=function(){var e,r,o;return(e=function(){var e,r,o,i,a;for(e=Te,r=[],o=Te,(i=Re())!==c?(44===n.charCodeAt(Te)?(a=h,Te++):(a=c,0===Fe&&He(z)),a!==c?o=i:(Te=o,o=c)):(Te=o,o=c);o!==c;)r.push(o),o=Te,(i=Re())!==c?(44===n.charCodeAt(Te)?(a=h,Te++):(a=c,0===Fe&&He(z)),a!==c?o=i:(Te=o,o=c)):(Te=o,o=c);return o=Te,(i=Re())!==c?(59===n.charCodeAt(Te)?(a=p,Te++):(a=c,0===Fe&&He(X)),a!==c?o=i:(Te=o,o=c)):(Te=o,o=c),o!==c?e=r=[r,o]:(Te=e,e=c),e!==c&&(e=function(e){return e[0].concat(e[1]).reduce(t,{})}(e)),e}())===c&&(e=null),(r=function(){var t,e,r,o,i;for(t=Te,e=[],r=Te,(o=Ge())!==c?(44===n.charCodeAt(Te)?(i=h,Te++):(i=c,0===Fe&&He(z)),i!==c?r=o:(Te=r,r=c)):(Te=r,r=c);r!==c;)e.push(r),r=Te,(o=Ge())!==c?(44===n.charCodeAt(Te)?(i=h,Te++):(i=c,0===Fe&&He(z)),i!==c?r=o:(Te=r,r=c)):(Te=r,r=c);return r=Te,(o=Ge())!==c?(59===n.charCodeAt(Te)?(i=p,Te++):(i=c,0===Fe&&He(X)),i!==c?r=o:(Te=r,r=c)):(Te=r,r=c),r!==c?t=e=[e,r]:(Te=t,t=c),t!==c&&(a=t,t=a[0].concat(a[1])),t;var a}())===c&&(r=null),(o=ze())===c&&(o=null),function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(e,r,o)}(),ir(),Ee(e,r)}function Re(){var t,r,o,i,a,u;return t=Te,ir(),"hscale"===n.substr(Te,6).toLowerCase()?(r=n.substr(Te,6),Te+=6):(r=c,0===Fe&&He(V)),r===c&&("arcgradient"===n.substr(Te,11).toLowerCase()?(r=n.substr(Te,11),Te+=11):(r=c,0===Fe&&He(q))),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=function(){var t,e;return Fe++,t=Te,(e=function(){var t,e,r,o;return t=Te,34===n.charCodeAt(Te)?(e=P,Te++):(e=c,0===Fe&&He(ee)),e!==c&&(r=ar())!==c?(34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),o!==c?(i=r,t=i.toString()):(Te=t,t=c)):(Te=t,t=c),t;var i}())!==c&&(e=e),(t=e)===c&&(t=Te,(e=ar())!==c&&(r=e,e=r.toString()),t=e),Fe--,t===c&&(e=c,0===Fe&&He(be)),t;var r}())!==c?(ir(),a=r,u=i,t=e.nameValue2Option(a,u)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),"width"===n.substr(Te,5).toLowerCase()?(r=n.substr(Te,5),Te+=5):(r=c,0===Fe&&He($)),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=function(){var t;return Fe++,(t=function(){var t,e,r,o;return t=Te,34===n.charCodeAt(Te)?(e=P,Te++):(e=c,0===Fe&&He(ee)),e!==c&&(r=lr())!==c?(34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),o!==c?t=r:(Te=t,t=c)):(Te=t,t=c),t}())===c&&(t=lr()),Fe--,t===c&&0===Fe&&He(ke),t}())!==c?(ir(),t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),"wordwraparcs"===n.substr(Te,12).toLowerCase()?(r=n.substr(Te,12),Te+=12):(r=c,0===Fe&&He(K)),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=sr())!==c?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),"wordwrapentities"===n.substr(Te,16).toLowerCase()?(r=n.substr(Te,16),Te+=16):(r=c,0===Fe&&He(Z)),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=sr())!==c?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),"wordwrapboxes"===n.substr(Te,13).toLowerCase()?(r=n.substr(Te,13),Te+=13):(r=c,0===Fe&&He(Y)),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=sr())!==c?(ir(),t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),"watermark"===n.substr(Te,9).toLowerCase()?(r=n.substr(Te,9),Te+=9):(r=c,0===Fe&&He(Q)),r!==c?(ir(),61===n.charCodeAt(Te)?(o=g,Te++):(o=c,0===Fe&&He(U)),o!==c?(ir(),(i=Ze())!==c?(ir(),t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c)))))),t}function Ge(){var t,e,r,o,i,a,u;return Fe++,t=Te,ir(),(e=Ye())!==c?(ir(),r=Te,58===n.charCodeAt(Te)?(o=":",Te++):(o=c,0===Fe&&He(tt)),o!==c?(ir(),(i=Ke())!==c?(ir(),r=i):(Te=r,r=c)):(Te=r,r=c),r===c&&(r=null),a=r,u=dr(e),a&&(u.label=a),t=u):(Te=t,t=c),Fe--,t===c&&0===Fe&&He(J),t}function ze(){var t,e,r,o;if(t=[],e=Te,(r=Xe())!==c?(ir(),59===n.charCodeAt(Te)?(o=p,Te++):(o=c,0===Fe&&He(X)),o!==c?e=r:(Te=e,e=c)):(Te=e,e=c),e!==c)for(;e!==c;)t.push(e),e=Te,(r=Xe())!==c?(ir(),59===n.charCodeAt(Te)?(o=p,Te++):(o=c,0===Fe&&He(X)),o!==c?e=r:(Te=e,e=c)):(Te=e,e=c);else t=c;return t}function Xe(){var t,e,r,o,i,a;for(t=Te,e=[],r=Te,(o=Ve())!==c?(44===n.charCodeAt(Te)?(i=h,Te++):(i=c,0===Fe&&He(z)),i!==c?r=o:(Te=r,r=c)):(Te=r,r=c);r!==c;)e.push(r),r=Te,(o=Ve())!==c?(44===n.charCodeAt(Te)?(i=h,Te++):(i=c,0===Fe&&He(z)),i!==c?r=o:(Te=r,r=c)):(Te=r,r=c);return r=Te,(o=Ve())!==c&&(o=o),(r=o)!==c?t=e=[e,r]:(Te=t,t=c),t!==c&&(t=(a=t)[0].concat(a[1])),t}function Ve(){var t;return(t=function(){var t,e,r,o,i;return t=Te,e=Te,(r=function(){var t,e;return t=Te,ir(),(e=function(){var t;return Fe++,n.substr(Te,3)===v?(t=v,Te+=3):(t=c,0===Fe&&He(it)),t===c&&(n.substr(Te,3)===x?(t=x,Te+=3):(t=c,0===Fe&&He(at))),Fe--,t===c&&0===Fe&&He(ot),t}())!==c?(ir(),r=e,t={kind:r}):(Te=t,t=c),t;var r}())!==c&&(r=r),(e=r)===c&&(e=Te,(r=function(){var t,e,r,o;return t=Te,ir(),(e=Ye())!==c?(ir(),(r=function(){var t;return(t=qe())===c&&(t=Ue())===c&&(t=$e())===c&&(t=function(){var t;return Fe++,n.substr(Te,4).toLowerCase()===A?(t=n.substr(Te,4),Te+=4):(t=c,0===Fe&&He(It)),t===c&&(n.substr(Te,4).toLowerCase()===S?(t=n.substr(Te,4),Te+=4):(t=c,0===Fe&&He(Pt)),t===c&&(n.substr(Te,4).toLowerCase()===k?(t=n.substr(Te,4),Te+=4):(t=c,0===Fe&&He(Dt)),t===c&&("box"===n.substr(Te,3).toLowerCase()?(t=n.substr(Te,3),Te+=3):(t=c,0===Fe&&He(Bt))))),Fe--,t===c&&0===Fe&&He(Ft),t}()),t!==c&&(e=t,t=e.toLowerCase()),t;var e}())!==c?(ir(),(o=Ye())!==c?(ir(),i=e,a=r,u=o,t={kind:a,from:i,to:u}):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),42===n.charCodeAt(Te)?(e=m,Te++):(e=c,0===Fe&&He(et)),e!==c?(ir(),(r=$e())!==c?(ir(),(o=Ye())!==c?(ir(),t=function(t,e){return{kind:t,from:"*",to:e}}(r,o)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),(e=Ye())!==c?(ir(),(r=Ue())!==c?(ir(),42===n.charCodeAt(Te)?(o=m,Te++):(o=c,0===Fe&&He(et)),o!==c?(ir(),t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t===c&&(t=Te,ir(),(e=Ye())!==c?(ir(),(r=qe())!==c?(ir(),42===n.charCodeAt(Te)?(o=m,Te++):(o=c,0===Fe&&He(et)),o!==c?(ir(),t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c)))),t;var i,a,u}())!==c&&(r=r),(e=r)===c&&(e=Te,(r=function(){var t,e;return t=Te,ir(),(e=function(){var t;return Fe++,n.substr(Te,3)===w?(t=w,Te+=3):(t=c,0===Fe&&He(st)),Fe--,t===c&&0===Fe&&He(ut),t}())!==c?(ir(),r=e,t={kind:r}):(Te=t,t=c),t;var r}())!==c&&(r=r),e=r)),e!==c?(r=Te,58===n.charCodeAt(Te)?(o=b,Te++):(o=c,0===Fe&&He(tt)),o!==c?(ir(),(i=Ke())!==c?(ir(),s=i,r=s):(Te=r,r=c)):(Te=r,r=c),r===c&&(r=null),a=e,u=r,u&&(a.label=u),t=a):(Te=t,t=c),t;var a,u;var s}())===c&&(t=function(){var t,e,r,o,i,a,u,s;return t=Te,ir(),(e=Ye())!==c?(ir(),(r=function(){var t,e;return Fe++,t=Te,"alt"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(Ht)),e===c&&(n.substr(Te,4).toLowerCase()===L?(e=n.substr(Te,4),Te+=4):(e=c,0===Fe&&He(Wt)),e===c&&("opt"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(Rt)),e===c&&(n.substr(Te,5).toLowerCase()===E?(e=n.substr(Te,5),Te+=5):(e=c,0===Fe&&He(Gt)),e===c&&("par"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(zt)),e===c&&("seq"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(Xt)),e===c&&(n.substr(Te,6).toLowerCase()===T?(e=n.substr(Te,6),Te+=6):(e=c,0===Fe&&He(Vt)),e===c&&("neg"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(qt)),e===c&&(n.substr(Te,8).toLowerCase()===M?(e=n.substr(Te,8),Te+=8):(e=c,0===Fe&&He(Ut)),e===c&&(n.substr(Te,6).toLowerCase()===O?(e=n.substr(Te,6),Te+=6):(e=c,0===Fe&&He($t)),e===c&&(n.substr(Te,8).toLowerCase()===j?(e=n.substr(Te,8),Te+=8):(e=c,0===Fe&&He(Kt)),e===c&&(n.substr(Te,6).toLowerCase()===F?(e=n.substr(Te,6),Te+=6):(e=c,0===Fe&&He(Zt)),e===c&&(n.substr(Te,4).toLowerCase()===I?(e=n.substr(Te,4),Te+=4):(e=c,0===Fe&&He(Yt)),e===c&&("ref"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(Qt)),e===c&&("exc"===n.substr(Te,3).toLowerCase()?(e=n.substr(Te,3),Te+=3):(e=c,0===Fe&&He(Jt)))))))))))))))),e!==c&&(r=e,e=r.toLowerCase()),Fe--,(t=e)===c&&(e=c,0===Fe&&He(Nt)),t;var r}())!==c?(ir(),(o=Ye())!==c?(ir(),i=Te,58===n.charCodeAt(Te)?(a=b,Te++):(a=c,0===Fe&&He(tt)),a!==c?(ir(),(u=Ke())!==c?(ir(),m=u,i=m):(Te=i,i=c)):(Te=i,i=c),i===c&&(i=null),123===n.charCodeAt(Te)?(a=y,Te++):(a=c,0===Fe&&He(rt)),a!==c?(ir(),(u=ze())===c&&(u=null),ir(),125===n.charCodeAt(Te)?(s="}",Te++):(s=c,0===Fe&&He(nt)),s!==c?(ir(),l=e,f=r,d=o,h=i,p=u,g={kind:f,from:l,to:d,arcs:p},h&&(g.label=h),t=g):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c)):(Te=t,t=c),t;var l,f,d,h,p,g;var m}()),t}function qe(){var t;return Fe++,"--"===n.substr(Te,2)?(t="--",Te+=2):(t=c,0===Fe&&He(lt)),t===c&&("<->"===n.substr(Te,3)?(t="<->",Te+=3):(t=c,0===Fe&&He(ft)),t===c&&("=="===n.substr(Te,2)?(t="==",Te+=2):(t=c,0===Fe&&He(dt)),t===c&&(n.substr(Te,5)===_?(t=_,Te+=5):(t=c,0===Fe&&He(ht)),t===c&&("<=>"===n.substr(Te,3)?(t="<=>",Te+=3):(t=c,0===Fe&&He(pt)),t===c&&(".."===n.substr(Te,2)?(t="..",Te+=2):(t=c,0===Fe&&He(gt)),t===c&&(n.substr(Te,4)===C?(t=C,Te+=4):(t=c,0===Fe&&He(bt)),t===c&&("::"===n.substr(Te,2)?(t="::",Te+=2):(t=c,0===Fe&&He(mt)),t===c&&("<:>"===n.substr(Te,3)?(t="<:>",Te+=3):(t=c,0===Fe&&He(yt)))))))))),Fe--,t===c&&0===Fe&&He(ct),t}function Ue(){var t;return Fe++,"->"===n.substr(Te,2)?(t="->",Te+=2):(t=c,0===Fe&&He(xt)),t===c&&("=>>"===n.substr(Te,3)?(t="=>>",Te+=3):(t=c,0===Fe&&He(wt)),t===c&&("=>"===n.substr(Te,2)?(t="=>",Te+=2):(t=c,0===Fe&&He(_t)),t===c&&(">>"===n.substr(Te,2)?(t=">>",Te+=2):(t=c,0===Fe&&He(Ct)),t===c&&(":>"===n.substr(Te,2)?(t=":>",Te+=2):(t=c,0===Fe&&He(At)),t===c&&("-x"===n.substr(Te,2).toLowerCase()?(t=n.substr(Te,2),Te+=2):(t=c,0===Fe&&He(St))))))),Fe--,t===c&&0===Fe&&He(vt),t}function $e(){var t;return Fe++,"<-"===n.substr(Te,2)?(t="<-",Te+=2):(t=c,0===Fe&&He(Lt)),t===c&&("<<="===n.substr(Te,3)?(t="<<=",Te+=3):(t=c,0===Fe&&He(Et)),t===c&&("<="===n.substr(Te,2)?(t="<=",Te+=2):(t=c,0===Fe&&He(Tt)),t===c&&("<<"===n.substr(Te,2)?(t="<<",Te+=2):(t=c,0===Fe&&He(Mt)),t===c&&("<:"===n.substr(Te,2)?(t="<:",Te+=2):(t=c,0===Fe&&He(Ot)),t===c&&("x-"===n.substr(Te,2).toLowerCase()?(t=n.substr(Te,2),Te+=2):(t=c,0===Fe&&He(jt))))))),Fe--,t===c&&0===Fe&&He(kt),t}function Ke(){var t,e;return(t=Ze())===c&&(e=function(){var t,e,r,o;for(t=[],e=Te,r=Te,Fe++,44===n.charCodeAt(Te)?(o=h,Te++):(o=c,0===Fe&&He(z)),o===c&&(59===n.charCodeAt(Te)?(o=p,Te++):(o=c,0===Fe&&He(X)),o===c&&(123===n.charCodeAt(Te)?(o=y,Te++):(o=c,0===Fe&&He(rt)))),Fe--,o===c?r=void 0:(Te=r,r=c),r!==c?(n.length>Te?(o=n.charAt(Te),Te++):(o=c,0===Fe&&He(ne)),o!==c?e=o:(Te=e,e=c)):(Te=e,e=c);e!==c;)t.push(e),e=Te,r=Te,Fe++,44===n.charCodeAt(Te)?(o=h,Te++):(o=c,0===Fe&&He(z)),o===c&&(59===n.charCodeAt(Te)?(o=p,Te++):(o=c,0===Fe&&He(X)),o===c&&(123===n.charCodeAt(Te)?(o=y,Te++):(o=c,0===Fe&&He(rt)))),Fe--,o===c?r=void 0:(Te=r,r=c),r!==c?(n.length>Te?(o=n.charAt(Te),Te++):(o=c,0===Fe&&He(ne)),o!==c?e=o:(Te=e,e=c)):(Te=e,e=c);return t}(),t=e.join("").trim()),t}function Ze(){var t,e,r,o;return Fe++,t=Te,34===n.charCodeAt(Te)?(e=P,Te++):(e=c,0===Fe&&He(ee)),e!==c?(r=function(){var t,e,r,o;for(t=[],e=Te,r=Te,Fe++,34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),Fe--,o===c?r=void 0:(Te=r,r=c),r!==c?(n.substr(Te,2)===D?(o=D,Te+=2):(o=c,0===Fe&&He(re)),o===c&&(n.length>Te?(o=n.charAt(Te),Te++):(o=c,0===Fe&&He(ne))),o!==c?e=o:(Te=e,e=c)):(Te=e,e=c);e!==c;)t.push(e),e=Te,r=Te,Fe++,34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),Fe--,o===c?r=void 0:(Te=r,r=c),r!==c?(n.substr(Te,2)===D?(o=D,Te+=2):(o=c,0===Fe&&He(re)),o===c&&(n.length>Te?(o=n.charAt(Te),Te++):(o=c,0===Fe&&He(ne))),o!==c?e=o:(Te=e,e=c)):(Te=e,e=c);return t}(),34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),o!==c?t=r.join(""):(Te=t,t=c)):(Te=t,t=c),Fe--,t===c&&(e=c,0===Fe&&He(te)),t}function Ye(){var t,e,r;if(Fe++,t=Te,e=[],N.test(n.charAt(Te))?(r=n.charAt(Te),Te++):(r=c,0===Fe&&He(ie)),r!==c)for(;r!==c;)e.push(r),N.test(n.charAt(Te))?(r=n.charAt(Te),Te++):(r=c,0===Fe&&He(ie));else e=c;return e!==c&&(e=e.join("")),(t=e)===c&&(t=Ze()),Fe--,t===c&&(e=c,0===Fe&&He(oe)),t}function Qe(){var t,e;return Fe++,Te,H.test(n.charAt(Te))?(e=n.charAt(Te),Te++):(e=c,0===Fe&&He(ue)),e!==c&&(e=e),Fe--,(t=e)===c&&(e=c,0===Fe&&He(ae)),t}function Je(){var t,e;return Fe++,Te,W.test(n.charAt(Te))?(e=n.charAt(Te),Te++):(e=c,0===Fe&&He(ce)),e!==c&&(e=e),Fe--,(t=e)===c&&(e=c,0===Fe&&He(se)),t}function tr(){var t,e,r;return t=Te,e=Te,Fe++,n.substr(Te,2)===B?(r=B,Te+=2):(r=c,0===Fe&&He(fe)),Fe--,r===c?e=void 0:(Te=e,e=c),e!==c?(n.length>Te?(r=n.charAt(Te),Te++):(r=c,0===Fe&&He(ne)),r!==c?t=r:(Te=t,t=c)):(Te=t,t=c),t}function er(){var t,e,r,o,i;if(t=Te,(e=function(){var t;return"/*"===n.substr(Te,2)?(t="/*",Te+=2):(t=c,0===Fe&&He(le)),t}())!==c){for(r=[],o=tr();o!==c;)r.push(o),o=tr();(o=function(){var t;return n.substr(Te,2)===B?(t=B,Te+=2):(t=c,0===Fe&&He(fe)),t}())!==c?(i=o,t=e+r.join("")+i):(Te=t,t=c)}else Te=t,t=c;return t}function rr(){var t;return R.test(n.charAt(Te))?(t=n.charAt(Te),Te++):(t=c,0===Fe&&He(pe)),t}function nr(){var t,e,r,o;if(t=Te,(e=function(){var t;return"//"===n.substr(Te,2)?(t="//",Te+=2):(t=c,0===Fe&&He(de)),t===c&&(35===n.charCodeAt(Te)?(t="#",Te++):(t=c,0===Fe&&He(he))),t}())!==c){for(r=[],o=rr();o!==c;)r.push(o),o=rr();t=e+r.join("")}else Te=t,t=c;return t}function or(){var t;return Fe++,(t=nr())===c&&(t=er()),Fe--,t===c&&0===Fe&&He(ge),t}function ir(){var t,e;for(t=[],(e=Qe())===c&&(e=Je())===c&&(e=or());e!==c;)t.push(e),(e=Qe())===c&&(e=Je())===c&&(e=or());return t}function ar(){var t,e,r,o,i,a;return e=Te,(r=ur())!==c?(46===n.charCodeAt(Te)?(o=".",Te++):(o=c,0===Fe&&He(ye)),o!==c&&(i=ur())!==c?e=r=[r,o,i]:(Te=e,e=c)):(Te=e,e=c),e!==c&&(a=e,e=parseFloat(a.join(""))),(t=e)===c&&(t=ur()),t}function ur(){var t,e;if(t=[],G.test(n.charAt(Te))?(e=n.charAt(Te),Te++):(e=c,0===Fe&&He(me)),e!==c)for(;e!==c;)t.push(e),G.test(n.charAt(Te))?(e=n.charAt(Te),Te++):(e=c,0===Fe&&He(me));else t=c;return t!==c&&(t=parseInt(t.join(""),10)),t}function sr(){var t,e;return Fe++,t=Te,(e=function(){var t,e,r,o;return t=Te,34===n.charCodeAt(Te)?(e=P,Te++):(e=c,0===Fe&&He(ee)),e!==c&&(r=cr())!==c?(34===n.charCodeAt(Te)?(o=P,Te++):(o=c,0===Fe&&He(ee)),o!==c?t=r:(Te=t,t=c)):(Te=t,t=c),t}())!==c&&(e=e),(t=e)===c&&(t=Te,(e=cr())!==c&&(e=e.toString()),t=e),Fe--,t===c&&(e=c,0===Fe&&He(ve)),t}function cr(){var t;return"true"===n.substr(Te,4).toLowerCase()?(t=n.substr(Te,4),Te+=4):(t=c,0===Fe&&He(xe)),t===c&&("false"===n.substr(Te,5).toLowerCase()?(t=n.substr(Te,5),Te+=5):(t=c,0===Fe&&He(we)),t===c&&("on"===n.substr(Te,2).toLowerCase()?(t=n.substr(Te,2),Te+=2):(t=c,0===Fe&&He(_e)),t===c&&("off"===n.substr(Te,3).toLowerCase()?(t=n.substr(Te,3),Te+=3):(t=c,0===Fe&&He(Ce)),t===c&&(48===n.charCodeAt(Te)?(t="0",Te++):(t=c,0===Fe&&He(Ae)),t===c&&(49===n.charCodeAt(Te)?(t="1",Te++):(t=c,0===Fe&&He(Se))))))),t}function lr(){var t,e;return t=Te,(e=ar())!==c&&(e=e.toString()),(t=e)===c&&(t=Te,"auto"===n.substr(Te,4).toLowerCase()?(e=n.substr(Te,4),Te+=4):(e=c,0===Fe&&He(Le)),e!==c&&(e=e.toLowerCase()),t=e),t}function fr(t,r,n){return!(e.entityExists(t,r)||!0===n[r])}function dr(t){return{name:t}}function hr(e,r,n){return n||(n={}),(r||[]).forEach((function(r){r.forEach((function(r){fr(e,r.from,n)&&e.push(dr(r.from)),r.arcs&&(n[r.to]=!0,t(e,hr(e,r.arcs,n)),delete n[r.to]),fr(e,r.to,n)&&e.push(dr(r.to))}))})),e}if((i=d())!==c&&Te===n.length)return i;throw i!==c&&Te<n.length&&He({type:"end"}),a=je,u=Oe<n.length?n.charAt(Oe):null,s=Oe<n.length?Ne(Oe,Oe+1):Ne(Oe,Oe),new r(r.buildMessage(a,u),a,u,s)}}})?n.apply(e,o):n)||(t.exports=i)},54:function(t,e,r){var n,o,i;o=[r(730),r(701)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){var i=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=e,i.found=n,i.location=o,i.name="SyntaxError",i}function n(t,e,r){return r=r||" ",t.length>e?t:(e-=t.length,t+(r+=r.repeat(e)).slice(0,e))}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var r,o=null;for(r=0;r<t.length;r++)if(t[r].source===this.location.source){o=t[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,a=this.location.source+":"+i.line+":"+i.column;if(o){var u=this.location.end,s=n("",i.line.toString().length," "),c=o[i.line-1],l=(i.line===u.line?u.column:c.length+1)-i.column||1;e+="\n --\x3e "+a+"\n"+s+" |\n"+i.line+" | "+c+"\n"+s+" | "+n("",i.column-1," ")+n("",l,"^")}else e+="\n at "+a}return e},r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?i(t[0])+"-"+i(t[1]):i(t)}));return"["+(t.inverted?"^":"")+e.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+n(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+n(t)}))}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=t.map(a);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){var i,a,u,s,c={},l=(o=void 0!==o?o:{}).grammarSource,f={program:Fr},d=Fr,h=",",p=";",g="=",b="[",m="]",y="*",v="|||",x="...",w="---",_="<<=>>",C="<<>>",A="note",S="abox",k="rbox",L="else",E="break",T="strict",M="critical",O="ignore",j="consider",F="assert",I="loop",P="activate",D="deactivate",B="label",N="idurl",H="linecolor",W="linecolour",R="textcolor",G="textcolour",z="textbgcolor",X="textbgcolour",V="arclinecolor",q="arclinecolour",U="arctextcolor",$="arctextcolour",K="arctextbgcolor",Z="arctextbgcolour",Y="arcskip",Q="title",J="activation",tt='"',et='\\"',rt="*/",nt=/^[A-Za-z_0-9]/,ot=/^[ \t]/,it=/^[\r\n]/,at=/^[^\r\n]/,ut=/^[0-9]/,st=Lr("{",!1),ct=Lr("}",!1),lt=Lr("msc",!0),ft=Lr("xu",!0),dt=Lr(",",!1),ht=Lr(";",!1),pt=Tr("option"),gt=Lr("hscale",!0),bt=Lr("arcgradient",!0),mt=Lr("=",!1),yt=Lr("width",!0),vt=Lr("wordwraparcs",!0),xt=Lr("wordwrapentities",!0),wt=Lr("wordwrapboxes",!0),_t=Lr("watermark",!0),Ct=Tr("entity"),At=Lr("[",!1),St=Lr("]",!1),kt=Lr("*",!1),Lt=Tr("empty row"),Et=Lr("|||",!1),Tt=Lr("...",!1),Mt=Tr("---"),Ot=Lr("---",!1),jt=Tr("bi-directional arrow"),Ft=Lr("--",!1),It=Lr("<->",!1),Pt=Lr("==",!1),Dt=Lr("<<=>>",!1),Bt=Lr("<=>",!1),Nt=Lr("..",!1),Ht=Lr("<<>>",!1),Wt=Lr("::",!1),Rt=Lr("<:>",!1),Gt=Tr("left to right arrow"),zt=Lr("->",!1),Xt=Lr("=>>",!1),Vt=Lr("=>",!1),qt=Lr(">>",!1),Ut=Lr(":>",!1),$t=Lr("-x",!0),Kt=Tr("right to left arrow"),Zt=Lr("<-",!1),Yt=Lr("<<=",!1),Qt=Lr("<=",!1),Jt=Lr("<<",!1),te=Lr("<:",!1),ee=Lr("x-",!0),re=Tr("box"),ne=Lr("note",!0),oe=Lr("abox",!0),ie=Lr("rbox",!0),ae=Lr("box",!0),ue=Tr("inline expression"),se=Lr("alt",!0),ce=Lr("else",!0),le=Lr("opt",!0),fe=Lr("break",!0),de=Lr("par",!0),he=Lr("seq",!0),pe=Lr("strict",!0),ge=Lr("neg",!0),be=Lr("critical",!0),me=Lr("ignore",!0),ye=Lr("consider",!0),ve=Lr("assert",!0),xe=Lr("loop",!0),we=Lr("ref",!0),_e=Lr("exc",!0),Ce=Tr("activate or deactivate"),Ae=Lr("activate",!0),Se=Lr("deactivate",!0),ke=Tr("attribute name"),Le=Lr("label",!0),Ee=Lr("idurl",!0),Te=Lr("id",!0),Me=Lr("url",!0),Oe=Lr("linecolor",!0),je=Lr("linecolour",!0),Fe=Lr("textcolor",!0),Ie=Lr("textcolour",!0),Pe=Lr("textbgcolor",!0),De=Lr("textbgcolour",!0),Be=Lr("arclinecolor",!0),Ne=Lr("arclinecolour",!0),He=Lr("arctextcolor",!0),We=Lr("arctextcolour",!0),Re=Lr("arctextbgcolor",!0),Ge=Lr("arctextbgcolour",!0),ze=Lr("arcskip",!0),Xe=Lr("title",!0),Ve=Lr("activation",!0),qe=Tr("double quoted string"),Ue=Lr('"',!1),$e=Lr('\\"',!1),Ke={type:"any"},Ze=Tr("identifier"),Ye=Er([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Qe=Tr("whitespace"),Je=Er([" ","\t"],!1,!1),tr=Tr("lineend"),er=Er(["\r","\n"],!1,!1),rr=Lr("/*",!1),nr=Lr("*/",!1),or=Lr("//",!1),ir=Lr("#",!1),ar=Er(["\r","\n"],!0,!1),ur=Tr("comment"),sr=Tr("number"),cr=Er([["0","9"]],!1,!1),lr=Lr(".",!1),fr=Tr("boolean"),dr=Lr("true",!0),hr=Lr("false",!0),pr=Lr("on",!0),gr=Lr("off",!0),br=Lr("0",!1),mr=Lr("1",!1),yr=Tr("size"),vr=Lr("auto",!0),xr=function(n,o){return e.isMscGenKeyword(n)&&function(t,e){throw function(t,e){return new r(t,null,null,e)}(t,e=void 0!==e?e:Or(_r,wr))}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},wr=0,_r=0,Cr=[{line:1,column:1}],Ar=0,Sr=[],kr=0;if("startRule"in o){if(!(o.startRule in f))throw new Error("Can't start parsing from rule \""+o.startRule+'".');d=f[o.startRule]}function Lr(t,e){return{type:"literal",text:t,ignoreCase:e}}function Er(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function Tr(t){return{type:"other",description:t}}function Mr(t){var e,r=Cr[t];if(r)return r;for(e=t-1;!Cr[e];)e--;for(r={line:(r=Cr[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Cr[t]=r,r}function Or(t,e){var r=Mr(t),n=Mr(e);return{source:l,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function jr(t){wr<Ar||(wr>Ar&&(Ar=wr,Sr=[]),Sr.push(t))}function Fr(){var r,o,i,a,u,s,l;return r=wr,o=tn(),function(){var t;return"msc"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=c,0===kr&&jr(lt)),t===c&&("xu"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=c,0===kr&&jr(ft))),t}()!==c?(tn(),123===n.charCodeAt(wr)?(i="{",wr++):(i=c,0===kr&&jr(st)),i!==c?(tn(),a=function(){var e,r,o,i;return e=wr,(r=function(){var e,r,o,i,a,u;for(e=wr,r=wr,o=[],i=wr,(a=Ir())!==c?(44===n.charCodeAt(wr)?(u=h,wr++):(u=c,0===kr&&jr(dt)),u!==c?(_r=i,i=a):(wr=i,i=c)):(wr=i,i=c);i!==c;)o.push(i),i=wr,(a=Ir())!==c?(44===n.charCodeAt(wr)?(u=h,wr++):(u=c,0===kr&&jr(dt)),u!==c?(_r=i,i=a):(wr=i,i=c)):(wr=i,i=c);return i=wr,(a=Ir())!==c?(59===n.charCodeAt(wr)?(u=p,wr++):(u=c,0===kr&&jr(ht)),u!==c?(_r=i,i=a):(wr=i,i=c)):(wr=i,i=c),i!==c?r=o=[o,i]:(wr=r,r=c),r!==c&&(_r=e,r=function(e){return e[0].concat(e[1]).reduce(t,{})}(r)),r}())===c&&(r=null),(o=function(){var t,e,r,o,i,a;for(t=wr,e=wr,r=[],o=wr,(i=Pr())!==c?(44===n.charCodeAt(wr)?(a=h,wr++):(a=c,0===kr&&jr(dt)),a!==c?(_r=o,o=i):(wr=o,o=c)):(wr=o,o=c);o!==c;)r.push(o),o=wr,(i=Pr())!==c?(44===n.charCodeAt(wr)?(a=h,wr++):(a=c,0===kr&&jr(dt)),a!==c?(_r=o,o=i):(wr=o,o=c)):(wr=o,o=c);return o=wr,(i=Pr())!==c?(59===n.charCodeAt(wr)?(a=p,wr++):(a=c,0===kr&&jr(ht)),a!==c?(_r=o,o=i):(wr=o,o=c)):(wr=o,o=c),o!==c?e=r=[r,o]:(wr=e,e=c),e!==c&&(_r=t,u=e,e=u[0].concat(u[1])),e;var u}())===c&&(o=null),(i=Dr())===c&&(i=null),_r=e,function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n}(r,o,i)}(),tn(),125===n.charCodeAt(wr)?(u="}",wr++):(u=c,0===kr&&jr(ct)),u!==c?(tn(),_r=r,s=o,(l=a).entities=l.entities||[],e.checkForUndeclaredEntities(l.entities,l.arcs),l=t({meta:e.getMetaInfo(l.options,l.arcs)},l),s.length>0&&(l=t({precomment:s},l)),r=l):(wr=r,r=c)):(wr=r,r=c)):(wr=r,r=c),r}function Ir(){var t,r,o,i,a,u;return kr++,t=wr,tn(),"hscale"===n.substr(wr,6).toLowerCase()?(r=n.substr(wr,6),wr+=6):(r=c,0===kr&&jr(gt)),r===c&&("arcgradient"===n.substr(wr,11).toLowerCase()?(r=n.substr(wr,11),wr+=11):(r=c,0===kr&&jr(bt))),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=function(){var t,e;return kr++,t=wr,(e=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=c,0===kr&&jr(Ue)),e!==c&&(r=en())!==c?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),o!==c?(_r=t,i=r,t=i.toString()):(wr=t,t=c)):(wr=t,t=c),t;var i}())!==c&&(_r=t,e=e),(t=e)===c&&(t=wr,(e=en())!==c&&(_r=t,r=e,e=r.toString()),t=e),kr--,t===c&&(e=c,0===kr&&jr(sr)),t;var r}())!==c?(tn(),_r=t,a=r,u=i,t=e.nameValue2Option(a,u)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),"width"===n.substr(wr,5).toLowerCase()?(r=n.substr(wr,5),wr+=5):(r=c,0===kr&&jr(yt)),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=function(){var t;return kr++,(t=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=c,0===kr&&jr(Ue)),e!==c&&(r=an())!==c?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),o!==c?(_r=t,t=r):(wr=t,t=c)):(wr=t,t=c),t}())===c&&(t=an()),kr--,t===c&&0===kr&&jr(yr),t}())!==c?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),"wordwraparcs"===n.substr(wr,12).toLowerCase()?(r=n.substr(wr,12),wr+=12):(r=c,0===kr&&jr(vt)),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=nn())!==c?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),"wordwrapentities"===n.substr(wr,16).toLowerCase()?(r=n.substr(wr,16),wr+=16):(r=c,0===kr&&jr(xt)),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=nn())!==c?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),"wordwrapboxes"===n.substr(wr,13).toLowerCase()?(r=n.substr(wr,13),wr+=13):(r=c,0===kr&&jr(wt)),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=nn())!==c?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,e.flattenBoolean(r))}(r,i)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),"watermark"===n.substr(wr,9).toLowerCase()?(r=n.substr(wr,9),wr+=9):(r=c,0===kr&&jr(_t)),r!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=Xr())!==c?(tn(),_r=t,t=function(t,r){return e.nameValue2Option(t,r)}(r,i)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c)))))),kr--,t===c&&0===kr&&jr(pt),t}function Pr(){var e,r,o,i,a,u;return kr++,e=wr,tn(),(r=Xr())!==c?(tn(),o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=c,0===kr&&jr(At)),i!==c&&(a=Gr())!==c?(93===n.charCodeAt(wr)?(u=m,wr++):(u=c,0===kr&&jr(St)),u!==c?(_r=o,o=a):(wr=o,o=c)):(wr=o,o=c),o===c&&(o=null),i=tn(),_r=e,e=t({name:r},o)):(wr=e,e=c),e===c&&(e=wr,tn(),(r=qr())!==c?(tn(),o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=c,0===kr&&jr(At)),i!==c&&(a=Gr())!==c?(93===n.charCodeAt(wr)?(u=m,wr++):(u=c,0===kr&&jr(St)),u!==c?(_r=o,o=function(t,e){return e}(0,a)):(wr=o,o=c)):(wr=o,o=c),o===c&&(o=null),i=tn(),_r=e,e=xr(r,o)):(wr=e,e=c)),kr--,e===c&&0===kr&&jr(Ct),e}function Dr(){var t,e,r,o;if(t=[],e=wr,(r=Br())!==c?(tn(),59===n.charCodeAt(wr)?(o=p,wr++):(o=c,0===kr&&jr(ht)),o!==c?(_r=e,e=r):(wr=e,e=c)):(wr=e,e=c),e!==c)for(;e!==c;)t.push(e),e=wr,(r=Br())!==c?(tn(),59===n.charCodeAt(wr)?(o=p,wr++):(o=c,0===kr&&jr(ht)),o!==c?(_r=e,e=r):(wr=e,e=c)):(wr=e,e=c);else t=c;return t}function Br(){var t,e,r,o,i,a,u;for(t=wr,e=wr,r=[],o=wr,(i=Nr())!==c?(tn(),44===n.charCodeAt(wr)?(a=h,wr++):(a=c,0===kr&&jr(dt)),a!==c?(_r=o,o=i):(wr=o,o=c)):(wr=o,o=c);o!==c;)r.push(o),o=wr,(i=Nr())!==c?(tn(),44===n.charCodeAt(wr)?(a=h,wr++):(a=c,0===kr&&jr(dt)),a!==c?(_r=o,o=i):(wr=o,o=c)):(wr=o,o=c);return o=wr,(i=Nr())!==c&&(_r=o,i=i),(o=i)!==c?e=r=[r,o]:(wr=e,e=c),e!==c&&(_r=t,e=(u=e)[0].concat(u[1])),e}function Nr(){var e;return(e=function(){var e,r,o,i,a,u;return e=wr,r=wr,(o=function(){var t,e;return t=wr,tn(),(e=function(){var t;return kr++,n.substr(wr,3)===v?(t=v,wr+=3):(t=c,0===kr&&jr(Et)),t===c&&(n.substr(wr,3)===x?(t=x,wr+=3):(t=c,0===kr&&jr(Tt))),kr--,t===c&&0===kr&&jr(Lt),t}())!==c?(tn(),_r=t,r=e,t={kind:r}):(wr=t,t=c),t;var r}())!==c&&(_r=r,o=o),(r=o)===c&&(r=wr,(o=function(){var t,e,r,o;return t=wr,tn(),(e=Vr())!==c?(tn(),(r=function(){var t,e;return t=wr,(e=Hr())===c&&(e=Wr())===c&&(e=Rr())===c&&(e=function(){var t;return kr++,n.substr(wr,4).toLowerCase()===A?(t=n.substr(wr,4),wr+=4):(t=c,0===kr&&jr(ne)),t===c&&(n.substr(wr,4).toLowerCase()===S?(t=n.substr(wr,4),wr+=4):(t=c,0===kr&&jr(oe)),t===c&&(n.substr(wr,4).toLowerCase()===k?(t=n.substr(wr,4),wr+=4):(t=c,0===kr&&jr(ie)),t===c&&("box"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=c,0===kr&&jr(ae))))),kr--,t===c&&0===kr&&jr(re),t}()),e!==c&&(_r=t,r=e,e=r.toLowerCase()),e;var r}())!==c?(tn(),(o=Vr())!==c?(tn(),_r=t,i=e,a=r,u=o,t={kind:a,from:i,to:u}):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),42===n.charCodeAt(wr)?(e=y,wr++):(e=c,0===kr&&jr(kt)),e!==c?(tn(),(r=Rr())!==c?(tn(),(o=Vr())!==c?(tn(),_r=t,t=function(t,e){return{kind:t,from:"*",to:e}}(r,o)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),(e=Vr())!==c?(tn(),(r=Wr())!==c?(tn(),42===n.charCodeAt(wr)?(o=y,wr++):(o=c,0===kr&&jr(kt)),o!==c?(tn(),_r=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t===c&&(t=wr,tn(),(e=Vr())!==c?(tn(),(r=Hr())!==c?(tn(),42===n.charCodeAt(wr)?(o=y,wr++):(o=c,0===kr&&jr(kt)),o!==c?(tn(),_r=t,t=function(t,e){return{kind:e,from:t,to:"*"}}(e,r)):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c)))),t;var i,a,u}())!==c&&(_r=r,o=o),(r=o)===c&&(r=wr,(o=function(){var t,e;return t=wr,tn(),(e=function(){var t;return kr++,n.substr(wr,3)===w?(t=w,wr+=3):(t=c,0===kr&&jr(Ot)),kr--,t===c&&0===kr&&jr(Mt),t}())!==c?(tn(),_r=t,r=e,t={kind:r}):(wr=t,t=c),t;var r}())!==c&&(_r=r,o=o),r=o)),r!==c?(o=wr,91===n.charCodeAt(wr)?(i=b,wr++):(i=c,0===kr&&jr(At)),i!==c&&(a=Gr())!==c?(93===n.charCodeAt(wr)?(u=m,wr++):(u=c,0===kr&&jr(St)),u!==c?(_r=o,s=a,o=s):(wr=o,o=c)):(wr=o,o=c),o===c&&(o=null),_r=e,e=function(e,r){return t(e,r)}(r,o)):(wr=e,e=c),e;var s}())===c&&(e=function(){var e,r,o,i,a,u,s,l,f,d;return e=wr,tn(),(r=Vr())!==c?(tn(),(o=function(){var t,e;return kr++,t=wr,"alt"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(se)),e===c&&(n.substr(wr,4).toLowerCase()===L?(e=n.substr(wr,4),wr+=4):(e=c,0===kr&&jr(ce)),e===c&&("opt"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(le)),e===c&&(n.substr(wr,5).toLowerCase()===E?(e=n.substr(wr,5),wr+=5):(e=c,0===kr&&jr(fe)),e===c&&("par"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(de)),e===c&&("seq"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(he)),e===c&&(n.substr(wr,6).toLowerCase()===T?(e=n.substr(wr,6),wr+=6):(e=c,0===kr&&jr(pe)),e===c&&("neg"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(ge)),e===c&&(n.substr(wr,8).toLowerCase()===M?(e=n.substr(wr,8),wr+=8):(e=c,0===kr&&jr(be)),e===c&&(n.substr(wr,6).toLowerCase()===O?(e=n.substr(wr,6),wr+=6):(e=c,0===kr&&jr(me)),e===c&&(n.substr(wr,8).toLowerCase()===j?(e=n.substr(wr,8),wr+=8):(e=c,0===kr&&jr(ye)),e===c&&(n.substr(wr,6).toLowerCase()===F?(e=n.substr(wr,6),wr+=6):(e=c,0===kr&&jr(ve)),e===c&&(n.substr(wr,4).toLowerCase()===I?(e=n.substr(wr,4),wr+=4):(e=c,0===kr&&jr(xe)),e===c&&("ref"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(we)),e===c&&("exc"===n.substr(wr,3).toLowerCase()?(e=n.substr(wr,3),wr+=3):(e=c,0===kr&&jr(_e)))))))))))))))),e!==c&&(_r=t,r=e,e=r.toLowerCase()),kr--,(t=e)===c&&(e=c,0===kr&&jr(ue)),t;var r}())!==c?(tn(),(i=Vr())!==c?(tn(),a=wr,91===n.charCodeAt(wr)?(u=b,wr++):(u=c,0===kr&&jr(At)),u!==c&&(s=Gr())!==c?(93===n.charCodeAt(wr)?(l=m,wr++):(l=c,0===kr&&jr(St)),l!==c?(_r=a,h=s,a=h):(wr=a,a=c)):(wr=a,a=c),a===c&&(a=null),u=tn(),123===n.charCodeAt(wr)?(s="{",wr++):(s=c,0===kr&&jr(st)),s!==c?(l=tn(),(f=Dr())===c&&(f=null),tn(),125===n.charCodeAt(wr)?(d="}",wr++):(d=c,0===kr&&jr(ct)),d!==c?(tn(),_r=e,e=function(e,r,n,o,i){return t({kind:r,from:e,to:n,arcs:i},o)}(r,o,i,a,f)):(wr=e,e=c)):(wr=e,e=c)):(wr=e,e=c)):(wr=e,e=c)):(wr=e,e=c),e;var h}()),e}function Hr(){var t;return kr++,"--"===n.substr(wr,2)?(t="--",wr+=2):(t=c,0===kr&&jr(Ft)),t===c&&("<->"===n.substr(wr,3)?(t="<->",wr+=3):(t=c,0===kr&&jr(It)),t===c&&("=="===n.substr(wr,2)?(t="==",wr+=2):(t=c,0===kr&&jr(Pt)),t===c&&(n.substr(wr,5)===_?(t=_,wr+=5):(t=c,0===kr&&jr(Dt)),t===c&&("<=>"===n.substr(wr,3)?(t="<=>",wr+=3):(t=c,0===kr&&jr(Bt)),t===c&&(".."===n.substr(wr,2)?(t="..",wr+=2):(t=c,0===kr&&jr(Nt)),t===c&&(n.substr(wr,4)===C?(t=C,wr+=4):(t=c,0===kr&&jr(Ht)),t===c&&("::"===n.substr(wr,2)?(t="::",wr+=2):(t=c,0===kr&&jr(Wt)),t===c&&("<:>"===n.substr(wr,3)?(t="<:>",wr+=3):(t=c,0===kr&&jr(Rt)))))))))),kr--,t===c&&0===kr&&jr(jt),t}function Wr(){var t;return kr++,"->"===n.substr(wr,2)?(t="->",wr+=2):(t=c,0===kr&&jr(zt)),t===c&&("=>>"===n.substr(wr,3)?(t="=>>",wr+=3):(t=c,0===kr&&jr(Xt)),t===c&&("=>"===n.substr(wr,2)?(t="=>",wr+=2):(t=c,0===kr&&jr(Vt)),t===c&&(">>"===n.substr(wr,2)?(t=">>",wr+=2):(t=c,0===kr&&jr(qt)),t===c&&(":>"===n.substr(wr,2)?(t=":>",wr+=2):(t=c,0===kr&&jr(Ut)),t===c&&("-x"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=c,0===kr&&jr($t))))))),kr--,t===c&&0===kr&&jr(Gt),t}function Rr(){var t;return kr++,"<-"===n.substr(wr,2)?(t="<-",wr+=2):(t=c,0===kr&&jr(Zt)),t===c&&("<<="===n.substr(wr,3)?(t="<<=",wr+=3):(t=c,0===kr&&jr(Yt)),t===c&&("<="===n.substr(wr,2)?(t="<=",wr+=2):(t=c,0===kr&&jr(Qt)),t===c&&("<<"===n.substr(wr,2)?(t="<<",wr+=2):(t=c,0===kr&&jr(Jt)),t===c&&("<:"===n.substr(wr,2)?(t="<:",wr+=2):(t=c,0===kr&&jr(te)),t===c&&("x-"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=c,0===kr&&jr(ee))))))),kr--,t===c&&0===kr&&jr(Kt),t}function Gr(){var e,r,o,i,a,u,s;for(e=wr,r=wr,o=[],i=wr,(a=zr())!==c?(44===n.charCodeAt(wr)?(u=h,wr++):(u=c,0===kr&&jr(dt)),u!==c?(_r=i,i=a):(wr=i,i=c)):(wr=i,i=c);i!==c;)o.push(i),i=wr,(a=zr())!==c?(44===n.charCodeAt(wr)?(u=h,wr++):(u=c,0===kr&&jr(dt)),u!==c?(_r=i,i=a):(wr=i,i=c)):(wr=i,i=c);return i=wr,(a=zr())!==c&&(_r=i,a=a),(i=a)!==c?r=o=[o,i]:(wr=r,r=c),r!==c&&(_r=e,r=(s=r)[0].concat(s[1]).reduce(t,{})),r}function zr(){var t;return(t=function(){var t,r,o,i;return t=wr,tn(),(r=function(){var t;return kr++,n.substr(wr,5).toLowerCase()===B?(t=n.substr(wr,5),wr+=5):(t=c,0===kr&&jr(Le)),t===c&&(n.substr(wr,5).toLowerCase()===N?(t=n.substr(wr,5),wr+=5):(t=c,0===kr&&jr(Ee)),t===c&&("id"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=c,0===kr&&jr(Te)),t===c&&("url"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=c,0===kr&&jr(Me)),t===c&&(n.substr(wr,9).toLowerCase()===H?(t=n.substr(wr,9),wr+=9):(t=c,0===kr&&jr(Oe)),t===c&&(n.substr(wr,10).toLowerCase()===W?(t=n.substr(wr,10),wr+=10):(t=c,0===kr&&jr(je)),t===c&&(n.substr(wr,9).toLowerCase()===R?(t=n.substr(wr,9),wr+=9):(t=c,0===kr&&jr(Fe)),t===c&&(n.substr(wr,10).toLowerCase()===G?(t=n.substr(wr,10),wr+=10):(t=c,0===kr&&jr(Ie)),t===c&&(n.substr(wr,11).toLowerCase()===z?(t=n.substr(wr,11),wr+=11):(t=c,0===kr&&jr(Pe)),t===c&&(n.substr(wr,12).toLowerCase()===X?(t=n.substr(wr,12),wr+=12):(t=c,0===kr&&jr(De)),t===c&&(n.substr(wr,12).toLowerCase()===V?(t=n.substr(wr,12),wr+=12):(t=c,0===kr&&jr(Be)),t===c&&(n.substr(wr,13).toLowerCase()===q?(t=n.substr(wr,13),wr+=13):(t=c,0===kr&&jr(Ne)),t===c&&(n.substr(wr,12).toLowerCase()===U?(t=n.substr(wr,12),wr+=12):(t=c,0===kr&&jr(He)),t===c&&(n.substr(wr,13).toLowerCase()===$?(t=n.substr(wr,13),wr+=13):(t=c,0===kr&&jr(We)),t===c&&(n.substr(wr,14).toLowerCase()===K?(t=n.substr(wr,14),wr+=14):(t=c,0===kr&&jr(Re)),t===c&&(n.substr(wr,15).toLowerCase()===Z?(t=n.substr(wr,15),wr+=15):(t=c,0===kr&&jr(Ge)),t===c&&(n.substr(wr,7).toLowerCase()===Y?(t=n.substr(wr,7),wr+=7):(t=c,0===kr&&jr(ze)),t===c&&(n.substr(wr,5).toLowerCase()===Q?(t=n.substr(wr,5),wr+=5):(t=c,0===kr&&jr(Xe)),t===c&&(n.substr(wr,10).toLowerCase()===J?(t=n.substr(wr,10),wr+=10):(t=c,0===kr&&jr(Ve)))))))))))))))))))),kr--,t===c&&0===kr&&jr(ke),t}())!==c?(tn(),61===n.charCodeAt(wr)?(o=g,wr++):(o=c,0===kr&&jr(mt)),o!==c?(tn(),(i=Vr())!==c?(tn(),_r=t,a=r,u=i,s={},"activation"===a.toLowerCase()?s.activation=e.flattenBoolean(u):s[a.toLowerCase().replace("colour","color")]=u,t=s):(wr=t,t=c)):(wr=t,t=c)):(wr=t,t=c),t;var a,u,s}())===c&&(t=function(){var t,e;return kr++,t=wr,tn(),n.substr(wr,8).toLowerCase()===P?(e=n.substr(wr,8),wr+=8):(e=c,0===kr&&jr(Ae)),e===c&&(n.substr(wr,10).toLowerCase()===D?(e=n.substr(wr,10),wr+=10):(e=c,0===kr&&jr(Se))),e!==c?(tn(),_r=t,r=e,t={activation:"activate"===r.toLowerCase()}):(wr=t,t=c),kr--,t===c&&0===kr&&jr(Ce),t;var r}()),t}function Xr(){var t,e,r,o;return kr++,t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=c,0===kr&&jr(Ue)),e!==c?(r=function(){var t,e,r,o;for(t=[],e=wr,r=wr,kr++,34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),kr--,o===c?r=void 0:(wr=r,r=c),r!==c?(n.substr(wr,2)===et?(o=et,wr+=2):(o=c,0===kr&&jr($e)),o===c&&(n.length>wr?(o=n.charAt(wr),wr++):(o=c,0===kr&&jr(Ke))),o!==c?(_r=e,e=o):(wr=e,e=c)):(wr=e,e=c);e!==c;)t.push(e),e=wr,r=wr,kr++,34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),kr--,o===c?r=void 0:(wr=r,r=c),r!==c?(n.substr(wr,2)===et?(o=et,wr+=2):(o=c,0===kr&&jr($e)),o===c&&(n.length>wr?(o=n.charAt(wr),wr++):(o=c,0===kr&&jr(Ke))),o!==c?(_r=e,e=o):(wr=e,e=c)):(wr=e,e=c);return t}(),34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),o!==c?(_r=t,t=r.join("")):(wr=t,t=c)):(wr=t,t=c),kr--,t===c&&(e=c,0===kr&&jr(qe)),t}function Vr(){var t;return kr++,(t=qr())===c&&(t=Xr()),kr--,t===c&&0===kr&&jr(Ze),t}function qr(){var t,e,r;if(t=wr,e=[],nt.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=c,0===kr&&jr(Ye)),r!==c)for(;r!==c;)e.push(r),nt.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=c,0===kr&&jr(Ye));else e=c;return e!==c&&(_r=t,e=e.join("")),e}function Ur(){var t,e;return kr++,t=wr,ot.test(n.charAt(wr))?(e=n.charAt(wr),wr++):(e=c,0===kr&&jr(Je)),e!==c&&(_r=t,e=e),kr--,(t=e)===c&&(e=c,0===kr&&jr(Qe)),t}function $r(){var t,e;return kr++,t=wr,it.test(n.charAt(wr))?(e=n.charAt(wr),wr++):(e=c,0===kr&&jr(er)),e!==c&&(_r=t,e=e),kr--,(t=e)===c&&(e=c,0===kr&&jr(tr)),t}function Kr(){var t,e,r;return t=wr,e=wr,kr++,n.substr(wr,2)===rt?(r=rt,wr+=2):(r=c,0===kr&&jr(nr)),kr--,r===c?e=void 0:(wr=e,e=c),e!==c?(n.length>wr?(r=n.charAt(wr),wr++):(r=c,0===kr&&jr(Ke)),r!==c?(_r=t,t=r):(wr=t,t=c)):(wr=t,t=c),t}function Zr(){var t,e,r,o,i;if(t=wr,(e=function(){var t;return"/*"===n.substr(wr,2)?(t="/*",wr+=2):(t=c,0===kr&&jr(rr)),t}())!==c){for(r=[],o=Kr();o!==c;)r.push(o),o=Kr();(o=function(){var t;return n.substr(wr,2)===rt?(t=rt,wr+=2):(t=c,0===kr&&jr(nr)),t}())!==c?(_r=t,i=o,t=e+r.join("")+i):(wr=t,t=c)}else wr=t,t=c;return t}function Yr(){var t;return at.test(n.charAt(wr))?(t=n.charAt(wr),wr++):(t=c,0===kr&&jr(ar)),t}function Qr(){var t,e,r,o;if(t=wr,(e=function(){var t;return"//"===n.substr(wr,2)?(t="//",wr+=2):(t=c,0===kr&&jr(or)),t===c&&(35===n.charCodeAt(wr)?(t="#",wr++):(t=c,0===kr&&jr(ir))),t}())!==c){for(r=[],o=Yr();o!==c;)r.push(o),o=Yr();_r=t,t=e+r.join("")}else wr=t,t=c;return t}function Jr(){var t;return kr++,(t=Qr())===c&&(t=Zr()),kr--,t===c&&0===kr&&jr(ur),t}function tn(){var t,e;for(t=[],(e=Ur())===c&&(e=$r())===c&&(e=Jr());e!==c;)t.push(e),(e=Ur())===c&&(e=$r())===c&&(e=Jr());return t}function en(){var t;return(t=function(){var t,e,r,o,i;return t=wr,e=wr,(r=rn())!==c?(46===n.charCodeAt(wr)?(o=".",wr++):(o=c,0===kr&&jr(lr)),o!==c&&(i=rn())!==c?e=r=[r,o,i]:(wr=e,e=c)):(wr=e,e=c),e!==c&&(_r=t,a=e,e=parseFloat(a.join(""))),e;var a}())===c&&(t=rn()),t}function rn(){var t,e,r;if(t=wr,e=[],ut.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=c,0===kr&&jr(cr)),r!==c)for(;r!==c;)e.push(r),ut.test(n.charAt(wr))?(r=n.charAt(wr),wr++):(r=c,0===kr&&jr(cr));else e=c;return e!==c&&(_r=t,e=parseInt(e.join(""),10)),e}function nn(){var t,e;return kr++,t=wr,(e=function(){var t,e,r,o;return t=wr,34===n.charCodeAt(wr)?(e=tt,wr++):(e=c,0===kr&&jr(Ue)),e!==c&&(r=on())!==c?(34===n.charCodeAt(wr)?(o=tt,wr++):(o=c,0===kr&&jr(Ue)),o!==c?(_r=t,t=r):(wr=t,t=c)):(wr=t,t=c),t}())!==c&&(_r=t,e=e),(t=e)===c&&(t=wr,(e=on())!==c&&(_r=t,e=e.toString()),t=e),kr--,t===c&&(e=c,0===kr&&jr(fr)),t}function on(){var t;return"true"===n.substr(wr,4).toLowerCase()?(t=n.substr(wr,4),wr+=4):(t=c,0===kr&&jr(dr)),t===c&&("false"===n.substr(wr,5).toLowerCase()?(t=n.substr(wr,5),wr+=5):(t=c,0===kr&&jr(hr)),t===c&&("on"===n.substr(wr,2).toLowerCase()?(t=n.substr(wr,2),wr+=2):(t=c,0===kr&&jr(pr)),t===c&&("off"===n.substr(wr,3).toLowerCase()?(t=n.substr(wr,3),wr+=3):(t=c,0===kr&&jr(gr)),t===c&&(48===n.charCodeAt(wr)?(t="0",wr++):(t=c,0===kr&&jr(br)),t===c&&(49===n.charCodeAt(wr)?(t="1",wr++):(t=c,0===kr&&jr(mr))))))),t}function an(){var t,e;return t=wr,(e=en())!==c&&(_r=t,e=e.toString()),(t=e)===c&&(t=wr,"auto"===n.substr(wr,4).toLowerCase()?(e=n.substr(wr,4),wr+=4):(e=c,0===kr&&jr(vr)),e!==c&&(_r=t,e=e.toLowerCase()),t=e),t}if((i=d())!==c&&wr===n.length)return i;throw i!==c&&wr<n.length&&jr({type:"end"}),a=Sr,u=Ar<n.length?n.charAt(Ar):null,s=Ar<n.length?Or(Ar,Ar+1):Or(Ar,Ar),new r(r.buildMessage(a,u),a,u,s)}}})?n.apply(e,o):n)||(t.exports=i)},100:t=>{"use strict";t.exports=JSON.parse('{"baseTemplate":"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}","namedStyles":[{"name":"basic","description":"Basic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:underline;}"},{"name":"lazy","description":"Lazy","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{"name":"classic","description":"Classic","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{"name":"fountainpen","description":"Fountain pen","experimental":true,"deprecated":false,"renderMagic":"wobbly","cssBefore":"@import \'https://fonts.googleapis.com/css?family=Gochi+Hand\';","cssAfter":"svg.<%=id%>{font-family:\'Gochi Hand\', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{"name":"cygne","description":"Cygne (best with msgenny)","experimental":true,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"pegasse","description":"Pgase (best with msgenny)","experimental":false,"deprecated":true,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{"name":"grayscaled","description":"Grayscaled (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{"name":"inverted","description":"Inverted (not in IE or Safari)","experimental":true,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{"name":"noentityboxes","description":"No entity boxes","experimental":false,"deprecated":false,"renderMagic":"straight","cssBefore":"","cssAfter":".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}')},808:t=>{"use strict";t.exports={version:"6.0.1"}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),r(607)})()));