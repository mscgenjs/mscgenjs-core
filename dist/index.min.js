!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mscgenjs=e():t.mscgenjs=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=24)}([function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=function(t){return n[t]}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(36)),i=n(r(2)),a=n(r(39)),u=o.default,s={};e.default={init:function(t,e){i.default.init(t),s=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},createSVG:function(t,e,r){return u=function(t){return Boolean(t)?"wobbly"===t?a.default:o.default:u}(r),i.default.createSVG(t,e)},updateSVG:i.default.updateSVG,createTitle:i.default.createTitle,createDesc:i.default.createDesc,createDefs:i.default.createDefs,createTSpan:i.default.createTSpan,createRect:function(t,e){return u.createRect(t,e)},createRBox:function(t,e){return u.createRBox(t,e)},createABox:function(t,e){return u.createABox(t,e)},createNote:function(t,e){return u.createNote(t,e)},createEdgeRemark:function(t,e){return u.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:s.LINE_WIDTH})},createText:i.default.createText,createDiagonalText:i.default.createDiagonalText,createLine:function(t,e){return Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=s.LINE_WIDTH),u.createDoubleLine(t,e)):u.createSingleLine(t,e)},createUTurn:i.default.createUTurn,createGroup:i.default.createGroup,createMarkerPath:i.default.createMarkerPath,createMarkerPolygon:i.default.createMarkerPolygon}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(37)),i=n(r(38)),a=n(r(9)),u=2;function s(t){return a.default(t.x,u).toString()+","+a.default(t.y,u).toString()+" "}function c(t,e,r){return t+s({x:e,y:r})}function l(t,e,r,n){return o.default.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}var f="vertical-align:text-top;";function d(t,e){var r=o.default.createElement("tspan"),n=o.default.createTextNode(t);return r.appendChild(n),e?function(t,e){var r=o.default.createElement("a");return o.default.setAttributesNS(r,o.default.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function h(t,e,r){var n=Object.assign({class:null,url:null,id:null,idurl:null},r),i=o.default.createElement("text",{x:a.default(e.x,u).toString(),y:a.default(e.y,u).toString(),class:n.class});if(i.appendChild(d(t,n.url)),n.id){var s=d(" ["+n.id+"]",n.idurl);s.setAttribute("style",f),i.appendChild(s)}return i}function p(t,e){var r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return g(o.default.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function g(t,e,r){var n="";return r&&(n+="fill:"+r+";"),e&&(n+="stroke:"+e+";"),o.default.setAttribute(t,"style",n)}f+="font-size:0.7em;text-anchor:start;",e.default={init:o.default.init,createSVG:function(t,e){return o.default.createElement("svg",{version:"1.1",id:t,class:e,xmlns:o.default.SVGNS,"xmlns:xlink":o.default.XLINKNS,width:"0",height:"0"})},updateSVG:o.default.setAttributes,createDesc:function(){return o.default.createElement("desc")},createDefs:function(){return o.default.createElement("defs")},createTSpan:d,createText:h,createDiagonalText:function(t,e,r){return o.default.setAttributes(h(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:"rotate("+a.default(i.default(e),u).toString()+" "+a.default(e.width/2,u).toString()+" "+a.default(e.height/2,u).toString()+")"})},createSingleLine:function(t,e){return o.default.createElement("line",{x1:a.default(t.xFrom,u).toString(),y1:a.default(t.yFrom,u).toString(),x2:a.default(t.xTo,u).toString(),y2:a.default(t.yTo,u).toString(),class:e?e.class:null})},createRect:function(t,e){var r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return g(o.default.createElement("rect",{width:a.default(t.width,u),height:a.default(t.height,u),x:a.default(t.x,u),y:a.default(t.y,u),rx:a.default(r.rx,u),ry:a.default(r.ry,u),class:r.class}),r.color,r.bgColor)},createUTurn:function(t,e,r){var n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*n.lineWidth:t.x;return p(c("M",t.x,t.y-t.height/2)+c("C",t.x+t.width,t.y-7.5*n.lineWidth/2)+s({x:t.x+t.width,y:e+0})+s({x:o,y:e}),{class:n.class})},createGroup:function(t,e){return o.default.createElement("g",{id:t,class:e})},createPath:p,createMarkerPath:function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(p(e,{class:"arrow-style",style:"stroke-dasharray:100,1;stroke:"+r||"black"})),n},createMarkerPolygon:function(t,e,r){var n=l(t,"arrow-marker","auto");return n.appendChild(o.default.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},createTitle:function(t){var e=o.default.createElement("title"),r=o.default.createTextNode(t);return e.appendChild(r),e},point2String:s,pathPoint2String:c}},function(t,e,r){"use strict";function n(t,e){return void 0===e||"*"===e||t.some(function(t){return t.name===e})}e.__esModule=!0;var o=function(){return function(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return"Entity '"+t+"' in arc '"+e.from+" "+e.kind+" "+e.to+"' is not defined."}(t,e)}}();e.default={nameValue2Option:function(t,e){var r={};return r[t.toLowerCase()]=e,r},flattenBoolean:function(t){return["true","on","1"].includes(t.toLowerCase())},entityExists:n,checkForUndeclaredEntities:function t(e,r){(r||[]).forEach(function(r){r.forEach(function(r){if(r.from&&!n(e,r.from))throw new o(r.from,r);if(r.to&&!n(e,r.to))throw new o(r.to,r);r.arcs&&t(e,r.arcs)})})},EntityNotDefinedError:o,isMscGenKeyword:function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)},getMetaInfo:function(t,e){var r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some(function(t){return t.some(function(t){return["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)})})}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}}},function(t,e,r){(function(t,r){var n=200,o="__lodash_hash_undefined__",i=9007199254740991,a="[object Arguments]",u="[object Boolean]",s="[object Date]",c="[object Function]",l="[object GeneratorFunction]",f="[object Map]",d="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",b="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",L="[object Uint16Array]",j="[object Uint32Array]",E=/\w*$/,T=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,F={};F[a]=F["[object Array]"]=F[y]=F[x]=F[u]=F[s]=F[v]=F[w]=F[_]=F[C]=F[A]=F[f]=F[d]=F[h]=F[p]=F[g]=F[b]=F[m]=F[k]=F[S]=F[L]=F[j]=!0,F["[object Error]"]=F[c]=F["[object WeakMap]"]=!1;var O="object"==typeof t&&t&&t.Object===Object&&t,I="object"==typeof self&&self&&self.Object===Object&&self,D=O||I||Function("return this")(),P="object"==typeof e&&e&&!e.nodeType&&e,B=P&&"object"==typeof r&&r&&!r.nodeType&&r,N=B&&B.exports===P;function H(t,e){return t.set(e[0],e[1]),t}function W(t,e){return t.add(e),t}function R(t,e,r,n){var o=-1,i=t?t.length:0;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}function G(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function X(t,e){return function(r){return t(e(r))}}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var q=Array.prototype,U=Function.prototype,$=Object.prototype,K=D["__core-js_shared__"],Y=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Z=U.toString,Q=$.hasOwnProperty,J=$.toString,tt=RegExp("^"+Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=N?D.Buffer:void 0,rt=D.Symbol,nt=D.Uint8Array,ot=X(Object.getPrototypeOf,Object),it=Object.create,at=$.propertyIsEnumerable,ut=q.splice,st=Object.getOwnPropertySymbols,ct=et?et.isBuffer:void 0,lt=X(Object.keys,Object),ft=Pt(D,"DataView"),dt=Pt(D,"Map"),ht=Pt(D,"Promise"),pt=Pt(D,"Set"),gt=Pt(D,"WeakMap"),bt=Pt(Object,"create"),mt=Rt(ft),yt=Rt(dt),xt=Rt(ht),vt=Rt(pt),wt=Rt(gt),_t=rt?rt.prototype:void 0,Ct=_t?_t.valueOf:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){this.__data__=new kt(t)}function jt(t,e){var r=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Xt(t)}(t)&&Q.call(t,"callee")&&(!at.call(t,"callee")||J.call(t)==a)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!Q.call(t,i)||o&&("length"==i||Ht(i,n))||r.push(i);return r}function Et(t,e,r){var n=t[e];Q.call(t,e)&&Gt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Tt(t,e){for(var r=t.length;r--;)if(Gt(t[r][0],e))return r;return-1}function Mt(t,e,r,n,o,i,T){var M;if(n&&(M=i?n(t,o,i,T):n(t)),void 0!==M)return M;if(!Ut(t))return t;var O=zt(t);if(O){if(M=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,M)}else{var I=Nt(t),D=I==c||I==l;if(Vt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(I==h||I==a||D&&!i){if(G(t))return i?t:{};if(M=function(t){return"function"!=typeof t.constructor||Wt(t)?{}:function(t){return Ut(t)?it(t):{}}(ot(t))}(D?{}:t),!e)return function(t,e){return It(t,Bt(t),e)}(t,function(t,e){return t&&It(e,$t(e),t)}(M,t))}else{if(!F[I])return i?t:{};M=function(t,e,r,n){var o=t.constructor;switch(e){case y:return Ot(t);case u:case s:return new o(+t);case x:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case v:case w:case _:case C:case A:case k:case S:case L:case j:return function(t,e){var r=e?Ot(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case f:return function(t,e,r){return R(e?r(z(t),!0):z(t),H,new t.constructor)}(t,n,r);case d:case b:return new o(t);case p:return function(t){var e=new t.constructor(t.source,E.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,r){return R(e?r(V(t),!0):V(t),W,new t.constructor)}(t,n,r);case m:return function(t){return Ct?Object(Ct.call(t)):{}}(t)}}(t,I,Mt,e)}}T||(T=new Lt);var P=T.get(t);if(P)return P;if(T.set(t,M),!O)var B=r?function(t){return function(t,e,r){var n=e(t);return zt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,$t,Bt)}(t):$t(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}(B||t,function(o,i){B&&(o=t[i=o]),Et(M,i,Mt(o,e,r,n,i,t,T))}),M}function Ft(t){return!(!Ut(t)||function(t){return!!Y&&Y in t}(t))&&(qt(t)||G(t)?tt:T).test(Rt(t))}function Ot(t){var e=new t.constructor(t.byteLength);return new nt(e).set(new nt(t)),e}function It(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;Et(r,a,void 0===u?t[a]:u)}return r}function Dt(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Pt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(r)?r:void 0}At.prototype.clear=function(){this.__data__=bt?bt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:Q.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?o:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},kt.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},kt.prototype.has=function(t){return Tt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new At,map:new(dt||kt),string:new At}},St.prototype.delete=function(t){return Dt(this,t).delete(t)},St.prototype.get=function(t){return Dt(this,t).get(t)},St.prototype.has=function(t){return Dt(this,t).has(t)},St.prototype.set=function(t,e){return Dt(this,t).set(t,e),this},Lt.prototype.clear=function(){this.__data__=new kt},Lt.prototype.delete=function(t){return this.__data__.delete(t)},Lt.prototype.get=function(t){return this.__data__.get(t)},Lt.prototype.has=function(t){return this.__data__.has(t)},Lt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof kt){var o=r.__data__;if(!dt||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new St(o)}return r.set(t,e),this};var Bt=st?X(st,Object):function(){return[]},Nt=function(t){return J.call(t)};function Ht(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function Wt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||$)}function Rt(t){if(null!=t){try{return Z.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Gt(t,e){return t===e||t!=t&&e!=e}(ft&&Nt(new ft(new ArrayBuffer(1)))!=x||dt&&Nt(new dt)!=f||ht&&"[object Promise]"!=Nt(ht.resolve())||pt&&Nt(new pt)!=g||gt&&"[object WeakMap]"!=Nt(new gt))&&(Nt=function(t){var e=J.call(t),r=e==h?t.constructor:void 0,n=r?Rt(r):void 0;if(n)switch(n){case mt:return x;case yt:return f;case xt:return"[object Promise]";case vt:return g;case wt:return"[object WeakMap]"}return e});var zt=Array.isArray;function Xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!qt(t)}var Vt=ct||function(){return!1};function qt(t){var e=Ut(t)?J.call(t):"";return e==c||e==l}function Ut(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function $t(t){return Xt(t)?jt(t):function(t){if(!Wt(t))return lt(t);var e=[];for(var r in Object(t))Q.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return Mt(t,!0,!0)}}).call(this,r(8),r(33)(t))},function(t,e,r){"use strict";e.__esModule=!0,e.default={LINE_WIDTH:2,FONT_SIZE:12}},function(t,e,r){"use strict";e.__esModule=!0,e.default={determineStartCorrection:function(t,e,r){var n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},determineEndCorrection:function(t,e,r){var n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},getDirection:function(t){var e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}}},function(t,e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var u=Object.prototype,s=u.hasOwnProperty,c=u.toString,l=u.propertyIsEnumerable,f=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),d=Math.max,h=!l.call({valueOf:1},"valueOf");function p(t,e){var r=x(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&v(t)}(t)&&s.call(t,"callee")&&(!l.call(t,"callee")||c.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=r.length,i=!!o;for(var a in t)!e&&!s.call(t,a)||i&&("length"==a||b(a,o))||r.push(a);return r}function g(t,e,r){var n=t[e];s.call(t,e)&&y(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function b(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function m(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||u)}function y(t,e){return t===e||t!=t&&e!=e}var x=Array.isArray;function v(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=w(t)?c.call(t):"";return e==o||e==i}(t)}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var _=function(t){return function(t,e){return e=d(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=d(r.length-e,0),i=Array(o);++n<o;)i[n]=r[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=r[n];return a[e]=i,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,a)}}(function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&function(t,e,r){if(!w(r))return!1;var n=typeof e;return!!("number"==n?v(r)&&b(e,r.length):"string"==n&&e in r)&&y(r[e],t)}(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e})}(function(t,e){if(h||m(e)||v(e))!function(t,e,r,n){r||(r={});for(var o=-1,i=e.length;++o<i;){var a=e[o],u=n?n(r[a],t[a],a,r,t):void 0;g(r,a,void 0===u?t[a]:u)}}(e,function(t){return v(t)?p(t):function(t){if(!m(t))return f(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)s.call(e,r)&&g(t,r,e[r])});t.exports=_},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){return e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(41)),i=n(r(22)),a=n(r(1)),u={},s=i.default.get("bboxer");function c(t){var e=u.getElementById(s);(e=e||function(t){var e=a.default.createSVG(t,i.default.get());return u.body.appendChild(e),e}(s)).appendChild(t);var r=t.getBBox();return e.removeChild(t),r}function l(t){return"function"==typeof t.getBBox?function(t){return Math.abs(t.height)>1e5||Math.abs(t.width)>1e5?{height:0,width:0,x:0,y:0}:t}(c(t)):{height:15,width:15,x:2,y:2}}e.default={init:function(t){u=t},removeRenderedSVGFromElement:function(t){i.default.setPrefix(t);var e=u.getElementById(i.default.get());if(Boolean(e)){var r=u.getElementById(t);r?r.removeChild(e):u.body.removeChild(e)}},getBBox:l,calculateTextHeight:o.default(function(){return l(a.default.createText("ÃjyÃŽ9Æ’@ðŸ’©",{x:0,y:0})).height}),webkitNamespaceBugWorkaround:function(t){return t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(3)),i=n(r(16)),a=function(){function t(t){void 0===t&&(t=!1),this.indent="  ",this.space=" ",this.eol="\n",this.config={},!0===t?(this.indent="",this.space="",this.eol=""):(this.indent="  ",this.space=" ",this.eol="\n"),this.init(this.config)}return t.prototype.init=function(t){this.config=Object.assign({},this.getConfig(),t)},t.prototype.render=function(t){var e="";return t.precomment&&(e+=this.renderComments(t.precomment)),e+=this.config.program.opener,t.options&&(e+=this.renderOptions(t.options)),e+=this.renderEntities(t.entities),t.arcs&&(e+=this.renderArcLines(t.arcs,"")),e+=this.config.program.closer},t.prototype.renderEntityName=function(t){return this.isQuotable(t)?'"'+t+'"':t},t.prototype.renderAttribute=function(t){var e="";return t.name&&t.hasOwnProperty("value")&&(e="string"==typeof t.value?this.renderStringAttribute(t):this.renderNonStringAttribute(t)),e},t.prototype.renderComments=function(t){return t.reduce(function(t,e){return t+e},"")},t.prototype.renderOption=function(t){return t.name+"="+("string"==typeof t.value?'"'+i.default.escapeString(t.value)+'"':t.value.toString())},t.prototype.optionIsValid=function(t){return!0},t.prototype.renderKind=function(t){return t},t.prototype.renderStringAttribute=function(t){return t.name+'="'+i.default.escapeString(t.value)+'"'},t.prototype.renderNonStringAttribute=function(t){return t.name+"="+t.value},t.prototype.getConfig=function(){return{supportedOptions:["hscale","width","arcgradient","wordwraparcs","watermark","wordwrapentities","wordwrapboxes"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip","title","activation"],program:{opener:"msc"+this.space+"{"+this.eol,closer:"}"},option:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},entity:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol+this.eol},attribute:{opener:this.space+"[",separator:","+this.space,closer:"]"},arcline:{opener:this.indent,separator:","+this.eol+this.indent,closer:";"+this.eol},inline:{opener:this.space+"{"+this.eol,closer:this.indent+"}"}}},t.prototype.extractSupportedOptions=function(t,e){return e.filter(function(e){return void 0!==t[e]}).map(function(e){return{name:e,value:t[e]}})},t.prototype.isQuotable=function(t){var e=t.match(/[a-z0-9]+/gi);return e?1!==e.length||o.default.isMscGenKeyword(t):"*"!==t},t.prototype.renderOptions=function(t){var e=this,r=this.extractSupportedOptions(t,this.config.supportedOptions).filter(this.optionIsValid),n="";if(r.length>0){var o=r.pop();n=r.reduce(function(t,r){return t+e.renderOption(r)+e.config.option.separator},this.config.option.opener),n+=this.renderOption(o)+this.config.option.closer}return n},t.prototype.renderEntity=function(t){return this.renderEntityName(t.name)+this.renderAttributes(t,this.config.supportedEntityAttributes)},t.prototype.renderEntities=function(t){var e=this,r="";return t.length>0&&(r=t.slice(0,-1).reduce(function(t,r){return t+e.renderEntity(r)+e.config.entity.separator},this.config.entity.opener),r+=this.renderEntity(t[t.length-1])+this.config.entity.closer),r},t.prototype.renderAttributes=function(t,e){var r=this,n="",o=this.extractSupportedOptions(t,e);if(o.length>0){var i=o.pop();n=o.reduce(function(t,e){return t+r.renderAttribute(e)+r.config.attribute.separator},this.config.attribute.opener),n+=this.renderAttribute(i)+this.config.attribute.closer}return n},t.prototype.renderArc=function(t,e){var r="";return t.from&&(r+=this.renderEntityName(t.from)+" "),r+=this.renderKind(t.kind),t.to&&(r+=" "+this.renderEntityName(t.to)),r+=this.renderAttributes(t,this.config.supportedArcAttributes),t.arcs&&(r+=this.config.inline.opener,r+=this.renderArcLines(t.arcs,e+this.indent),r+=e+this.config.inline.closer),null===t.arcs&&(r+=this.config.inline.opener,r+=e+this.config.inline.closer),r},t.prototype.renderArcLine=function(t,e){var r=this,n="";return t.length>0&&(n=t.slice(0,-1).reduce(function(t,n){return t+e+r.renderArc(n,e)+r.config.arcline.separator},this.config.arcline.opener),n+=e+this.renderArc(t[t.length-1],e)+this.config.arcline.closer),n},t.prototype.renderArcLines=function(t,e){var r=this;return t.reduce(function(t,n){return t+r.renderArcLine(n,e)},"")},t}();e.XuAdaptor=a,e.default={render:function(t,e){return new a(e).render(t)}}},function(t,e,r){"use strict";e.__esModule=!0;var n=r(13);e.default=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:n.namedStyles.map(function(t){return{name:t.name,description:t.description,experimental:t.experimental,deprecated:t.deprecated}})})},function(t){t.exports={baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[{name:"basic",description:"Basic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:underline;}"},{name:"lazy",description:"Lazy",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"},{name:"classic",description:"Classic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"},{name:"fountainpen",description:"Fountain pen",experimental:!0,deprecated:!1,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"},{name:"cygne",description:"Cygne (best with msgenny)",experimental:!0,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"pegasse",description:"PÃ©gase (best with msgenny)",experimental:!1,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"},{name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"},{name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"},{name:"noentityboxes",description:"No entity boxes",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"}]}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(15)),i=n(r(4)),a=n(r(16)),u=n(r(0)),s=n(r(17)),c=n(r(34)),l=0;function f(t){void 0===t.label&&(t.label=t.name)}function d(t){t.label&&(t.label=a.default.unescapeString(t.label)),t.id&&(t.id=a.default.unescapeString(t.id))}function h(t){t.label=Boolean(t.label)?t.label:""}function p(t){if(s.default(t.kind)!==t.kind){t.kind=s.default(t.kind);var e=t.from;t.from=t.to,t.to=e}}function g(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function b(t,e){if(void 0===e&&(e=[]),t&&t.from){var r=e.find(function(e){return e.name===t.from});r&&g(t,r)}}function m(t,e,r,n){var o=[],a=[],s=[];return t.forEach(function(t){if(t.isVirtual=!1,"inline_expression"===u.default(t.kind)){if(t.depth=e,t.isVirtual=!0,t.arcs){var o=i.default(t);o.numberofrows=function t(e){return e.arcs.reduce(function(e,r){return e+(Boolean(r[0].arcs)?t(r[0])+1:0)},e.arcs.length)}(o),delete o.arcs,a.push(o),t.arcs.forEach(function(t){s=s.concat(m(t,e+1,o.from,o.to)),t.forEach(function(t){g(t,o)})}),e>l&&(l=e)}else a.push(t);s.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===u.default(t.kind)&&(t.from=r,t.to=n,t.depth=e),a.push(t)}),o.push(a),o.concat(s)}function y(t){return l=0,{options:c.default(t.options),entities:i.default(t.entities),arcs:function(t){return t?t.reduce(function(t,e){return t.concat(m(e,0))},[]):[]}(t.arcs),depth:l+1}}e.default={nameAsLabel:f,swapRTLArc:p,normalize:y,overrideColors:b,flatten:function(t){return y(o.default(t,[f,d],[p,b,d,h]))}}},function(t,e,r){"use strict";function n(t,e,r){e.forEach(function(e){!function(t,e,r){e.forEach(function(o){!function(t,e,r,n){n.forEach(function(n){n(r,t,e)})}(t,e,o,r),o.arcs&&n(t,o.arcs,r)})}(t,e,r)})}e.__esModule=!0,e.default=function(t,e,r){return function(t,e){t.forEach(function(t){e.forEach(function(e){e(t)})})}(t.entities,e),t.arcs&&n(t.entities,t.arcs,r),t}},function(t,e,r){"use strict";e.__esModule=!0,e.default={unescapeString:function(t){return t.replace(/\\"/g,'"')},escapeString:function(t){return t.replace(/\\"/g,'"').replace(/"/g,'\\"')}}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=function(t){return n[t]||t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(0)),i=n(r(19)),a=n(r(5)),u=n(r(20)),s=n(r(1)),c=n(r(10));function l(t,e){return e&&t.setAttribute("style","fill:"+e+";"),t}function f(t,e,r,n,o,i){var f=r+(o+.25)*c.default.calculateTextHeight(),d=function(t,e){var r=t,n=u.default.getClass(r),o=u.default.getAggregateClass(r);return n===o?n+e:o+e+n+e}(n.kind,"-text ");return i.alignLeft&&(d+="anchor-start "),i.alignAround&&(f=r+(o+.25)*(c.default.calculateTextHeight()+a.default.LINE_WIDTH)),function(t,e,r){return l(t,e&&!r?"blue":r)}(l(function(t,e,r,n,o){var i=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return s.default.createText(t,r,i)}(t,o,{x:e,y:f},d,n),n.textcolor),n.url,n.textcolor)}function d(t,e){return function(t,e){return"box"===o.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==o.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}function h(t,e,r,n,o){return d(e,o)?i.default(t,function(t,e){var r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.default={createLabel:function(t,e,r,n){var o=s.default.createGroup(n);if(r=r||{},t.label){var i=e.x+e.width/2,u=function(t,e){return e.alignAbove&&t.forEach(function(){t.push("")}),e.alignAround&&1===t.length&&t.push(""),t}(h(t.label,t.kind,e.width,a.default.FONT_SIZE,r),r),l=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(c.default.calculateTextHeight()+a.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(c.default.calculateTextHeight()+1)}(u,e,r);u.forEach(function(e,n){if(""!==e){var a=f(e,i,l,t,n,r);r.ownBackground&&o.appendChild(function(t,e){var r=s.default.createRect(c.default.getBBox(t),{class:"label-text-background"});return e&&r.setAttribute("style","fill:"+e+"; stroke:"+e+";"),r}(a,t.textbgcolor)),o.appendChild(a)}l++})}return o},splitLabel:h}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){for(var r=0,n=[],o=0,i=0,a=0,u=0,s=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");u<=s.length;)u>=s.length?n.push(s.substring(o,u)):"\n"===s[u]?(r=0,a=u,n.push(s.substring(o,a)),o=a+1):r++>=e&&(-1===(a=s.substring(0,u).lastIndexOf(" "))||a<o?(r=1,a=u,i=u):(r=0,i=a+1),n.push(s.substring(o,a)),o=i),u++;return n}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(0)),i=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.default={getClass:function(t){return i[t]||t},getAggregateClass:function(t){return o.default(t)||t}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(9)),i=n(r(2)),a=n(r(6)),u=70,s=3;function c(t){return t.map(function(t){return i.default.pathPoint2String("S",t.controlX,t.controlY)+" "+i.default.point2String(t)}).join(" ")}function l(t){var e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function f(t,e){var r=l(t);return r>0?Math.floor(r/e):0}function d(t){return Math.round(2*Math.random()*t)-t}e.points2CurveString=c,e.line2CurveString=function(t){return c(p(t,u,s))},e.getLineLength=l,e.getNumberOfSegments=f;var h=2;function p(t,e,r){for(var n,i=[],u=f(t,e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(l(e),t)}(e,t)),s=a.default.getDirection(t),c=s.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(s.dy,2))),p=s.signY*(Math.abs(s.dy)===1/0?e:Math.sqrt(Math.pow(s.dy,2)*Math.pow(e,2)/(1+Math.pow(s.dy,2)))),g=1;g<=u;g++)e>l({xFrom:(n={controlX:o.default(t.xFrom+(g-.5)*c+d(r),h),controlY:o.default(t.yFrom+(g-.5)*p+d(r),h),x:o.default(t.xFrom+g*c,h),y:o.default(t.yFrom+g*p,h)}).x,yFrom:n.y,xTo:t.xTo,yTo:t.yTo})&&(n.x=t.xTo,n.y=t.yTo),i.push(n);return i}e.getBetweenPoints=p},function(t,e,r){"use strict";e.__esModule=!0;var n="mscgenjs";e.default={setPrefix:function(t){n="mscgenjs"+t},get:function(t){return n+(t||"")}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=o(r(0)),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(e){t.prototype.init.call(this,Object.assign({supportedOptions:["hscale","width","arcgradient","wordwraparcs"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],inline:{opener:";"+this.eol,closer:"#"}},e))},e.prototype.renderKind=function(t){return"inline_expression"===i.default(t)?"--":t},e.prototype.optionIsValid=function(t){return!Boolean(t.value)||"string"!=typeof t.value||"auto"!==t.value.toLowerCase()},e}(r(11).XuAdaptor);e.MscGenAdaptor=a,e.default={render:function(t,e){return new a(e).render(t)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(25)),i=n(r(28));t.exports={renderMsc:function(t,e,r){o.default.renderMsc(t,e||{},r,i.default.getParser,i.default.getGraphicsRenderer)},translateMsc:function(t,e){return o.default.translateMsc(t,e||{},i.default.getParser,i.default.getTextRenderer)},version:o.default.version,getAllowedValues:o.default.getAllowedValues,getParser:i.default.getParser,getGraphicsRenderer:i.default.getGraphicsRenderer,getTextRenderer:i.default.getTextRenderer}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(12)),i=n(r(26)),a=r(27);function u(t,e,r){return function(t,e){return"json"===e&&"object"==typeof t}(t,e)?t:r(e).parse(t)}function s(t,e,r){Boolean(t)&&(Boolean(e)?t(e,null):t(null,r))}e.default={renderMsc:function(t,e,r,n,o){var a=i.default(e,t);try{s(r,null,o().render(u(t,a.inputType,n),a.window,a.elementId,{source:a.source,styleAdditions:a.styleAdditions,additionalTemplate:a.additionalTemplate,mirrorEntitiesOnBottom:a.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:a.regularArcTextVerticalAlignment}))}catch(t){s(r,t)}},translateMsc:function(t,e,r,n){var o=Object.assign({inputType:"mscgen",outputType:"json"},e||{});return"ast"===o.outputType?r(o.inputType).parse(t):"json"===o.outputType?JSON.stringify(r(o.inputType).parse(t),null,"  "):n(o.outputType).render(u(t,o.inputType,r))},version:a.version,getAllowedValues:function(){return o.default}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(12));function i(t,e,r){var n=r;return e.some(function(e){return e.name===t})&&(n=t),n}function a(t,e){return"boolean"==typeof t?t:e}e.default=function(t,e){var r=a(t.includeSource,!0);return{inputType:function(t){return i(t,o.default.inputType,"mscgen")}(t.inputType),elementId:t.elementId||"__svg",window:t.window||window,includeSource:r,source:r?e:null,styleAdditions:t.styleAdditions||null,additionalTemplate:function(t){return i(t,o.default.namedStyle,"basic")}(t.additionalTemplate),mirrorEntitiesOnBottom:a(t.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:function(t){return i(t,o.default.regularArcTextVerticalAlignment,"middle")}(t.regularArcTextVerticalAlignment)}}},function(t){t.exports={name:"mscgenjs",version:"3.0.0-beta-1",description:"Sequence chart rendering library",main:"dist/index.js",files:["dist/","types/","COPYING","LICENSE.md","package.json","README.md"],dependencies:{"lodash.assign":"4.2.0","lodash.clonedeep":"4.5.0","lodash.flatten":"4.4.0","lodash.memoize":"4.1.2"},devDependencies:{"@types/node":"10.11.7",chai:"4.2.0","chai-xml":"0.3.2","dependency-cruiser":"4.6.1",jest:"23.6.0","jest-json-schema":"2.0.1","js-makedepend":"3.0.4",jsdom:"12.2.0","npm-run-all":"4.1.3",pegjs:"0.10.0",requirejs:"2.3.6",shx:"0.3.2","ts-jest":"23.1.4","ts-loader":"5.2.1",tslint:"5.11.0",typescript:"3.1.3",upem:"1.0.1",webpack:"4.20.2","webpack-cli":"3.1.2"},upem:{donotup:["ts-jest"]},scripts:{build:"npm-run-all build:clean build:compile:pegjs build:csstemplates build:copy build:compile:typescript build:bundle","build:bundle":"webpack","build:clean":"npm-run-all --parallel build:clean:dist build:clean:parse build:clean:csstemplates","build:clean:csstemplates":"shx rm -f src/render/graphics/csstemplates.json","build:clean:dist":"shx rm -rf dist/*","build:clean:parse":"shx rm -rf src/parse/*parser.js","build:csstemplates":"node utl/to-csstemplates-js.utility.js > src/render/graphics/csstemplates.json","build:compile:typescript":"tsc --project src","build:compile:pegjs":"npm-run-all --parallel build:compile:pegjs:mscgen build:compile:pegjs:msgenny build:compile:pegjs:xu","build:compile:pegjs:mscgen":"pegjs --extra-options-file config/.pegjs-config.json -o src/parse/mscgenparser.js src/parse/peg/mscgenparser.pegjs","build:compile:pegjs:msgenny":"pegjs --extra-options-file config/.pegjs-config.json -o src/parse/msgennyparser.js src/parse/peg/msgennyparser.pegjs","build:compile:pegjs:xu":"pegjs --extra-options-file config/.pegjs-config.json -o src/parse/xuparser.js src/parse/peg/xuparser.pegjs","build:copy":"npm-run-all build:copy:mkdir build:copy:copy build:copy:csstemplates","build:copy:mkdir":"shx mkdir -p dist/parse dist/render/graphics","build:copy:copy":"shx cp src/parse/*.js* dist/parse","build:copy:csstemplates":"shx cp src/render/graphics/csstemplates.json dist/render/graphics/csstemplates.json",check:"npm-run-all depcruise lint test:all","check:ci":"npm-run-all depcruise lint test:all:ci","check:full":"npm-run-all --parallel depcruise lint test:cover",depcruise:"depcruise --validate -- src test","depcruise:graph":'depcruise --exclude .d.ts --validate --do-not-follow "node_modules" --module-systems es6,cjs --output-type rcdot src | dot -T svg > tmp_deps.svg',lint:"tslint --project .","lint:fix":"tslint --fix --project .",test:"jest --onlyChanged --collectCoverage false","test:all":"jest --collectCoverage false","test:all:ci":"jest --collectCoverage false --runInBand # runInBand (=sequentially) so node 6 on travis doesn't hang","test:cover":"jest","update-dependencies":"npm-run-all upem:update upem:install build lint:fix check:full","upem:update":"npm outdated --json | upem","upem:install":"npm install",watch:"tsc --project src --watch"},repository:{type:"git",url:"https://github.com/mscgenjs/mscgenjs-core"},author:"Sander Verweij",license:"GPL-3.0",keywords:["mscgen","sequence chart","sequence diagram","xu","msgenny"],jest:{moduleFileExtensions:["ts","js"],transform:{"\\.(ts)$":"ts-jest"},testRegex:"test.*\\.spec\\.(ts|js)$",testURL:"http://localhost",collectCoverage:!0,coverageReporters:["text-summary","html","lcov"],collectCoverageFrom:["src/index.ts","src/index-lazy.ts","src/main/**/*.ts","src/parse/**/*.ts","src/render/**/*.ts"],coveragePathIgnorePatterns:[".+\\.d\\.ts$","src/render/graphics/styling","src/render/graphics/svgelementfactory/wobbly","src/parse/.+parser\\.js"],coverageThreshold:{global:{statements:99.8,branches:93.8,functions:100,lines:99.8},"src/main":{statements:100,branches:97.3,functions:100,lines:100},"src/render":{statements:99.8,branches:93.2,functions:100,lines:99.8},"src/parse":{statements:100,branches:100,functions:100,lines:100}}},engines:{node:">=6.0"},types:"./types/mscgen.d.ts",bugs:{url:"https://github.com/mscgenjs/mscgenjs-core/issues"},homepage:"https://github.com/mscgenjs/mscgenjs-core"}},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var i=n(r(29)),a=n(r(30)),u=n(r(31)),s=o(r(32)),c=o(r(47)),l=o(r(49)),f=o(r(23)),d=o(r(50)),h=o(r(11)),p=i,g=f.default,b=Object.freeze({mscgen:i,xu:u,msgenny:a}),m=Object.freeze({mscgen:f.default,msgenny:d.default,xu:h.default,dot:c.default,doxygen:l.default});e.default={getParser:function(t){return["ast","json"].includes(t)?JSON:b[t]||p},getGraphicsRenderer:function(){return s.default},getTextRenderer:function(t){return m[t]||g}}},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=a(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:dn},s=dn,c="{",l=on("{",!1),f="}",d=on("}",!1),h=function(r,n){return n.entities=n.entities||[],e.default.checkForUndeclaredEntities(n.entities,n.arcs),n=t({meta:{extendedOptions:!1,extendedArcTypes:!1,extendedFeatures:!1}},n),r.length>0&&(n=t({precomment:r},n)),n},p="msc",g=on("msc",!0),b=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},m=",",y=on(",",!1),x=function(t){return t},v=";",w=on(";",!1),_=function(e){return e[0].concat(e[1]).reduce(t,{})},C=un("option"),A="hscale",k=on("hscale",!0),S="width",L=on("width",!0),j="arcgradient",E=on("arcgradient",!0),T="=",M=on("=",!1),F=function(t,r){return e.default.nameValue2Option(t,r)},O="wordwraparcs",I=on("wordwraparcs",!0),D=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},P=function(t){return t},B=function(t){return t[0].concat(t[1])},N=un("entity"),H="[",W=on("[",!1),R="]",G=on("]",!1),z=function(t,e){return e},X=function(e,r){return t({name:e},r)},V=function(n,o){return e.default.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:cn(Jr,Qr),function(t,e){return new r(t,null,null,e)}(t,e)}("Keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},q=function(t){return t},U=function(t){return t[0].concat(t[1])},$=function(t,e){return e},K=function(e,r){return t(e,r)},Y=function(t){return{kind:t}},Z=function(t,e,r){return{kind:e,from:t,to:r}},Q="*",J=on("*",!1),tt=function(t,e){return{kind:t,from:"*",to:e}},et=function(t,e){return{kind:e,from:t,to:"*"}},rt=un("empty row"),nt="|||",ot=on("|||",!1),it="...",at=on("...",!1),ut=un("---"),st="---",ct=on("---",!1),lt=function(t){return t.toLowerCase()},ft=un("bi-directional arrow"),dt="--",ht=on("--",!1),pt="<->",gt=on("<->",!1),bt="==",mt=on("==",!1),yt="<<=>>",xt=on("<<=>>",!1),vt="<=>",wt=on("<=>",!1),_t="..",Ct=on("..",!1),At="<<>>",kt=on("<<>>",!1),St="::",Lt=on("::",!1),jt="<:>",Et=on("<:>",!1),Tt=un("left to right arrow"),Mt="->",Ft=on("->",!1),Ot="=>>",It=on("=>>",!1),Dt="=>",Pt=on("=>",!1),Bt=">>",Nt=on(">>",!1),Ht=":>",Wt=on(":>",!1),Rt="-x",Gt=on("-x",!0),zt=un("right to left arrow"),Xt="<-",Vt=on("<-",!1),qt="<<=",Ut=on("<<=",!1),$t="<=",Kt=on("<=",!1),Yt="<<",Zt=on("<<",!1),Qt="<:",Jt=on("<:",!1),te="x-",ee=on("x-",!0),re=un("box"),ne="note",oe=on("note",!0),ie="abox",ae=on("abox",!0),ue="rbox",se=on("rbox",!0),ce="box",le=on("box",!0),fe=function(e){return e[0].concat(e[1]).reduce(t,{})},de=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},he=un("attribute name"),pe="label",ge=on("label",!0),be="idurl",me=on("idurl",!0),ye="id",xe=on("id",!0),ve="url",we=on("url",!0),_e="linecolor",Ce=on("linecolor",!0),Ae="linecolour",ke=on("linecolour",!0),Se="textcolor",Le=on("textcolor",!0),je="textcolour",Ee=on("textcolour",!0),Te="textbgcolor",Me=on("textbgcolor",!0),Fe="textbgcolour",Oe=on("textbgcolour",!0),Ie="arclinecolor",De=on("arclinecolor",!0),Pe="arclinecolour",Be=on("arclinecolour",!0),Ne="arctextcolor",He=on("arctextcolor",!0),We="arctextcolour",Re=on("arctextcolour",!0),Ge="arctextbgcolor",ze=on("arctextbgcolor",!0),Xe="arctextbgcolour",Ve=on("arctextbgcolour",!0),qe="arcskip",Ue=on("arcskip",!0),$e=un("double quoted string"),Ke='"',Ye=on('"',!1),Ze=function(t){return t.join("")},Qe='\\"',Je=on('\\"',!1),tr={type:"any"},er=function(t){return t},rr=un("identifier"),nr=/^[A-Za-z_0-9]/,or=an([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),ir=function(t){return t.join("")},ar=un("whitespace"),ur=/^[ \t]/,sr=an([" ","\t"],!1,!1),cr=un("lineend"),lr=/^[\r\n]/,fr=an(["\r","\n"],!1,!1),dr="/*",hr=on("/*",!1),pr="*/",gr=on("*/",!1),br=function(t,e,r){return t+e.join("")+r},mr="//",yr=on("//",!1),xr="#",vr=on("#",!1),wr=/^[^\r\n]/,_r=an(["\r","\n"],!0,!1),Cr=function(t,e){return t+e.join("")},Ar=un("comment"),kr=un("number"),Sr=function(t){return t},Lr=function(t){return t.toString()},jr=function(t){return t.toString()},Er=un("cardinal"),Tr=/^[0-9]/,Mr=an([["0","9"]],!1,!1),Fr=function(t){return parseInt(t.join(""),10)},Or=un("real"),Ir=".",Dr=on(".",!1),Pr=function(t){return parseFloat(t.join(""))},Br=un("boolean"),Nr=function(t){return t},Hr=function(t){return t.toString()},Wr="true",Rr=on("true",!0),Gr="false",zr=on("false",!0),Xr="on",Vr=on("on",!0),qr="off",Ur=on("off",!0),$r="0",Kr=on("0",!1),Yr="1",Zr=on("1",!1),Qr=0,Jr=0,tn=[{line:1,column:1}],en=0,rn=[],nn=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function on(t,e){return{type:"literal",text:t,ignoreCase:e}}function an(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function un(t){return{type:"other",description:t}}function sn(t){var e,r=tn[t];if(r)return r;for(e=t-1;!tn[e];)e--;for(r={line:(r=tn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return tn[t]=r,r}function cn(t,e){var r=sn(t),n=sn(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function ln(t){Qr<en||(Qr>en&&(en=Qr,rn=[]),rn.push(t))}function fn(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function dn(){var t,e,r,o,i;return t=Qr,(e=Fn())!==a&&function(){var t;return n.substr(Qr,3).toLowerCase()===p?(t=n.substr(Qr,3),Qr+=3):(t=a,0===nn&&ln(g)),t}()!==a&&Fn()!==a?(123===n.charCodeAt(Qr)?(r=c,Qr++):(r=a,0===nn&&ln(l)),r!==a&&Fn()!==a&&(o=function(){var t,e,r,o;return t=Qr,(e=function(){var t,e,r,o,i,u;for(t=Qr,e=Qr,r=[],o=Qr,(i=hn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=x(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);o!==a;)r.push(o),o=Qr,(i=hn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=x(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);return r!==a?(o=Qr,(i=hn())!==a?(59===n.charCodeAt(Qr)?(u=v,Qr++):(u=a,0===nn&&ln(w)),u!==a?(Jr=o,i=x(i),o=i):(Qr=o,o=a)):(Qr=o,o=a),o!==a?e=r=[r,o]:(Qr=e,e=a)):(Qr=e,e=a),e!==a&&(Jr=t,e=_(e)),t=e}())===a&&(e=null),e!==a?((r=function(){var t,e,r,o,i,u;for(t=Qr,e=Qr,r=[],o=Qr,(i=pn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=P(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);o!==a;)r.push(o),o=Qr,(i=pn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=P(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);return r!==a?(o=Qr,(i=pn())!==a?(59===n.charCodeAt(Qr)?(u=v,Qr++):(u=a,0===nn&&ln(w)),u!==a?(Jr=o,i=P(i),o=i):(Qr=o,o=a)):(Qr=o,o=a),o!==a?e=r=[r,o]:(Qr=e,e=a)):(Qr=e,e=a),e!==a&&(Jr=t,e=B(e)),t=e}())===a&&(r=null),r!==a?((o=function(){var t,e,r,o;if(t=[],e=Qr,(r=gn())!==a&&Fn()!==a?(59===n.charCodeAt(Qr)?(o=v,Qr++):(o=a,0===nn&&ln(w)),o!==a?(Jr=e,r=q(r),e=r):(Qr=e,e=a)):(Qr=e,e=a),e!==a)for(;e!==a;)t.push(e),e=Qr,(r=gn())!==a&&Fn()!==a?(59===n.charCodeAt(Qr)?(o=v,Qr++):(o=a,0===nn&&ln(w)),o!==a?(Jr=e,r=q(r),e=r):(Qr=e,e=a)):(Qr=e,e=a);else t=a;return t}())===a&&(o=null),o!==a?(Jr=t,e=b(e,r,o),t=e):(Qr=t,t=a)):(Qr=t,t=a)):(Qr=t,t=a),t}())!==a&&Fn()!==a?(125===n.charCodeAt(Qr)?(i=f,Qr++):(i=a,0===nn&&ln(d)),i!==a&&Fn()!==a?(Jr=t,e=h(e,o),t=e):(Qr=t,t=a)):(Qr=t,t=a)):(Qr=t,t=a),t}function hn(){var t,e,r,o,i;return nn++,t=Qr,(e=Fn())!==a?(n.substr(Qr,6).toLowerCase()===A?(r=n.substr(Qr,6),Qr+=6):(r=a,0===nn&&ln(k)),r===a&&(n.substr(Qr,5).toLowerCase()===S?(r=n.substr(Qr,5),Qr+=5):(r=a,0===nn&&ln(L)),r===a&&(n.substr(Qr,11).toLowerCase()===j?(r=n.substr(Qr,11),Qr+=11):(r=a,0===nn&&ln(E)))),r!==a&&Fn()!==a?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=a,0===nn&&ln(M)),o!==a&&Fn()!==a&&(i=function(){var t,e;return nn++,t=Qr,(e=function(){var t,e,r,o;return t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=a,0===nn&&ln(Ye)),e!==a&&(r=On())!==a?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=a,0===nn&&ln(Ye)),o!==a?(Jr=t,e=jr(r),t=e):(Qr=t,t=a)):(Qr=t,t=a),t}())!==a&&(Jr=t,e=Sr(e)),(t=e)===a&&(t=Qr,(e=On())!==a&&(Jr=t,e=Lr(e)),t=e),nn--,t===a&&(e=a,0===nn&&ln(kr)),t}())!==a&&Fn()!==a?(Jr=t,e=F(r,i),t=e):(Qr=t,t=a)):(Qr=t,t=a)):(Qr=t,t=a),t===a&&(t=Qr,(e=Fn())!==a?(n.substr(Qr,12).toLowerCase()===O?(r=n.substr(Qr,12),Qr+=12):(r=a,0===nn&&ln(I)),r!==a&&Fn()!==a?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=a,0===nn&&ln(M)),o!==a&&Fn()!==a&&(i=function(){var t,e;return nn++,t=Qr,(e=function(){var t,e,r,o;return t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=a,0===nn&&ln(Ye)),e!==a&&(r=Dn())!==a?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=a,0===nn&&ln(Ye)),o!==a?(Jr=t,e=Sr(r),t=e):(Qr=t,t=a)):(Qr=t,t=a),t}())!==a&&(Jr=t,e=Nr(e)),(t=e)===a&&(t=Qr,(e=Dn())!==a&&(Jr=t,e=Hr(e)),t=e),nn--,t===a&&(e=a,0===nn&&ln(Br)),t}())!==a&&Fn()!==a?(Jr=t,e=D(r,i),t=e):(Qr=t,t=a)):(Qr=t,t=a)):(Qr=t,t=a)),nn--,t===a&&(e=a,0===nn&&ln(C)),t}function pn(){var t,e,r,o,i,u,s;return nn++,t=Qr,(e=Fn())!==a&&(r=_n())!==a&&Fn()!==a?(o=Qr,91===n.charCodeAt(Qr)?(i=H,Qr++):(i=a,0===nn&&ln(W)),i!==a&&(u=vn())!==a?(93===n.charCodeAt(Qr)?(s=R,Qr++):(s=a,0===nn&&ln(G)),s!==a?(Jr=o,i=z(r,u),o=i):(Qr=o,o=a)):(Qr=o,o=a),o===a&&(o=null),o!==a&&(i=Fn())!==a?(Jr=t,e=X(r,o),t=e):(Qr=t,t=a)):(Qr=t,t=a),t===a&&(t=Qr,(e=Fn())!==a&&(r=An())!==a&&Fn()!==a?(o=Qr,91===n.charCodeAt(Qr)?(i=H,Qr++):(i=a,0===nn&&ln(W)),i!==a&&(u=vn())!==a?(93===n.charCodeAt(Qr)?(s=R,Qr++):(s=a,0===nn&&ln(G)),s!==a?(Jr=o,i=z(r,u),o=i):(Qr=o,o=a)):(Qr=o,o=a),o===a&&(o=null),o!==a&&(i=Fn())!==a?(Jr=t,e=V(r,o),t=e):(Qr=t,t=a)):(Qr=t,t=a)),nn--,t===a&&(e=a,0===nn&&ln(N)),t}function gn(){var t,e,r,o,i,u;for(t=Qr,e=Qr,r=[],o=Qr,(i=bn())!==a&&Fn()!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=q(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);o!==a;)r.push(o),o=Qr,(i=bn())!==a&&Fn()!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=q(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);return r!==a?(o=Qr,(i=bn())!==a&&(Jr=o,i=q(i)),(o=i)!==a?e=r=[r,o]:(Qr=e,e=a)):(Qr=e,e=a),e!==a&&(Jr=t,e=U(e)),t=e}function bn(){var t,e,r,o,i,u;return t=Qr,e=Qr,(r=function(){var t,e,r;return t=Qr,(e=Fn())!==a&&(r=function(){var t;return nn++,n.substr(Qr,3)===nt?(t=nt,Qr+=3):(t=a,0===nn&&ln(ot)),t===a&&(n.substr(Qr,3)===it?(t=it,Qr+=3):(t=a,0===nn&&ln(at))),nn--,t===a&&0===nn&&ln(rt),t}())!==a&&Fn()!==a?(Jr=t,e=Y(r),t=e):(Qr=t,t=a),t}())!==a&&(Jr=e,r=q(r)),(e=r)===a&&(e=Qr,(r=function(){var t,e,r,o,i;return t=Qr,(e=Fn())!==a&&(r=Cn())!==a&&Fn()!==a&&(o=function(){var t,e;return t=Qr,(e=mn())===a&&(e=yn())===a&&(e=xn())===a&&(e=function(){var t;return nn++,n.substr(Qr,4).toLowerCase()===ne?(t=n.substr(Qr,4),Qr+=4):(t=a,0===nn&&ln(oe)),t===a&&(n.substr(Qr,4).toLowerCase()===ie?(t=n.substr(Qr,4),Qr+=4):(t=a,0===nn&&ln(ae)),t===a&&(n.substr(Qr,4).toLowerCase()===ue?(t=n.substr(Qr,4),Qr+=4):(t=a,0===nn&&ln(se)),t===a&&(n.substr(Qr,3).toLowerCase()===ce?(t=n.substr(Qr,3),Qr+=3):(t=a,0===nn&&ln(le))))),nn--,t===a&&0===nn&&ln(re),t}()),e!==a&&(Jr=t,e=lt(e)),t=e}())!==a&&Fn()!==a&&(i=Cn())!==a&&Fn()!==a?(Jr=t,e=Z(r,o,i),t=e):(Qr=t,t=a),t===a&&(t=Qr,(e=Fn())!==a?(42===n.charCodeAt(Qr)?(r=Q,Qr++):(r=a,0===nn&&ln(J)),r!==a&&Fn()!==a&&(o=xn())!==a&&Fn()!==a&&(i=Cn())!==a&&Fn()!==a?(Jr=t,e=tt(o,i),t=e):(Qr=t,t=a)):(Qr=t,t=a),t===a&&(t=Qr,(e=Fn())!==a&&(r=Cn())!==a&&Fn()!==a&&(o=yn())!==a&&Fn()!==a?(42===n.charCodeAt(Qr)?(i=Q,Qr++):(i=a,0===nn&&ln(J)),i!==a&&Fn()!==a?(Jr=t,e=et(r,o),t=e):(Qr=t,t=a)):(Qr=t,t=a),t===a&&(t=Qr,(e=Fn())!==a&&(r=Cn())!==a&&Fn()!==a&&(o=mn())!==a&&Fn()!==a?(42===n.charCodeAt(Qr)?(i=Q,Qr++):(i=a,0===nn&&ln(J)),i!==a&&Fn()!==a?(Jr=t,e=et(r,o),t=e):(Qr=t,t=a)):(Qr=t,t=a)))),t}())!==a&&(Jr=e,r=q(r)),(e=r)===a&&(e=Qr,(r=function(){var t,e,r;return t=Qr,(e=Fn())!==a&&(r=function(){var t;return nn++,n.substr(Qr,3)===st?(t=st,Qr+=3):(t=a,0===nn&&ln(ct)),nn--,t===a&&0===nn&&ln(ut),t}())!==a&&Fn()!==a?(Jr=t,e=Y(r),t=e):(Qr=t,t=a),t}())!==a&&(Jr=e,r=q(r)),e=r)),e!==a?(r=Qr,91===n.charCodeAt(Qr)?(o=H,Qr++):(o=a,0===nn&&ln(W)),o!==a&&(i=vn())!==a?(93===n.charCodeAt(Qr)?(u=R,Qr++):(u=a,0===nn&&ln(G)),u!==a?(Jr=r,o=$(e,i),r=o):(Qr=r,r=a)):(Qr=r,r=a),r===a&&(r=null),r!==a?(Jr=t,e=K(e,r),t=e):(Qr=t,t=a)):(Qr=t,t=a),t}function mn(){var t;return nn++,n.substr(Qr,2)===dt?(t=dt,Qr+=2):(t=a,0===nn&&ln(ht)),t===a&&(n.substr(Qr,3)===pt?(t=pt,Qr+=3):(t=a,0===nn&&ln(gt)),t===a&&(n.substr(Qr,2)===bt?(t=bt,Qr+=2):(t=a,0===nn&&ln(mt)),t===a&&(n.substr(Qr,5)===yt?(t=yt,Qr+=5):(t=a,0===nn&&ln(xt)),t===a&&(n.substr(Qr,3)===vt?(t=vt,Qr+=3):(t=a,0===nn&&ln(wt)),t===a&&(n.substr(Qr,2)===_t?(t=_t,Qr+=2):(t=a,0===nn&&ln(Ct)),t===a&&(n.substr(Qr,4)===At?(t=At,Qr+=4):(t=a,0===nn&&ln(kt)),t===a&&(n.substr(Qr,2)===St?(t=St,Qr+=2):(t=a,0===nn&&ln(Lt)),t===a&&(n.substr(Qr,3)===jt?(t=jt,Qr+=3):(t=a,0===nn&&ln(Et)))))))))),nn--,t===a&&0===nn&&ln(ft),t}function yn(){var t;return nn++,n.substr(Qr,2)===Mt?(t=Mt,Qr+=2):(t=a,0===nn&&ln(Ft)),t===a&&(n.substr(Qr,3)===Ot?(t=Ot,Qr+=3):(t=a,0===nn&&ln(It)),t===a&&(n.substr(Qr,2)===Dt?(t=Dt,Qr+=2):(t=a,0===nn&&ln(Pt)),t===a&&(n.substr(Qr,2)===Bt?(t=Bt,Qr+=2):(t=a,0===nn&&ln(Nt)),t===a&&(n.substr(Qr,2)===Ht?(t=Ht,Qr+=2):(t=a,0===nn&&ln(Wt)),t===a&&(n.substr(Qr,2).toLowerCase()===Rt?(t=n.substr(Qr,2),Qr+=2):(t=a,0===nn&&ln(Gt))))))),nn--,t===a&&0===nn&&ln(Tt),t}function xn(){var t;return nn++,n.substr(Qr,2)===Xt?(t=Xt,Qr+=2):(t=a,0===nn&&ln(Vt)),t===a&&(n.substr(Qr,3)===qt?(t=qt,Qr+=3):(t=a,0===nn&&ln(Ut)),t===a&&(n.substr(Qr,2)===$t?(t=$t,Qr+=2):(t=a,0===nn&&ln(Kt)),t===a&&(n.substr(Qr,2)===Yt?(t=Yt,Qr+=2):(t=a,0===nn&&ln(Zt)),t===a&&(n.substr(Qr,2)===Qt?(t=Qt,Qr+=2):(t=a,0===nn&&ln(Jt)),t===a&&(n.substr(Qr,2).toLowerCase()===te?(t=n.substr(Qr,2),Qr+=2):(t=a,0===nn&&ln(ee))))))),nn--,t===a&&0===nn&&ln(zt),t}function vn(){var t,e,r,o,i,u;for(t=Qr,e=Qr,r=[],o=Qr,(i=wn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=q(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);o!==a;)r.push(o),o=Qr,(i=wn())!==a?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=a,0===nn&&ln(y)),u!==a?(Jr=o,i=q(i),o=i):(Qr=o,o=a)):(Qr=o,o=a);return r!==a?(o=Qr,(i=wn())!==a&&(Jr=o,i=q(i)),(o=i)!==a?e=r=[r,o]:(Qr=e,e=a)):(Qr=e,e=a),e!==a&&(Jr=t,e=fe(e)),t=e}function wn(){var t,e,r,o,i;return t=Qr,(e=Fn())!==a&&(r=function(){var t;return nn++,n.substr(Qr,5).toLowerCase()===pe?(t=n.substr(Qr,5),Qr+=5):(t=a,0===nn&&ln(ge)),t===a&&(n.substr(Qr,5).toLowerCase()===be?(t=n.substr(Qr,5),Qr+=5):(t=a,0===nn&&ln(me)),t===a&&(n.substr(Qr,2).toLowerCase()===ye?(t=n.substr(Qr,2),Qr+=2):(t=a,0===nn&&ln(xe)),t===a&&(n.substr(Qr,3).toLowerCase()===ve?(t=n.substr(Qr,3),Qr+=3):(t=a,0===nn&&ln(we)),t===a&&(n.substr(Qr,9).toLowerCase()===_e?(t=n.substr(Qr,9),Qr+=9):(t=a,0===nn&&ln(Ce)),t===a&&(n.substr(Qr,10).toLowerCase()===Ae?(t=n.substr(Qr,10),Qr+=10):(t=a,0===nn&&ln(ke)),t===a&&(n.substr(Qr,9).toLowerCase()===Se?(t=n.substr(Qr,9),Qr+=9):(t=a,0===nn&&ln(Le)),t===a&&(n.substr(Qr,10).toLowerCase()===je?(t=n.substr(Qr,10),Qr+=10):(t=a,0===nn&&ln(Ee)),t===a&&(n.substr(Qr,11).toLowerCase()===Te?(t=n.substr(Qr,11),Qr+=11):(t=a,0===nn&&ln(Me)),t===a&&(n.substr(Qr,12).toLowerCase()===Fe?(t=n.substr(Qr,12),Qr+=12):(t=a,0===nn&&ln(Oe)),t===a&&(n.substr(Qr,12).toLowerCase()===Ie?(t=n.substr(Qr,12),Qr+=12):(t=a,0===nn&&ln(De)),t===a&&(n.substr(Qr,13).toLowerCase()===Pe?(t=n.substr(Qr,13),Qr+=13):(t=a,0===nn&&ln(Be)),t===a&&(n.substr(Qr,12).toLowerCase()===Ne?(t=n.substr(Qr,12),Qr+=12):(t=a,0===nn&&ln(He)),t===a&&(n.substr(Qr,13).toLowerCase()===We?(t=n.substr(Qr,13),Qr+=13):(t=a,0===nn&&ln(Re)),t===a&&(n.substr(Qr,14).toLowerCase()===Ge?(t=n.substr(Qr,14),Qr+=14):(t=a,0===nn&&ln(ze)),t===a&&(n.substr(Qr,15).toLowerCase()===Xe?(t=n.substr(Qr,15),Qr+=15):(t=a,0===nn&&ln(Ve)),t===a&&(n.substr(Qr,7).toLowerCase()===qe?(t=n.substr(Qr,7),Qr+=7):(t=a,0===nn&&ln(Ue)))))))))))))))))),nn--,t===a&&0===nn&&ln(he),t}())!==a&&Fn()!==a?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=a,0===nn&&ln(M)),o!==a&&Fn()!==a&&(i=Cn())!==a&&Fn()!==a?(Jr=t,e=de(r,i),t=e):(Qr=t,t=a)):(Qr=t,t=a),t}function _n(){var t,e,r,o;return nn++,t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=a,0===nn&&ln(Ye)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=Qr,r=Qr,nn++,34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=a,0===nn&&ln(Ye)),nn--,o===a?r=void 0:(Qr=r,r=a),r!==a?(n.substr(Qr,2)===Qe?(o=Qe,Qr+=2):(o=a,0===nn&&ln(Je)),o===a&&(n.length>Qr?(o=n.charAt(Qr),Qr++):(o=a,0===nn&&ln(tr))),o!==a?(Jr=e,r=er(o),e=r):(Qr=e,e=a)):(Qr=e,e=a);e!==a;)t.push(e),e=Qr,r=Qr,nn++,34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=a,0===nn&&ln(Ye)),nn--,o===a?r=void 0:(Qr=r,r=a),r!==a?(n.substr(Qr,2)===Qe?(o=Qe,Qr+=2):(o=a,0===nn&&ln(Je)),o===a&&(n.length>Qr?(o=n.charAt(Qr),Qr++):(o=a,0===nn&&ln(tr))),o!==a?(Jr=e,r=er(o),e=r):(Qr=e,e=a)):(Qr=e,e=a);return t}())!==a?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=a,0===nn&&ln(Ye)),o!==a?(Jr=t,e=Ze(r),t=e):(Qr=t,t=a)):(Qr=t,t=a),nn--,t===a&&(e=a,0===nn&&ln($e)),t}function Cn(){var t;return nn++,(t=An())===a&&(t=_n()),nn--,t===a&&0===nn&&ln(rr),t}function An(){var t,e,r;if(t=Qr,e=[],nr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=a,0===nn&&ln(or)),r!==a)for(;r!==a;)e.push(r),nr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=a,0===nn&&ln(or));else e=a;return e!==a&&(Jr=t,e=ir(e)),t=e}function kn(){var t,e;return nn++,t=Qr,ur.test(n.charAt(Qr))?(e=n.charAt(Qr),Qr++):(e=a,0===nn&&ln(sr)),e!==a&&(Jr=t,e=er(e)),nn--,(t=e)===a&&(e=a,0===nn&&ln(ar)),t}function Sn(){var t,e;return nn++,t=Qr,lr.test(n.charAt(Qr))?(e=n.charAt(Qr),Qr++):(e=a,0===nn&&ln(fr)),e!==a&&(Jr=t,e=er(e)),nn--,(t=e)===a&&(e=a,0===nn&&ln(cr)),t}function Ln(){var t,e,r;return t=Qr,e=Qr,nn++,n.substr(Qr,2)===pr?(r=pr,Qr+=2):(r=a,0===nn&&ln(gr)),nn--,r===a?e=void 0:(Qr=e,e=a),e!==a?(n.length>Qr?(r=n.charAt(Qr),Qr++):(r=a,0===nn&&ln(tr)),r!==a?(Jr=t,e=er(r),t=e):(Qr=t,t=a)):(Qr=t,t=a),t}function jn(){var t,e,r,o;if(t=Qr,(e=function(){var t;return n.substr(Qr,2)===dr?(t=dr,Qr+=2):(t=a,0===nn&&ln(hr)),t}())!==a){for(r=[],o=Ln();o!==a;)r.push(o),o=Ln();r!==a&&(o=function(){var t;return n.substr(Qr,2)===pr?(t=pr,Qr+=2):(t=a,0===nn&&ln(gr)),t}())!==a?(Jr=t,e=br(e,r,o),t=e):(Qr=t,t=a)}else Qr=t,t=a;return t}function En(){var t;return wr.test(n.charAt(Qr))?(t=n.charAt(Qr),Qr++):(t=a,0===nn&&ln(_r)),t}function Tn(){var t,e,r,o;if(t=Qr,(e=function(){var t;return n.substr(Qr,2)===mr?(t=mr,Qr+=2):(t=a,0===nn&&ln(yr)),t===a&&(35===n.charCodeAt(Qr)?(t=xr,Qr++):(t=a,0===nn&&ln(vr))),t}())!==a){for(r=[],o=En();o!==a;)r.push(o),o=En();r!==a?(Jr=t,e=Cr(e,r),t=e):(Qr=t,t=a)}else Qr=t,t=a;return t}function Mn(){var t;return nn++,(t=Tn())===a&&(t=jn()),nn--,t===a&&0===nn&&ln(Ar),t}function Fn(){var t,e;for(t=[],(e=kn())===a&&(e=Sn())===a&&(e=Mn());e!==a;)t.push(e),(e=kn())===a&&(e=Sn())===a&&(e=Mn());return t}function On(){var t;return(t=function(){var t,e,r,o,i;return nn++,t=Qr,e=Qr,(r=In())!==a?(46===n.charCodeAt(Qr)?(o=Ir,Qr++):(o=a,0===nn&&ln(Dr)),o!==a&&(i=In())!==a?e=r=[r,o,i]:(Qr=e,e=a)):(Qr=e,e=a),e!==a&&(Jr=t,e=Pr(e)),nn--,(t=e)===a&&(e=a,0===nn&&ln(Or)),t}())===a&&(t=In()),t}function In(){var t,e,r;if(nn++,t=Qr,e=[],Tr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=a,0===nn&&ln(Mr)),r!==a)for(;r!==a;)e.push(r),Tr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=a,0===nn&&ln(Mr));else e=a;return e!==a&&(Jr=t,e=Fr(e)),nn--,(t=e)===a&&(e=a,0===nn&&ln(Er)),t}function Dn(){var t;return n.substr(Qr,4).toLowerCase()===Wr?(t=n.substr(Qr,4),Qr+=4):(t=a,0===nn&&ln(Rr)),t===a&&(n.substr(Qr,5).toLowerCase()===Gr?(t=n.substr(Qr,5),Qr+=5):(t=a,0===nn&&ln(zr)),t===a&&(n.substr(Qr,2).toLowerCase()===Xr?(t=n.substr(Qr,2),Qr+=2):(t=a,0===nn&&ln(Vr)),t===a&&(n.substr(Qr,3).toLowerCase()===qr?(t=n.substr(Qr,3),Qr+=3):(t=a,0===nn&&ln(Ur)),t===a&&(48===n.charCodeAt(Qr)?(t=$r,Qr++):(t=a,0===nn&&ln(Kr)),t===a&&(49===n.charCodeAt(Qr)?(t=Yr,Qr++):(t=a,0===nn&&ln(Zr))))))),t}if((i=s())!==a&&Qr===n.length)return i;throw i!==a&&Qr<n.length&&ln({type:"end"}),fn(rn,en<n.length?n.charAt(en):null,en<n.length?cn(en,en+1):cn(en,en))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=a(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:gn},s=gn,c=function(r,n){return n.entities=function e(r,n,o){return o||(o={}),(n||[]).forEach(function(n){n.forEach(function(n){Wn(r,n.from,o)&&r.push(Rn(n.from)),n.arcs&&(o[n.to]=!0,t(r,e(r,n.arcs,o)),delete o[n.to]),Wn(r,n.to,o)&&r.push(Rn(n.to))})}),r}(n.entities||[],n.arcs),n=t({meta:e.default.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},l=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},f=",",d=sn(",",!1),h=function(t){return t},p=";",g=sn(";",!1),b=function(e){return e[0].concat(e[1]).reduce(t,{})},m="hscale",y=sn("hscale",!0),x="arcgradient",v=sn("arcgradient",!0),w="=",_=sn("=",!1),C=function(t,r){return e.default.nameValue2Option(t,r)},A="width",k=sn("width",!0),S="wordwraparcs",L=sn("wordwraparcs",!0),j=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},E="wordwrapentities",T=sn("wordwrapentities",!0),M="wordwrapboxes",F=sn("wordwrapboxes",!0),O="watermark",I=sn("watermark",!0),D=function(t){return t},P=function(t){return t[0].concat(t[1])},B=ln("entity"),N=":",H=sn(":",!1),W=function(t,e){return e},R=function(t,e){var r=Rn(t);return e&&(r.label=e),r},G=function(t){return t},z=function(t){return t[0].concat(t[1])},X=function(t){return t},V=function(t){return t},q=function(t){return t},U=function(t,e){return e},$=function(t,e){return e&&(t.label=e),t},K=function(t){return{kind:t}},Y=function(t,e,r){return{kind:e,from:t,to:r}},Z="*",Q=sn("*",!1),J=function(t,e){return{kind:t,from:"*",to:e}},tt=function(t,e){return{kind:e,from:t,to:"*"}},et=function(t,e,r,n){return n},rt="{",nt=sn("{",!1),ot="}",it=sn("}",!1),at=function(t,e,r,n,o){var i={kind:e,from:t,to:r,arcs:o};return n&&(i.label=n),i},ut=ln("empty row"),st="|||",ct=sn("|||",!1),lt="...",ft=sn("...",!1),dt=ln("---"),ht="---",pt=sn("---",!1),gt=function(t){return t.toLowerCase()},bt=ln("bi-directional arrow"),mt="--",yt=sn("--",!1),xt="<->",vt=sn("<->",!1),wt="==",_t=sn("==",!1),Ct="<<=>>",At=sn("<<=>>",!1),kt="<=>",St=sn("<=>",!1),Lt="..",jt=sn("..",!1),Et="<<>>",Tt=sn("<<>>",!1),Mt="::",Ft=sn("::",!1),Ot="<:>",It=sn("<:>",!1),Dt=ln("left to right arrow"),Pt="->",Bt=sn("->",!1),Nt="=>>",Ht=sn("=>>",!1),Wt="=>",Rt=sn("=>",!1),Gt=">>",zt=sn(">>",!1),Xt=":>",Vt=sn(":>",!1),qt="-x",Ut=sn("-x",!0),$t=ln("right to left arrow"),Kt="<-",Yt=sn("<-",!1),Zt="<<=",Qt=sn("<<=",!1),Jt="<=",te=sn("<=",!1),ee="<<",re=sn("<<",!1),ne="<:",oe=sn("<:",!1),ie="x-",ae=sn("x-",!0),ue=ln("box"),se="note",ce=sn("note",!0),le="abox",fe=sn("abox",!0),de="rbox",he=sn("rbox",!0),pe="box",ge=sn("box",!0),be=ln("inline expression"),me="alt",ye=sn("alt",!0),xe="else",ve=sn("else",!0),we="opt",_e=sn("opt",!0),Ce="break",Ae=sn("break",!0),ke="par",Se=sn("par",!0),Le="seq",je=sn("seq",!0),Ee="strict",Te=sn("strict",!0),Me="neg",Fe=sn("neg",!0),Oe="critical",Ie=sn("critical",!0),De="ignore",Pe=sn("ignore",!0),Be="consider",Ne=sn("consider",!0),He="assert",We=sn("assert",!0),Re="loop",Ge=sn("loop",!0),ze="ref",Xe=sn("ref",!0),Ve="exc",qe=sn("exc",!0),Ue=function(t){return t.toLowerCase()},$e=ln("double quoted string"),Ke='"',Ye=sn('"',!1),Ze=function(t){return t.join("")},Qe='\\"',Je=sn('\\"',!1),tr={type:"any"},er=function(t){return t},rr=function(t){return t.join("").trim()},nr=ln("identifier"),or=/^[^;, "\t\n\r=\-><:{*]/,ir=cn([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ar=function(t){return t.join("")},ur=ln("whitespace"),sr=/^[ \t]/,cr=cn([" ","\t"],!1,!1),lr=ln("lineend"),fr=/^[\r\n]/,dr=cn(["\r","\n"],!1,!1),hr="/*",pr=sn("/*",!1),gr="*/",br=sn("*/",!1),mr=function(t,e,r){return t+e.join("")+r},yr="//",xr=sn("//",!1),vr="#",wr=sn("#",!1),_r=/^[^\r\n]/,Cr=cn(["\r","\n"],!0,!1),Ar=function(t,e){return t+e.join("")},kr=ln("comment"),Sr=ln("number"),Lr=function(t){return t},jr=function(t){return t.toString()},Er=function(t){return t.toString()},Tr=/^[0-9]/,Mr=cn([["0","9"]],!1,!1),Fr=function(t){return parseInt(t.join(""),10)},Or=".",Ir=sn(".",!1),Dr=function(t){return parseFloat(t.join(""))},Pr=ln("boolean"),Br=function(t){return t},Nr=function(t){return t.toString()},Hr="true",Wr=sn("true",!0),Rr="false",Gr=sn("false",!0),zr="on",Xr=sn("on",!0),Vr="off",qr=sn("off",!0),Ur="0",$r=sn("0",!1),Kr="1",Yr=sn("1",!1),Zr=ln("size"),Qr=function(t){return t.toString()},Jr="auto",tn=sn("auto",!0),en=function(t){return t.toLowerCase()},rn=0,nn=[{line:1,column:1}],on=0,an=[],un=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function sn(t,e){return{type:"literal",text:t,ignoreCase:e}}function cn(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function ln(t){return{type:"other",description:t}}function fn(t){var e,r=nn[t];if(r)return r;for(e=t-1;!nn[e];)e--;for(r={line:(r=nn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return nn[t]=r,r}function dn(t,e){var r=fn(t),n=fn(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function hn(t){rn<on||(rn>on&&(on=rn,an=[]),an.push(t))}function pn(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function gn(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t,e,r,o;return t=rn,(e=function(){var t,e,r,o,i;for(t=rn,e=[],r=rn,(o=bn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=bn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=bn())!==a?(59===n.charCodeAt(rn)?(i=p,rn++):(i=a,0===un&&hn(g)),i!==a?(o=h(o),r=o):(rn=r,r=a)):(rn=r,r=a),r!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=b(t)),t}())===a&&(e=null),e!==a?((r=function(){var t,e,r,o,i;for(t=rn,e=[],r=rn,(o=mn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=D(o),r=o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=mn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=D(o),r=o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=mn())!==a?(59===n.charCodeAt(rn)?(i=p,rn++):(i=a,0===un&&hn(g)),i!==a?(o=D(o),r=o):(rn=r,r=a)):(rn=r,r=a),r!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=P(t)),t}())===a&&(r=null),r!==a?((o=yn())===a&&(o=null),o!==a?(e=l(e,r,o),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&In()!==a?(e=c(e,r),t=e):(rn=t,t=a),t}function bn(){var t,e,r,o,i;return t=rn,(e=In())!==a?(n.substr(rn,6).toLowerCase()===m?(r=n.substr(rn,6),rn+=6):(r=a,0===un&&hn(y)),r===a&&(n.substr(rn,11).toLowerCase()===x?(r=n.substr(rn,11),rn+=11):(r=a,0===un&&hn(v))),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=function(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=a,0===un&&hn(Ye)),e!==a&&(r=Dn())!==a?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),o!==a?(e=Er(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&(e=Lr(e)),(t=e)===a&&(t=rn,(e=Dn())!==a&&(e=jr(e)),t=e),un--,t===a&&(e=a,0===un&&hn(Sr)),t}())!==a&&In()!==a?(e=C(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(n.substr(rn,5).toLowerCase()===A?(r=n.substr(rn,5),rn+=5):(r=a,0===un&&hn(k)),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=function(){var t;return un++,(t=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=a,0===un&&hn(Ye)),e!==a&&(r=Hn())!==a?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),o!==a?(e=Lr(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())===a&&(t=Hn()),un--,t===a&&0===un&&hn(Zr),t}())!==a&&In()!==a?(e=C(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(n.substr(rn,12).toLowerCase()===S?(r=n.substr(rn,12),rn+=12):(r=a,0===un&&hn(L)),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=Bn())!==a&&In()!==a?(e=j(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(n.substr(rn,16).toLowerCase()===E?(r=n.substr(rn,16),rn+=16):(r=a,0===un&&hn(T)),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=Bn())!==a&&In()!==a?(e=j(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(n.substr(rn,13).toLowerCase()===M?(r=n.substr(rn,13),rn+=13):(r=a,0===un&&hn(F)),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=Bn())!==a&&In()!==a?(e=j(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(n.substr(rn,9).toLowerCase()===O?(r=n.substr(rn,9),rn+=9):(r=a,0===un&&hn(I)),r!==a&&In()!==a?(61===n.charCodeAt(rn)?(o=w,rn++):(o=a,0===un&&hn(_)),o!==a&&In()!==a&&(i=kn())!==a&&In()!==a?(e=C(r,i),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)))))),t}function mn(){var t,e,r,o,i,u;return un++,t=rn,(e=In())!==a&&(r=Sn())!==a&&In()!==a?(o=rn,58===n.charCodeAt(rn)?(i=N,rn++):(i=a,0===un&&hn(H)),i!==a&&In()!==a&&(u=An())!==a&&In()!==a?(i=W(r,u),o=i):(rn=o,o=a),o===a&&(o=null),o!==a?(e=R(r,o),t=e):(rn=t,t=a)):(rn=t,t=a),un--,t===a&&(e=a,0===un&&hn(B)),t}function yn(){var t,e,r,o;if(t=[],e=rn,(r=xn())!==a&&In()!==a?(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o!==a?(r=G(r),e=r):(rn=e,e=a)):(rn=e,e=a),e!==a)for(;e!==a;)t.push(e),e=rn,(r=xn())!==a&&In()!==a?(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o!==a?(r=G(r),e=r):(rn=e,e=a)):(rn=e,e=a);else t=a;return t}function xn(){var t,e,r,o,i;for(t=rn,e=[],r=rn,(o=vn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=G(o),r=o):(rn=r,r=a)):(rn=r,r=a);r!==a;)e.push(r),r=rn,(o=vn())!==a?(44===n.charCodeAt(rn)?(i=f,rn++):(i=a,0===un&&hn(d)),i!==a?(o=G(o),r=o):(rn=r,r=a)):(rn=r,r=a);return e!==a?(r=rn,(o=vn())!==a&&(o=G(o)),(r=o)!==a?t=e=[e,r]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=z(t)),t}function vn(){var t;return(t=function(){var t,e,r,o,i;return t=rn,e=rn,(r=function(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t;return un++,n.substr(rn,3)===st?(t=st,rn+=3):(t=a,0===un&&hn(ct)),t===a&&(n.substr(rn,3)===lt?(t=lt,rn+=3):(t=a,0===un&&hn(ft))),un--,t===a&&0===un&&hn(ut),t}())!==a&&In()!==a?(e=K(r),t=e):(rn=t,t=a),t}())!==a&&(r=X(r)),(e=r)===a&&(e=rn,(r=function(){var t,e,r,o,i;return t=rn,(e=In())!==a&&(r=Sn())!==a&&In()!==a&&(o=function(){var t;return(t=wn())===a&&(t=_n())===a&&(t=Cn())===a&&(t=function(){var t;return un++,n.substr(rn,4).toLowerCase()===se?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(ce)),t===a&&(n.substr(rn,4).toLowerCase()===le?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(fe)),t===a&&(n.substr(rn,4).toLowerCase()===de?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(he)),t===a&&(n.substr(rn,3).toLowerCase()===pe?(t=n.substr(rn,3),rn+=3):(t=a,0===un&&hn(ge))))),un--,t===a&&0===un&&hn(ue),t}()),t!==a&&(t=gt(t)),t}())!==a&&In()!==a&&(i=Sn())!==a&&In()!==a?(e=Y(r,o,i),t=e):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a?(42===n.charCodeAt(rn)?(r=Z,rn++):(r=a,0===un&&hn(Q)),r!==a&&In()!==a&&(o=Cn())!==a&&In()!==a&&(i=Sn())!==a&&In()!==a?(e=J(o,i),t=e):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a&&(r=Sn())!==a&&In()!==a&&(o=_n())!==a&&In()!==a?(42===n.charCodeAt(rn)?(i=Z,rn++):(i=a,0===un&&hn(Q)),i!==a&&In()!==a?(e=tt(r,o),t=e):(rn=t,t=a)):(rn=t,t=a),t===a&&(t=rn,(e=In())!==a&&(r=Sn())!==a&&In()!==a&&(o=wn())!==a&&In()!==a?(42===n.charCodeAt(rn)?(i=Z,rn++):(i=a,0===un&&hn(Q)),i!==a&&In()!==a?(e=tt(r,o),t=e):(rn=t,t=a)):(rn=t,t=a)))),t}())!==a&&(r=V(r)),(e=r)===a&&(e=rn,(r=function(){var t,e,r;return t=rn,(e=In())!==a&&(r=function(){var t;return un++,n.substr(rn,3)===ht?(t=ht,rn+=3):(t=a,0===un&&hn(pt)),un--,t===a&&0===un&&hn(dt),t}())!==a&&In()!==a?(e=K(r),t=e):(rn=t,t=a),t}())!==a&&(r=q(r)),e=r)),e!==a?(r=rn,58===n.charCodeAt(rn)?(o=N,rn++):(o=a,0===un&&hn(H)),o!==a&&In()!==a&&(i=An())!==a&&In()!==a?(o=U(e,i),r=o):(rn=r,r=a),r===a&&(r=null),r!==a?(e=$(e,r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())===a&&(t=function(){var t,e,r,o,i,u,s,c,l;return t=rn,(e=In())!==a&&(r=Sn())!==a&&In()!==a&&(o=function(){var t,e;return un++,t=rn,n.substr(rn,3).toLowerCase()===me?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(ye)),e===a&&(n.substr(rn,4).toLowerCase()===xe?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(ve)),e===a&&(n.substr(rn,3).toLowerCase()===we?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(_e)),e===a&&(n.substr(rn,5).toLowerCase()===Ce?(e=n.substr(rn,5),rn+=5):(e=a,0===un&&hn(Ae)),e===a&&(n.substr(rn,3).toLowerCase()===ke?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(Se)),e===a&&(n.substr(rn,3).toLowerCase()===Le?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(je)),e===a&&(n.substr(rn,6).toLowerCase()===Ee?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(Te)),e===a&&(n.substr(rn,3).toLowerCase()===Me?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(Fe)),e===a&&(n.substr(rn,8).toLowerCase()===Oe?(e=n.substr(rn,8),rn+=8):(e=a,0===un&&hn(Ie)),e===a&&(n.substr(rn,6).toLowerCase()===De?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(Pe)),e===a&&(n.substr(rn,8).toLowerCase()===Be?(e=n.substr(rn,8),rn+=8):(e=a,0===un&&hn(Ne)),e===a&&(n.substr(rn,6).toLowerCase()===He?(e=n.substr(rn,6),rn+=6):(e=a,0===un&&hn(We)),e===a&&(n.substr(rn,4).toLowerCase()===Re?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(Ge)),e===a&&(n.substr(rn,3).toLowerCase()===ze?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(Xe)),e===a&&(n.substr(rn,3).toLowerCase()===Ve?(e=n.substr(rn,3),rn+=3):(e=a,0===un&&hn(qe)))))))))))))))),e!==a&&(e=Ue(e)),un--,(t=e)===a&&(e=a,0===un&&hn(be)),t}())!==a&&In()!==a&&(i=Sn())!==a&&In()!==a?(u=rn,58===n.charCodeAt(rn)?(s=N,rn++):(s=a,0===un&&hn(H)),s!==a&&In()!==a&&(c=An())!==a&&In()!==a?(s=et(r,o,i,c),u=s):(rn=u,u=a),u===a&&(u=null),u!==a?(123===n.charCodeAt(rn)?(s=rt,rn++):(s=a,0===un&&hn(nt)),s!==a&&In()!==a?((c=yn())===a&&(c=null),c!==a&&In()!==a?(125===n.charCodeAt(rn)?(l=ot,rn++):(l=a,0===un&&hn(it)),l!==a&&In()!==a?(e=at(r,o,i,u,c),t=e):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a)):(rn=t,t=a),t}()),t}function wn(){var t;return un++,n.substr(rn,2)===mt?(t=mt,rn+=2):(t=a,0===un&&hn(yt)),t===a&&(n.substr(rn,3)===xt?(t=xt,rn+=3):(t=a,0===un&&hn(vt)),t===a&&(n.substr(rn,2)===wt?(t=wt,rn+=2):(t=a,0===un&&hn(_t)),t===a&&(n.substr(rn,5)===Ct?(t=Ct,rn+=5):(t=a,0===un&&hn(At)),t===a&&(n.substr(rn,3)===kt?(t=kt,rn+=3):(t=a,0===un&&hn(St)),t===a&&(n.substr(rn,2)===Lt?(t=Lt,rn+=2):(t=a,0===un&&hn(jt)),t===a&&(n.substr(rn,4)===Et?(t=Et,rn+=4):(t=a,0===un&&hn(Tt)),t===a&&(n.substr(rn,2)===Mt?(t=Mt,rn+=2):(t=a,0===un&&hn(Ft)),t===a&&(n.substr(rn,3)===Ot?(t=Ot,rn+=3):(t=a,0===un&&hn(It)))))))))),un--,t===a&&0===un&&hn(bt),t}function _n(){var t;return un++,n.substr(rn,2)===Pt?(t=Pt,rn+=2):(t=a,0===un&&hn(Bt)),t===a&&(n.substr(rn,3)===Nt?(t=Nt,rn+=3):(t=a,0===un&&hn(Ht)),t===a&&(n.substr(rn,2)===Wt?(t=Wt,rn+=2):(t=a,0===un&&hn(Rt)),t===a&&(n.substr(rn,2)===Gt?(t=Gt,rn+=2):(t=a,0===un&&hn(zt)),t===a&&(n.substr(rn,2)===Xt?(t=Xt,rn+=2):(t=a,0===un&&hn(Vt)),t===a&&(n.substr(rn,2).toLowerCase()===qt?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(Ut))))))),un--,t===a&&0===un&&hn(Dt),t}function Cn(){var t;return un++,n.substr(rn,2)===Kt?(t=Kt,rn+=2):(t=a,0===un&&hn(Yt)),t===a&&(n.substr(rn,3)===Zt?(t=Zt,rn+=3):(t=a,0===un&&hn(Qt)),t===a&&(n.substr(rn,2)===Jt?(t=Jt,rn+=2):(t=a,0===un&&hn(te)),t===a&&(n.substr(rn,2)===ee?(t=ee,rn+=2):(t=a,0===un&&hn(re)),t===a&&(n.substr(rn,2)===ne?(t=ne,rn+=2):(t=a,0===un&&hn(oe)),t===a&&(n.substr(rn,2).toLowerCase()===ie?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(ae))))))),un--,t===a&&0===un&&hn($t),t}function An(){var t;return(t=kn())===a&&(t=function(){var t;return(t=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=f,rn++):(o=a,0===un&&hn(d)),o===a&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o===a&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=a,0===un&&hn(nt)))),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr)),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);e!==a;)t.push(e),e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=f,rn++):(o=a,0===un&&hn(d)),o===a&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=a,0===un&&hn(g)),o===a&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=a,0===un&&hn(nt)))),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr)),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);return t}())!==a&&(t=rr(t)),t}()),t}function kn(){var t,e,r,o;return un++,t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=a,0===un&&hn(Ye)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.substr(rn,2)===Qe?(o=Qe,rn+=2):(o=a,0===un&&hn(Je)),o===a&&(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr))),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);e!==a;)t.push(e),e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),un--,o===a?r=void 0:(rn=r,r=a),r!==a?(n.substr(rn,2)===Qe?(o=Qe,rn+=2):(o=a,0===un&&hn(Je)),o===a&&(n.length>rn?(o=n.charAt(rn),rn++):(o=a,0===un&&hn(tr))),o!==a?(r=er(o),e=r):(rn=e,e=a)):(rn=e,e=a);return t}())!==a?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),o!==a?(e=Ze(r),t=e):(rn=t,t=a)):(rn=t,t=a),un--,t===a&&(e=a,0===un&&hn($e)),t}function Sn(){var t,e,r;if(un++,t=rn,e=[],or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(ir)),r!==a)for(;r!==a;)e.push(r),or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(ir));else e=a;return e!==a&&(e=ar(e)),(t=e)===a&&(t=kn()),un--,t===a&&(e=a,0===un&&hn(nr)),t}function Ln(){var t,e;return un++,t=rn,sr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(cr)),e!==a&&(e=er(e)),un--,(t=e)===a&&(e=a,0===un&&hn(ur)),t}function jn(){var t,e;return un++,t=rn,fr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(dr)),e!==a&&(e=er(e)),un--,(t=e)===a&&(e=a,0===un&&hn(lr)),t}function En(){var t,e,r;return t=rn,e=rn,un++,n.substr(rn,2)===gr?(r=gr,rn+=2):(r=a,0===un&&hn(br)),un--,r===a?e=void 0:(rn=e,e=a),e!==a?(n.length>rn?(r=n.charAt(rn),rn++):(r=a,0===un&&hn(tr)),r!==a?(e=er(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}function Tn(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===hr?(t=hr,rn+=2):(t=a,0===un&&hn(pr)),t}())!==a){for(r=[],o=En();o!==a;)r.push(o),o=En();r!==a&&(o=function(){var t;return n.substr(rn,2)===gr?(t=gr,rn+=2):(t=a,0===un&&hn(br)),t}())!==a?(e=mr(e,r,o),t=e):(rn=t,t=a)}else rn=t,t=a;return t}function Mn(){var t;return _r.test(n.charAt(rn))?(t=n.charAt(rn),rn++):(t=a,0===un&&hn(Cr)),t}function Fn(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===yr?(t=yr,rn+=2):(t=a,0===un&&hn(xr)),t===a&&(35===n.charCodeAt(rn)?(t=vr,rn++):(t=a,0===un&&hn(wr))),t}())!==a){for(r=[],o=Mn();o!==a;)r.push(o),o=Mn();r!==a?(e=Ar(e,r),t=e):(rn=t,t=a)}else rn=t,t=a;return t}function On(){var t;return un++,(t=Fn())===a&&(t=Tn()),un--,t===a&&0===un&&hn(kr),t}function In(){var t,e;for(t=[],(e=Ln())===a&&(e=jn())===a&&(e=On());e!==a;)t.push(e),(e=Ln())===a&&(e=jn())===a&&(e=On());return t}function Dn(){var t;return(t=function(){var t,e,r,o;return t=rn,(e=Pn())!==a?(46===n.charCodeAt(rn)?(r=Or,rn++):(r=a,0===un&&hn(Ir)),r!==a&&(o=Pn())!==a?t=e=[e,r,o]:(rn=t,t=a)):(rn=t,t=a),t!==a&&(t=Dr(t)),t}())===a&&(t=Pn()),t}function Pn(){var t,e;if(t=[],Tr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(Mr)),e!==a)for(;e!==a;)t.push(e),Tr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=a,0===un&&hn(Mr));else t=a;return t!==a&&(t=Fr(t)),t}function Bn(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=a,0===un&&hn(Ye)),e!==a&&(r=Nn())!==a?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=a,0===un&&hn(Ye)),o!==a?(e=Lr(r),t=e):(rn=t,t=a)):(rn=t,t=a),t}())!==a&&(e=Br(e)),(t=e)===a&&(t=rn,(e=Nn())!==a&&(e=Nr(e)),t=e),un--,t===a&&(e=a,0===un&&hn(Pr)),t}function Nn(){var t;return n.substr(rn,4).toLowerCase()===Hr?(t=n.substr(rn,4),rn+=4):(t=a,0===un&&hn(Wr)),t===a&&(n.substr(rn,5).toLowerCase()===Rr?(t=n.substr(rn,5),rn+=5):(t=a,0===un&&hn(Gr)),t===a&&(n.substr(rn,2).toLowerCase()===zr?(t=n.substr(rn,2),rn+=2):(t=a,0===un&&hn(Xr)),t===a&&(n.substr(rn,3).toLowerCase()===Vr?(t=n.substr(rn,3),rn+=3):(t=a,0===un&&hn(qr)),t===a&&(48===n.charCodeAt(rn)?(t=Ur,rn++):(t=a,0===un&&hn($r)),t===a&&(49===n.charCodeAt(rn)?(t=Kr,rn++):(t=a,0===un&&hn(Yr))))))),t}function Hn(){var t,e;return t=rn,(e=Dn())!==a&&(e=Qr(e)),(t=e)===a&&(t=rn,n.substr(rn,4).toLowerCase()===Jr?(e=n.substr(rn,4),rn+=4):(e=a,0===un&&hn(tn)),e!==a&&(e=en(e)),t=e),t}function Wn(t,r,n){return!(e.default.entityExists(t,r)||!0===n[r])}function Rn(t){return{name:t}}if((i=s())!==a&&rn===n.length)return i;throw i!==a&&rn<n.length&&hn({type:"end"}),pn(an,on<n.length?n.charAt(on):null,on<n.length?dn(on,on+1):dn(on,on))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){var n,o,i;o=[r(7),r(3)],void 0===(i="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?i(t.parts[e][0])+"-"+i(t.parts[e][1]):i(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=a(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var i,a={},u={program:po},s=po,c="{",l=ao("{",!1),f="}",d=ao("}",!1),h=function(r,n){return n.entities=n.entities||[],e.default.checkForUndeclaredEntities(n.entities,n.arcs),n=t({meta:e.default.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},p="msc",g=ao("msc",!0),b="xu",m=ao("xu",!0),y=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},x=",",v=ao(",",!1),w=function(t){return t},_=";",C=ao(";",!1),A=function(e){return e[0].concat(e[1]).reduce(t,{})},k=so("option"),S="hscale",L=ao("hscale",!0),j="arcgradient",E=ao("arcgradient",!0),T="=",M=ao("=",!1),F=function(t,r){return e.default.nameValue2Option(t,r)},O="width",I=ao("width",!0),D="wordwraparcs",P=ao("wordwraparcs",!0),B=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},N="wordwrapentities",H=ao("wordwrapentities",!0),W="wordwrapboxes",R=ao("wordwrapboxes",!0),G="watermark",z=ao("watermark",!0),X=function(t){return t},V=function(t){return t[0].concat(t[1])},q=so("entity"),U="[",$=ao("[",!1),K="]",Y=ao("]",!1),Z=function(t,e){return e},Q=function(e,r){return t({name:e},r)},J=function(n,o){return e.default.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:lo(eo,to),function(t,e){return new r(t,null,null,e)}(t,e)}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},tt=function(t){return t},et=function(t){return t[0].concat(t[1])},rt=function(t,e){return e},nt=function(e,r){return t(e,r)},ot=function(t){return{kind:t}},it=function(t,e,r){return{kind:e,from:t,to:r}},at="*",ut=ao("*",!1),st=function(t,e){return{kind:t,from:"*",to:e}},ct=function(t,e){return{kind:e,from:t,to:"*"}},lt=function(t,e,r,n){return n},ft=function(e,r,n,o,i){return t({kind:r,from:e,to:n,arcs:i},o)},dt=so("empty row"),ht="|||",pt=ao("|||",!1),gt="...",bt=ao("...",!1),mt=so("---"),yt="---",xt=ao("---",!1),vt=function(t){return t.toLowerCase()},wt=so("bi-directional arrow"),_t="--",Ct=ao("--",!1),At="<->",kt=ao("<->",!1),St="==",Lt=ao("==",!1),jt="<<=>>",Et=ao("<<=>>",!1),Tt="<=>",Mt=ao("<=>",!1),Ft="..",Ot=ao("..",!1),It="<<>>",Dt=ao("<<>>",!1),Pt="::",Bt=ao("::",!1),Nt="<:>",Ht=ao("<:>",!1),Wt=so("left to right arrow"),Rt="->",Gt=ao("->",!1),zt="=>>",Xt=ao("=>>",!1),Vt="=>",qt=ao("=>",!1),Ut=">>",$t=ao(">>",!1),Kt=":>",Yt=ao(":>",!1),Zt="-x",Qt=ao("-x",!0),Jt=so("right to left arrow"),te="<-",ee=ao("<-",!1),re="<<=",ne=ao("<<=",!1),oe="<=",ie=ao("<=",!1),ae="<<",ue=ao("<<",!1),se="<:",ce=ao("<:",!1),le="x-",fe=ao("x-",!0),de=so("box"),he="note",pe=ao("note",!0),ge="abox",be=ao("abox",!0),me="rbox",ye=ao("rbox",!0),xe="box",ve=ao("box",!0),we=so("inline expression"),_e="alt",Ce=ao("alt",!0),Ae="else",ke=ao("else",!0),Se="opt",Le=ao("opt",!0),je="break",Ee=ao("break",!0),Te="par",Me=ao("par",!0),Fe="seq",Oe=ao("seq",!0),Ie="strict",De=ao("strict",!0),Pe="neg",Be=ao("neg",!0),Ne="critical",He=ao("critical",!0),We="ignore",Re=ao("ignore",!0),Ge="consider",ze=ao("consider",!0),Xe="assert",Ve=ao("assert",!0),qe="loop",Ue=ao("loop",!0),$e="ref",Ke=ao("ref",!0),Ye="exc",Ze=ao("exc",!0),Qe=function(t){return t.toLowerCase()},Je=function(e){return e[0].concat(e[1]).reduce(t,{})},tr=so("activate or deactivate"),er="activate",rr=ao("activate",!0),nr="deactivate",or=ao("deactivate",!0),ir=function(t){return{activation:"activate"===t.toLowerCase()}},ar=function(t,r){var n={};return"activation"===t.toLowerCase()?n.activation=e.default.flattenBoolean(r):n[t.toLowerCase().replace("colour","color")]=r,n},ur=so("attribute name"),sr="label",cr=ao("label",!0),lr="idurl",fr=ao("idurl",!0),dr="id",hr=ao("id",!0),pr="url",gr=ao("url",!0),br="linecolor",mr=ao("linecolor",!0),yr="linecolour",xr=ao("linecolour",!0),vr="textcolor",wr=ao("textcolor",!0),_r="textcolour",Cr=ao("textcolour",!0),Ar="textbgcolor",kr=ao("textbgcolor",!0),Sr="textbgcolour",Lr=ao("textbgcolour",!0),jr="arclinecolor",Er=ao("arclinecolor",!0),Tr="arclinecolour",Mr=ao("arclinecolour",!0),Fr="arctextcolor",Or=ao("arctextcolor",!0),Ir="arctextcolour",Dr=ao("arctextcolour",!0),Pr="arctextbgcolor",Br=ao("arctextbgcolor",!0),Nr="arctextbgcolour",Hr=ao("arctextbgcolour",!0),Wr="arcskip",Rr=ao("arcskip",!0),Gr="title",zr=ao("title",!0),Xr="activation",Vr=ao("activation",!0),qr=so("double quoted string"),Ur='"',$r=ao('"',!1),Kr=function(t){return t.join("")},Yr='\\"',Zr=ao('\\"',!1),Qr={type:"any"},Jr=function(t){return t},tn=so("identifier"),en=/^[A-Za-z_0-9]/,rn=uo([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),nn=function(t){return t.join("")},on=so("whitespace"),an=/^[ \t]/,un=uo([" ","\t"],!1,!1),sn=so("lineend"),cn=/^[\r\n]/,ln=uo(["\r","\n"],!1,!1),fn="/*",dn=ao("/*",!1),hn="*/",pn=ao("*/",!1),gn=function(t,e,r){return t+e.join("")+r},bn="//",mn=ao("//",!1),yn="#",xn=ao("#",!1),vn=/^[^\r\n]/,wn=uo(["\r","\n"],!0,!1),_n=function(t,e){return t+e.join("")},Cn=so("comment"),An=so("number"),kn=function(t){return t},Sn=function(t){return t.toString()},Ln=function(t){return t.toString()},jn=/^[0-9]/,En=uo([["0","9"]],!1,!1),Tn=function(t){return parseInt(t.join(""),10)},Mn=".",Fn=ao(".",!1),On=function(t){return parseFloat(t.join(""))},In=so("boolean"),Dn=function(t){return t},Pn=function(t){return t.toString()},Bn="true",Nn=ao("true",!0),Hn="false",Wn=ao("false",!0),Rn="on",Gn=ao("on",!0),zn="off",Xn=ao("off",!0),Vn="0",qn=ao("0",!1),Un="1",$n=ao("1",!1),Kn=so("size"),Yn=function(t){return t.toString()},Zn="auto",Qn=ao("auto",!0),Jn=function(t){return t.toLowerCase()},to=0,eo=0,ro=[{line:1,column:1}],no=0,oo=[],io=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');s=u[o.startRule]}function ao(t,e){return{type:"literal",text:t,ignoreCase:e}}function uo(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function so(t){return{type:"other",description:t}}function co(t){var e,r=ro[t];if(r)return r;for(e=t-1;!ro[e];)e--;for(r={line:(r=ro[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return ro[t]=r,r}function lo(t,e){var r=co(t),n=co(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function fo(t){to<no||(to>no&&(no=to,oo=[]),oo.push(t))}function ho(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function po(){var t,e,r,o,i;return t=to,(e=Do())!==a&&function(){var t;return n.substr(to,3).toLowerCase()===p?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(g)),t===a&&(n.substr(to,2).toLowerCase()===b?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(m))),t}()!==a&&Do()!==a?(123===n.charCodeAt(to)?(r=c,to++):(r=a,0===io&&fo(l)),r!==a&&Do()!==a&&(o=function(){var t,e,r,o;return t=to,(e=function(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=go())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=go())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=go())!==a?(59===n.charCodeAt(to)?(u=_,to++):(u=a,0===io&&fo(C)),u!==a?(eo=o,i=w(i),o=i):(to=o,o=a)):(to=o,o=a),o!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=A(e)),t=e}())===a&&(e=null),e!==a?((r=function(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=bo())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=X(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=bo())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=X(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=bo())!==a?(59===n.charCodeAt(to)?(u=_,to++):(u=a,0===io&&fo(C)),u!==a?(eo=o,i=X(i),o=i):(to=o,o=a)):(to=o,o=a),o!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=V(e)),t=e}())===a&&(r=null),r!==a?((o=mo())===a&&(o=null),o!==a?(eo=t,e=y(e,r,o),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}())!==a&&Do()!==a?(125===n.charCodeAt(to)?(i=f,to++):(i=a,0===io&&fo(d)),i!==a&&Do()!==a?(eo=t,e=h(e,o),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}function go(){var t,e,r,o,i;return io++,t=to,(e=Do())!==a?(n.substr(to,6).toLowerCase()===S?(r=n.substr(to,6),to+=6):(r=a,0===io&&fo(L)),r===a&&(n.substr(to,11).toLowerCase()===j?(r=n.substr(to,11),to+=11):(r=a,0===io&&fo(E))),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=function(){var t,e;return io++,t=to,(e=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Po())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=Ln(r),t=e):(to=t,t=a)):(to=t,t=a),t}())!==a&&(eo=t,e=kn(e)),(t=e)===a&&(t=to,(e=Po())!==a&&(eo=t,e=Sn(e)),t=e),io--,t===a&&(e=a,0===io&&fo(An)),t}())!==a&&Do()!==a?(eo=t,e=F(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(n.substr(to,5).toLowerCase()===O?(r=n.substr(to,5),to+=5):(r=a,0===io&&fo(I)),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=function(){var t;return io++,(t=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Wo())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=kn(r),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=Wo()),io--,t===a&&0===io&&fo(Kn),t}())!==a&&Do()!==a?(eo=t,e=F(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(n.substr(to,12).toLowerCase()===D?(r=n.substr(to,12),to+=12):(r=a,0===io&&fo(P)),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=No())!==a&&Do()!==a?(eo=t,e=B(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(n.substr(to,16).toLowerCase()===N?(r=n.substr(to,16),to+=16):(r=a,0===io&&fo(H)),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=No())!==a&&Do()!==a?(eo=t,e=B(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(n.substr(to,13).toLowerCase()===W?(r=n.substr(to,13),to+=13):(r=a,0===io&&fo(R)),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=No())!==a&&Do()!==a?(eo=t,e=B(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(n.substr(to,9).toLowerCase()===G?(r=n.substr(to,9),to+=9):(r=a,0===io&&fo(z)),r!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=ko())!==a&&Do()!==a?(eo=t,e=F(r,i),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)))))),io--,t===a&&(e=a,0===io&&fo(k)),t}function bo(){var t,e,r,o,i,u,s;return io++,t=to,(e=Do())!==a&&(r=ko())!==a&&Do()!==a?(o=to,91===n.charCodeAt(to)?(i=U,to++):(i=a,0===io&&fo($)),i!==a&&(u=Co())!==a?(93===n.charCodeAt(to)?(s=K,to++):(s=a,0===io&&fo(Y)),s!==a?(eo=o,i=Z(r,u),o=i):(to=o,o=a)):(to=o,o=a),o===a&&(o=null),o!==a&&(i=Do())!==a?(eo=t,e=Q(r,o),t=e):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a&&(r=Lo())!==a&&Do()!==a?(o=to,91===n.charCodeAt(to)?(i=U,to++):(i=a,0===io&&fo($)),i!==a&&(u=Co())!==a?(93===n.charCodeAt(to)?(s=K,to++):(s=a,0===io&&fo(Y)),s!==a?(eo=o,i=Z(r,u),o=i):(to=o,o=a)):(to=o,o=a),o===a&&(o=null),o!==a&&(i=Do())!==a?(eo=t,e=J(r,o),t=e):(to=t,t=a)):(to=t,t=a)),io--,t===a&&(e=a,0===io&&fo(q)),t}function mo(){var t,e,r,o;if(t=[],e=to,(r=yo())!==a&&Do()!==a?(59===n.charCodeAt(to)?(o=_,to++):(o=a,0===io&&fo(C)),o!==a?(eo=e,r=tt(r),e=r):(to=e,e=a)):(to=e,e=a),e!==a)for(;e!==a;)t.push(e),e=to,(r=yo())!==a&&Do()!==a?(59===n.charCodeAt(to)?(o=_,to++):(o=a,0===io&&fo(C)),o!==a?(eo=e,r=tt(r),e=r):(to=e,e=a)):(to=e,e=a);else t=a;return t}function yo(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=xo())!==a&&Do()!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=tt(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=xo())!==a&&Do()!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=tt(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=xo())!==a&&(eo=o,i=tt(i)),(o=i)!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=et(e)),t=e}function xo(){var t;return(t=function(){var t,e,r,o,i,u;return t=to,e=to,(r=function(){var t,e,r;return t=to,(e=Do())!==a&&(r=function(){var t;return io++,n.substr(to,3)===ht?(t=ht,to+=3):(t=a,0===io&&fo(pt)),t===a&&(n.substr(to,3)===gt?(t=gt,to+=3):(t=a,0===io&&fo(bt))),io--,t===a&&0===io&&fo(dt),t}())!==a&&Do()!==a?(eo=t,e=ot(r),t=e):(to=t,t=a),t}())!==a&&(eo=e,r=tt(r)),(e=r)===a&&(e=to,(r=function(){var t,e,r,o,i;return t=to,(e=Do())!==a&&(r=So())!==a&&Do()!==a&&(o=function(){var t,e;return t=to,(e=vo())===a&&(e=wo())===a&&(e=_o())===a&&(e=function(){var t;return io++,n.substr(to,4).toLowerCase()===he?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(pe)),t===a&&(n.substr(to,4).toLowerCase()===ge?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(be)),t===a&&(n.substr(to,4).toLowerCase()===me?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(ye)),t===a&&(n.substr(to,3).toLowerCase()===xe?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(ve))))),io--,t===a&&0===io&&fo(de),t}()),e!==a&&(eo=t,e=vt(e)),t=e}())!==a&&Do()!==a&&(i=So())!==a&&Do()!==a?(eo=t,e=it(r,o,i),t=e):(to=t,t=a),t===a&&(t=to,(e=Do())!==a?(42===n.charCodeAt(to)?(r=at,to++):(r=a,0===io&&fo(ut)),r!==a&&Do()!==a&&(o=_o())!==a&&Do()!==a&&(i=So())!==a&&Do()!==a?(eo=t,e=st(o,i),t=e):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a&&(r=So())!==a&&Do()!==a&&(o=wo())!==a&&Do()!==a?(42===n.charCodeAt(to)?(i=at,to++):(i=a,0===io&&fo(ut)),i!==a&&Do()!==a?(eo=t,e=ct(r,o),t=e):(to=t,t=a)):(to=t,t=a),t===a&&(t=to,(e=Do())!==a&&(r=So())!==a&&Do()!==a&&(o=vo())!==a&&Do()!==a?(42===n.charCodeAt(to)?(i=at,to++):(i=a,0===io&&fo(ut)),i!==a&&Do()!==a?(eo=t,e=ct(r,o),t=e):(to=t,t=a)):(to=t,t=a)))),t}())!==a&&(eo=e,r=tt(r)),(e=r)===a&&(e=to,(r=function(){var t,e,r;return t=to,(e=Do())!==a&&(r=function(){var t;return io++,n.substr(to,3)===yt?(t=yt,to+=3):(t=a,0===io&&fo(xt)),io--,t===a&&0===io&&fo(mt),t}())!==a&&Do()!==a?(eo=t,e=ot(r),t=e):(to=t,t=a),t}())!==a&&(eo=e,r=tt(r)),e=r)),e!==a?(r=to,91===n.charCodeAt(to)?(o=U,to++):(o=a,0===io&&fo($)),o!==a&&(i=Co())!==a?(93===n.charCodeAt(to)?(u=K,to++):(u=a,0===io&&fo(Y)),u!==a?(eo=r,o=rt(e,i),r=o):(to=r,r=a)):(to=r,r=a),r===a&&(r=null),r!==a?(eo=t,e=nt(e,r),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=function(){var t,e,r,o,i,u,s,h,p,g,b;return t=to,(e=Do())!==a&&(r=So())!==a&&Do()!==a&&(o=function(){var t,e;return io++,t=to,n.substr(to,3).toLowerCase()===_e?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ce)),e===a&&(n.substr(to,4).toLowerCase()===Ae?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(ke)),e===a&&(n.substr(to,3).toLowerCase()===Se?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Le)),e===a&&(n.substr(to,5).toLowerCase()===je?(e=n.substr(to,5),to+=5):(e=a,0===io&&fo(Ee)),e===a&&(n.substr(to,3).toLowerCase()===Te?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Me)),e===a&&(n.substr(to,3).toLowerCase()===Fe?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Oe)),e===a&&(n.substr(to,6).toLowerCase()===Ie?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(De)),e===a&&(n.substr(to,3).toLowerCase()===Pe?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Be)),e===a&&(n.substr(to,8).toLowerCase()===Ne?(e=n.substr(to,8),to+=8):(e=a,0===io&&fo(He)),e===a&&(n.substr(to,6).toLowerCase()===We?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(Re)),e===a&&(n.substr(to,8).toLowerCase()===Ge?(e=n.substr(to,8),to+=8):(e=a,0===io&&fo(ze)),e===a&&(n.substr(to,6).toLowerCase()===Xe?(e=n.substr(to,6),to+=6):(e=a,0===io&&fo(Ve)),e===a&&(n.substr(to,4).toLowerCase()===qe?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(Ue)),e===a&&(n.substr(to,3).toLowerCase()===$e?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ke)),e===a&&(n.substr(to,3).toLowerCase()===Ye?(e=n.substr(to,3),to+=3):(e=a,0===io&&fo(Ze)))))))))))))))),e!==a&&(eo=t,e=Qe(e)),io--,(t=e)===a&&(e=a,0===io&&fo(we)),t}())!==a&&Do()!==a&&(i=So())!==a&&Do()!==a?(u=to,91===n.charCodeAt(to)?(s=U,to++):(s=a,0===io&&fo($)),s!==a&&(h=Co())!==a?(93===n.charCodeAt(to)?(p=K,to++):(p=a,0===io&&fo(Y)),p!==a?(eo=u,s=lt(r,o,i,h),u=s):(to=u,u=a)):(to=u,u=a),u===a&&(u=null),u!==a&&(s=Do())!==a?(123===n.charCodeAt(to)?(h=c,to++):(h=a,0===io&&fo(l)),h!==a&&(p=Do())!==a?((g=mo())===a&&(g=null),g!==a&&Do()!==a?(125===n.charCodeAt(to)?(b=f,to++):(b=a,0===io&&fo(d)),b!==a&&Do()!==a?(eo=t,e=ft(r,o,i,u,g),t=e):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a)):(to=t,t=a),t}()),t}function vo(){var t;return io++,n.substr(to,2)===_t?(t=_t,to+=2):(t=a,0===io&&fo(Ct)),t===a&&(n.substr(to,3)===At?(t=At,to+=3):(t=a,0===io&&fo(kt)),t===a&&(n.substr(to,2)===St?(t=St,to+=2):(t=a,0===io&&fo(Lt)),t===a&&(n.substr(to,5)===jt?(t=jt,to+=5):(t=a,0===io&&fo(Et)),t===a&&(n.substr(to,3)===Tt?(t=Tt,to+=3):(t=a,0===io&&fo(Mt)),t===a&&(n.substr(to,2)===Ft?(t=Ft,to+=2):(t=a,0===io&&fo(Ot)),t===a&&(n.substr(to,4)===It?(t=It,to+=4):(t=a,0===io&&fo(Dt)),t===a&&(n.substr(to,2)===Pt?(t=Pt,to+=2):(t=a,0===io&&fo(Bt)),t===a&&(n.substr(to,3)===Nt?(t=Nt,to+=3):(t=a,0===io&&fo(Ht)))))))))),io--,t===a&&0===io&&fo(wt),t}function wo(){var t;return io++,n.substr(to,2)===Rt?(t=Rt,to+=2):(t=a,0===io&&fo(Gt)),t===a&&(n.substr(to,3)===zt?(t=zt,to+=3):(t=a,0===io&&fo(Xt)),t===a&&(n.substr(to,2)===Vt?(t=Vt,to+=2):(t=a,0===io&&fo(qt)),t===a&&(n.substr(to,2)===Ut?(t=Ut,to+=2):(t=a,0===io&&fo($t)),t===a&&(n.substr(to,2)===Kt?(t=Kt,to+=2):(t=a,0===io&&fo(Yt)),t===a&&(n.substr(to,2).toLowerCase()===Zt?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(Qt))))))),io--,t===a&&0===io&&fo(Wt),t}function _o(){var t;return io++,n.substr(to,2)===te?(t=te,to+=2):(t=a,0===io&&fo(ee)),t===a&&(n.substr(to,3)===re?(t=re,to+=3):(t=a,0===io&&fo(ne)),t===a&&(n.substr(to,2)===oe?(t=oe,to+=2):(t=a,0===io&&fo(ie)),t===a&&(n.substr(to,2)===ae?(t=ae,to+=2):(t=a,0===io&&fo(ue)),t===a&&(n.substr(to,2)===se?(t=se,to+=2):(t=a,0===io&&fo(ce)),t===a&&(n.substr(to,2).toLowerCase()===le?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(fe))))))),io--,t===a&&0===io&&fo(Jt),t}function Co(){var t,e,r,o,i,u;for(t=to,e=to,r=[],o=to,(i=Ao())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=tt(i),o=i):(to=o,o=a)):(to=o,o=a);o!==a;)r.push(o),o=to,(i=Ao())!==a?(44===n.charCodeAt(to)?(u=x,to++):(u=a,0===io&&fo(v)),u!==a?(eo=o,i=tt(i),o=i):(to=o,o=a)):(to=o,o=a);return r!==a?(o=to,(i=Ao())!==a&&(eo=o,i=tt(i)),(o=i)!==a?e=r=[r,o]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=Je(e)),t=e}function Ao(){var t;return(t=function(){var t,e,r,o,i;return t=to,(e=Do())!==a&&(r=function(){var t;return io++,n.substr(to,5).toLowerCase()===sr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(cr)),t===a&&(n.substr(to,5).toLowerCase()===lr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(fr)),t===a&&(n.substr(to,2).toLowerCase()===dr?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(hr)),t===a&&(n.substr(to,3).toLowerCase()===pr?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(gr)),t===a&&(n.substr(to,9).toLowerCase()===br?(t=n.substr(to,9),to+=9):(t=a,0===io&&fo(mr)),t===a&&(n.substr(to,10).toLowerCase()===yr?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(xr)),t===a&&(n.substr(to,9).toLowerCase()===vr?(t=n.substr(to,9),to+=9):(t=a,0===io&&fo(wr)),t===a&&(n.substr(to,10).toLowerCase()===_r?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(Cr)),t===a&&(n.substr(to,11).toLowerCase()===Ar?(t=n.substr(to,11),to+=11):(t=a,0===io&&fo(kr)),t===a&&(n.substr(to,12).toLowerCase()===Sr?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Lr)),t===a&&(n.substr(to,12).toLowerCase()===jr?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Er)),t===a&&(n.substr(to,13).toLowerCase()===Tr?(t=n.substr(to,13),to+=13):(t=a,0===io&&fo(Mr)),t===a&&(n.substr(to,12).toLowerCase()===Fr?(t=n.substr(to,12),to+=12):(t=a,0===io&&fo(Or)),t===a&&(n.substr(to,13).toLowerCase()===Ir?(t=n.substr(to,13),to+=13):(t=a,0===io&&fo(Dr)),t===a&&(n.substr(to,14).toLowerCase()===Pr?(t=n.substr(to,14),to+=14):(t=a,0===io&&fo(Br)),t===a&&(n.substr(to,15).toLowerCase()===Nr?(t=n.substr(to,15),to+=15):(t=a,0===io&&fo(Hr)),t===a&&(n.substr(to,7).toLowerCase()===Wr?(t=n.substr(to,7),to+=7):(t=a,0===io&&fo(Rr)),t===a&&(n.substr(to,5).toLowerCase()===Gr?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(zr)),t===a&&(n.substr(to,10).toLowerCase()===Xr?(t=n.substr(to,10),to+=10):(t=a,0===io&&fo(Vr)))))))))))))))))))),io--,t===a&&0===io&&fo(ur),t}())!==a&&Do()!==a?(61===n.charCodeAt(to)?(o=T,to++):(o=a,0===io&&fo(M)),o!==a&&Do()!==a&&(i=So())!==a&&Do()!==a?(eo=t,e=ar(r,i),t=e):(to=t,t=a)):(to=t,t=a),t}())===a&&(t=function(){var t,e,r;return io++,t=to,(e=Do())!==a?(n.substr(to,8).toLowerCase()===er?(r=n.substr(to,8),to+=8):(r=a,0===io&&fo(rr)),r===a&&(n.substr(to,10).toLowerCase()===nr?(r=n.substr(to,10),to+=10):(r=a,0===io&&fo(or))),r!==a&&Do()!==a?(eo=t,e=ir(r),t=e):(to=t,t=a)):(to=t,t=a),io--,t===a&&(e=a,0===io&&fo(tr)),t}()),t}function ko(){var t,e,r,o;return io++,t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=function(){var t,e,r,o;for(t=[],e=to,r=to,io++,34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),io--,o===a?r=void 0:(to=r,r=a),r!==a?(n.substr(to,2)===Yr?(o=Yr,to+=2):(o=a,0===io&&fo(Zr)),o===a&&(n.length>to?(o=n.charAt(to),to++):(o=a,0===io&&fo(Qr))),o!==a?(eo=e,r=Jr(o),e=r):(to=e,e=a)):(to=e,e=a);e!==a;)t.push(e),e=to,r=to,io++,34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),io--,o===a?r=void 0:(to=r,r=a),r!==a?(n.substr(to,2)===Yr?(o=Yr,to+=2):(o=a,0===io&&fo(Zr)),o===a&&(n.length>to?(o=n.charAt(to),to++):(o=a,0===io&&fo(Qr))),o!==a?(eo=e,r=Jr(o),e=r):(to=e,e=a)):(to=e,e=a);return t}())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=Kr(r),t=e):(to=t,t=a)):(to=t,t=a),io--,t===a&&(e=a,0===io&&fo(qr)),t}function So(){var t;return io++,(t=Lo())===a&&(t=ko()),io--,t===a&&0===io&&fo(tn),t}function Lo(){var t,e,r;if(t=to,e=[],en.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(rn)),r!==a)for(;r!==a;)e.push(r),en.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(rn));else e=a;return e!==a&&(eo=t,e=nn(e)),t=e}function jo(){var t,e;return io++,t=to,an.test(n.charAt(to))?(e=n.charAt(to),to++):(e=a,0===io&&fo(un)),e!==a&&(eo=t,e=Jr(e)),io--,(t=e)===a&&(e=a,0===io&&fo(on)),t}function Eo(){var t,e;return io++,t=to,cn.test(n.charAt(to))?(e=n.charAt(to),to++):(e=a,0===io&&fo(ln)),e!==a&&(eo=t,e=Jr(e)),io--,(t=e)===a&&(e=a,0===io&&fo(sn)),t}function To(){var t,e,r;return t=to,e=to,io++,n.substr(to,2)===hn?(r=hn,to+=2):(r=a,0===io&&fo(pn)),io--,r===a?e=void 0:(to=e,e=a),e!==a?(n.length>to?(r=n.charAt(to),to++):(r=a,0===io&&fo(Qr)),r!==a?(eo=t,e=Jr(r),t=e):(to=t,t=a)):(to=t,t=a),t}function Mo(){var t,e,r,o;if(t=to,(e=function(){var t;return n.substr(to,2)===fn?(t=fn,to+=2):(t=a,0===io&&fo(dn)),t}())!==a){for(r=[],o=To();o!==a;)r.push(o),o=To();r!==a&&(o=function(){var t;return n.substr(to,2)===hn?(t=hn,to+=2):(t=a,0===io&&fo(pn)),t}())!==a?(eo=t,e=gn(e,r,o),t=e):(to=t,t=a)}else to=t,t=a;return t}function Fo(){var t;return vn.test(n.charAt(to))?(t=n.charAt(to),to++):(t=a,0===io&&fo(wn)),t}function Oo(){var t,e,r,o;if(t=to,(e=function(){var t;return n.substr(to,2)===bn?(t=bn,to+=2):(t=a,0===io&&fo(mn)),t===a&&(35===n.charCodeAt(to)?(t=yn,to++):(t=a,0===io&&fo(xn))),t}())!==a){for(r=[],o=Fo();o!==a;)r.push(o),o=Fo();r!==a?(eo=t,e=_n(e,r),t=e):(to=t,t=a)}else to=t,t=a;return t}function Io(){var t;return io++,(t=Oo())===a&&(t=Mo()),io--,t===a&&0===io&&fo(Cn),t}function Do(){var t,e;for(t=[],(e=jo())===a&&(e=Eo())===a&&(e=Io());e!==a;)t.push(e),(e=jo())===a&&(e=Eo())===a&&(e=Io());return t}function Po(){var t;return(t=function(){var t,e,r,o,i;return t=to,e=to,(r=Bo())!==a?(46===n.charCodeAt(to)?(o=Mn,to++):(o=a,0===io&&fo(Fn)),o!==a&&(i=Bo())!==a?e=r=[r,o,i]:(to=e,e=a)):(to=e,e=a),e!==a&&(eo=t,e=On(e)),t=e}())===a&&(t=Bo()),t}function Bo(){var t,e,r;if(t=to,e=[],jn.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(En)),r!==a)for(;r!==a;)e.push(r),jn.test(n.charAt(to))?(r=n.charAt(to),to++):(r=a,0===io&&fo(En));else e=a;return e!==a&&(eo=t,e=Tn(e)),t=e}function No(){var t,e;return io++,t=to,(e=function(){var t,e,r,o;return t=to,34===n.charCodeAt(to)?(e=Ur,to++):(e=a,0===io&&fo($r)),e!==a&&(r=Ho())!==a?(34===n.charCodeAt(to)?(o=Ur,to++):(o=a,0===io&&fo($r)),o!==a?(eo=t,e=kn(r),t=e):(to=t,t=a)):(to=t,t=a),t}())!==a&&(eo=t,e=Dn(e)),(t=e)===a&&(t=to,(e=Ho())!==a&&(eo=t,e=Pn(e)),t=e),io--,t===a&&(e=a,0===io&&fo(In)),t}function Ho(){var t;return n.substr(to,4).toLowerCase()===Bn?(t=n.substr(to,4),to+=4):(t=a,0===io&&fo(Nn)),t===a&&(n.substr(to,5).toLowerCase()===Hn?(t=n.substr(to,5),to+=5):(t=a,0===io&&fo(Wn)),t===a&&(n.substr(to,2).toLowerCase()===Rn?(t=n.substr(to,2),to+=2):(t=a,0===io&&fo(Gn)),t===a&&(n.substr(to,3).toLowerCase()===zn?(t=n.substr(to,3),to+=3):(t=a,0===io&&fo(Xn)),t===a&&(48===n.charCodeAt(to)?(t=Vn,to++):(t=a,0===io&&fo(qn)),t===a&&(49===n.charCodeAt(to)?(t=Un,to++):(t=a,0===io&&fo($n))))))),t}function Wo(){var t,e;return t=to,(e=Po())!==a&&(eo=t,e=Yn(e)),(t=e)===a&&(t=to,n.substr(to,4).toLowerCase()===Zn?(e=n.substr(to,4),to+=4):(e=a,0===io&&fo(Qn)),e!==a&&(eo=t,e=Jn(e)),t=e),t}if((i=s())!==a&&to===n.length)return i;throw i!==a&&to<n.length&&fo({type:"end"}),ho(oo,no<n.length?n.charAt(no):null,no<n.length?lo(no,no+1):lo(no,no))}}})?n.apply(e,o):n)||(t.exports=i)},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(4)),i=n(r(0)),a=n(r(14)),u=n(r(5)),s=r(35),c=n(r(22)),l=n(r(20)),f=n(r(42)),d=n(r(18)),h=n(r(44)),p=n(r(45)),g=n(r(46)),b=n(r(1)),m=n(r(10)),y=new s.Thing(0),x=3,v=38,w=0,_=Object.seal({arcRowHeight:v,arcGradient:w,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layers:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}}),C=[];function A(t,e,r){_.layers.sequence.appendChild(y.renderEntities(t,e,r)),_.arcEndX=y.getDims().entityXHWM-y.getDims().interEntitySpacing+y.getDims().width}function k(t,e,r,n,i){var a=b.default.createGroup();return t.from&&t.to&&("*"===t.to?(!function(t,e,r,n,o){var i=0,a=t.label,u=y.getX(t.from);t.label="",e.forEach(function(e){var a={};e.name!==t.from&&(i=y.getX(e.name),a=T(t,u,i,n,o),r.push({layer:_.layers.sequence,element:a}))}),t.label=a}(t,e,r,n,i),a=d.default.createLabel(t,{x:0,y:g.default.get(n).y,width:_.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},o.default(i))),r.push({title:t.title,layer:_.layers.sequence,element:a})):(a=T(t,y.getX(t.from),y.getX(t.to),n,i),r.push({title:t.title,layer:_.layers.sequence,element:a}))),a}function S(t,e,r){var n=0;return t.forEach(function(t){var a;switch(i.default(t.kind)){case"empty":a=E(t,0);break;case"box":a=F(y.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":a=L(t,0);break;default:var s=o.default(t);s.arcskip=0,a=k(s,e,[],0,r)}n=Math.max(n,m.default.getBBox(a).height+2*u.default.LINE_WIDTH)}),n}function L(t,e){var r=y.getOAndD(t.from,t.to),n=e>0,o=2*_.maxDepth*u.default.LINE_WIDTH,i=r.to-r.from+(y.getDims().interEntitySpacing-2*u.default.LINE_WIDTH)-7-u.default.LINE_WIDTH,a=r.from-(y.getDims().interEntitySpacing-3*u.default.LINE_WIDTH-o)/2-2*(_.maxDepth-t.depth)*u.default.LINE_WIDTH,s=b.default.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));var c=d.default.createLabel(t,{x:a+u.default.LINE_WIDTH-i/2,y:e+_.arcRowHeight/4,width:i},{alignLeft:!0,ownBackground:!1,wordwraparcs:_.wordWrapArcs}),l=m.default.getBBox(c),f=Math.max(l.height+2*u.default.LINE_WIDTH,_.arcRowHeight/2-2*u.default.LINE_WIDTH),h=Math.min(l.width+2*u.default.LINE_WIDTH,i),p=b.default.createEdgeRemark({width:h-u.default.LINE_WIDTH+7,height:f,x:a,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return s.appendChild(p),s.appendChild(c),s}function j(t,e,r,n){return r<_.arcRowHeight&&(r=_.arcRowHeight),t.map(function(t){var o=b.default.createLine({xFrom:y.getX(t.name),yFrom:0-r/2+(n||0),xTo:y.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style","stroke:"+t.linecolor+";"),o})}function E(t,e){return"---"===t.kind?function(t,e,r){var n=0,o=_.arcEndX,i="comment",a=b.default.createGroup();if(t.from&&t.to){var s=1*_.maxDepth*u.default.LINE_WIDTH,c=2*(_.maxDepth-t.depth)*u.default.LINE_WIDTH;n=e.from-(y.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2-(c-s),o=e.to+(y.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2+(c-s),i="inline_expression_divider"}var l=b.default.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:i});a.appendChild(l),a.appendChild(M(t,e,r)),t.linecolor&&l.setAttribute("style","stroke:"+t.linecolor+";");return a}(t,y.getOAndD(t.from,t.to),e):M(t,y.getOAndD(t.from,t.to),e)}function T(t,e,r,n,i){var a=b.default.createGroup(),s="arc ";s+=function(t){return"<:>"===t?"bidi ":"::"===t?"nodi ":""}(t.kind),s+=l.default.getAggregateClass(t.kind)+" "+l.default.getClass(t.kind);var h=[":>","::","<:>"].includes(t.kind),m=function(t,e,r){var n=g.default.get(t).y+e;if(r){var o=Math.floor(r),i=r-o,a=g.default.get(t).realRowNumber;n=g.default.getByRealRowNumber(a+o).y+i*(g.default.getByRealRowNumber(a+o+1).y-g.default.getByRealRowNumber(a+o).y)}return n}(n,_.arcGradient,t.arcskip);if(e===(r=p.default.determineArcXTo(t.kind,e,r))){a.appendChild(function(t,e,r,n,o,i){var a=_.arcRowHeight/5*2,s=y.getDims().interEntitySpacing/2,d={},h="arc "+l.default.getAggregateClass(t)+" "+l.default.getClass(t);if(n){d=b.default.createGroup();var p=b.default.createUTurn({x:e,y:o,width:s-2*u.default.LINE_WIDTH,height:a},o+r+a-2*u.default.LINE_WIDTH,{class:h,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH}),g=b.default.createUTurn({x:e,y:o,width:s,height:a},o+r+a-u.default.LINE_WIDTH,{lineWidth:u.default.LINE_WIDTH}),m=b.default.createUTurn({x:e,y:o,width:s,height:a},o+r+a,{class:h,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH});i&&p.setAttribute("style","stroke:"+i),f.default.getAttributes(c.default.get(),t,i,e,e).forEach(function(t){g.setAttribute(t.name,t.value)}),g.setAttribute("style","stroke:transparent;"),Boolean(i)&&m.setAttribute("style","stroke:"+i),d.appendChild(p),d.appendChild(m),d.appendChild(g),d.setAttribute("class",h)}else d=b.default.createUTurn({x:e,y:o,width:s,height:a},o+r+a,{class:h,dontHitHome:"-x"===t,lineWidth:u.default.LINE_WIDTH}),f.default.getAttributes(c.default.get(),t,i,e,e).forEach(function(t){d.setAttribute(t.name,t.value)});return d}(t.kind,e,m-g.default.get(n).y-_.arcGradient,h,g.default.get(n).y,t.linecolor));var x=2*y.getDims().interEntitySpacing/3;a.appendChild(d.default.createLabel(t,{x:e+1.5*u.default.LINE_WIDTH-x/2,y:g.default.get(n).y-_.arcRowHeight/5-u.default.LINE_WIDTH/2,width:x},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},o.default(i))))}else{var v=b.default.createLine({xFrom:e,yFrom:g.default.get(n).y,xTo:r,yTo:m},{class:s,doubleLine:h});f.default.getAttributes(c.default.get(),t.kind,t.linecolor,e,r).forEach(function(t){v.setAttribute(t.name,t.value)}),a.appendChild(v),a.appendChild(d.default.createLabel(t,{x:e,y:g.default.get(n).y+(m-g.default.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===_.regularArcTextVerticalAlignment,ownBackground:!0},o.default(i))))}return a}function M(t,e,r){var n=0,o=_.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),d.default.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:_.wordWrapArcs})}function F(t,e,r,n){var o,i=2*_.maxDepth*u.default.LINE_WIDTH,a=t.to-t.from+y.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-i,s=t.from-(y.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-i)/2,c=b.default.createGroup(),l=d.default.createLabel(e,{x:s,y:r,width:a},n),f=m.default.getBBox(l),h=Math.max(f.height+2*u.default.LINE_WIDTH,_.arcRowHeight-2*u.default.LINE_WIDTH),p={width:a,height:h,x:s,y:r-h/2};switch(e.kind){case"rbox":o=b.default.createRBox(p,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":o=b.default.createABox(p,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":o=b.default.createNote(p,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:u.default.LINE_WIDTH});break;default:o=b.default.createRect(p,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return c.appendChild(o),c.appendChild(l),c}e.default={clean:function(t,e){_.document=h.default.init(e),m.default.init(_.document),m.default.removeRenderedSVGFromElement(t)},render:function(t,e,r,n){var o=Object.freeze(a.default.flatten(t)),l=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return c.default.setPrefix(r),function(t,e,r,n){_.document=h.default.bootstrap(e,r,c.default.get(),f.default.getMarkerDefs(c.default.get(),t),n),_.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,_.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,m.default.init(_.document),_.layers=function(t){return{lifeline:t.getElementById(c.default.get("_lifelines")),sequence:t.getElementById(c.default.get("_sequence")),notes:t.getElementById(c.default.get("_notes")),inline:t.getElementById(c.default.get("_arcspans")),watermark:t.getElementById(c.default.get("_watermark"))}}(_.document),_.maxDepth=t.depth,function(t,e){y=new s.Thing(e&&e.hscale),function(t,e){t.arcRowHeight=v,t.arcGradient=w,t.wordWrapArcs=!1,e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+v,t.arcGradient=parseInt(e.arcgradient,10)+w),t.wordWrapArcs=Boolean(e.wordwraparcs)}(t,e)}(_,t.options)}(o,e,l,n||{}),function(t){A(t.entities,0,t.options),g.default.clear(y.getDims().height,_.arcRowHeight),function(t,e,r){C=[],j(e,"arcrow",_.arcRowHeight,g.default.get(-1).y).forEach(function(t){_.layers.lifeline.appendChild(t)}),function(t,e,r){var n=0;t.forEach(function(t,o){t.every(function(t){return t.isVirtual})?g.default.set(o,Math.max(g.default.get(o).height,S(t,e,r))):(g.default.set(o,Math.max(g.default.get(o).height,S(t,e,r)),n),n++)})}(t,e,r),t.forEach(function(t,n){!function(t,e,r,n){var o="arcrow",a=[];t.forEach(function(t){var u={};switch(i.default(t.kind)){case"empty":u=E(t,g.default.get(e).y),"..."===t.kind&&(o="arcrowomit"),a.push({layer:_.layers.sequence,element:u});break;case"box":u=F(y.getOAndD(t.from,t.to),t,g.default.get(e).y,n),a.push({title:t.title,layer:_.layers.notes,element:u});break;case"inline_expression":u=L(t,g.default.get(e).y),a.push({layer:_.layers.notes,element:u}),C.push({arc:t,rownum:e});break;default:u=k(t,r,a,e,n)}}),j(r,o,g.default.get(e).height,g.default.get(e).y).forEach(function(t){_.layers.lifeline.appendChild(t)}),a.forEach(function(t){t.element&&(t.title&&t.element.appendChild(b.default.createTitle(t.title)),t.layer.appendChild(t.element))})}(t,n,e,r)}),function(t){t.forEach(function(t){_.layers.inline.appendChild(function(t,e){var r=g.default.get(t.rownum).y,n=g.default.get(t.rownum+t.arc.numberofrows+1).y-r;return t.arc.label="",function(t,e,r,n){var o=2*_.maxDepth*u.default.LINE_WIDTH,i=t.to-t.from+y.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o,a=t.from-(y.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o)/2,s=2*(_.maxDepth-e.depth)*u.default.LINE_WIDTH;return b.default.createRect({width:i+2*s,height:r||_.arcRowHeight-2*u.default.LINE_WIDTH,x:a-s,y:n},{class:"box inline_expression "+e.kind,color:e.linecolor,bgColor:e.textbgcolor})}(y.getOAndD(t.arc.from,t.arc.to),t.arc,n,e)}(t,g.default.get(t.rownum).y))})}(C)}(t.arcs,t.entities,t.options),_.mirrorEntitiesOnBottom&&function(t,e){var r=g.default.getLast().y+(g.default.getLast().height+_.arcRowHeight)/2;j(t,"arcrow",_.arcRowHeight,r).forEach(function(t){_.layers.lifeline.appendChild(t)}),A(t,r+_.arcRowHeight/2,e)}(t.entities,t.options)}(o),function(t){var e=function(t){var e=p.default.determineDepthCorrection(t.depth,u.default.LINE_WIDTH),r=g.default.getLast(),n={width:t.entities.length*y.getDims().interEntitySpacing+e,height:Boolean(_.mirrorEntitiesOnBottom)?2*y.getDims().height+r.y+r.height+2*x:r.y+r.height/2+2*x,horizontaltransform:(y.getDims().interEntitySpacing+e-y.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:x,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);(function(t){var e=_.document.getElementById(c.default.get("_background"));e&&e.appendChild(b.default.createRect(t,{class:"bglayer"}))})(e),function(t){var e=_.document.getElementById(c.default.get()),r=_.document.getElementById(c.default.get("_body"));r&&e&&(r.setAttribute("transform","translate("+t.horizontaltransform+","+t.verticaltransform+") scale("+t.scale+","+t.scale+")"),t.autoscale&&!0===t.autoscale?b.default.updateSVG(e,{width:"100%",height:"100%",viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}):b.default.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:"0 0 "+t.width.toString()+" "+t.height.toString()}))}(e=function(t,e){return t.watermark&&function(t,e){_.layers.watermark.appendChild(b.default.createDiagonalText(t,e,"watermark"))}(t.watermark,e),t.width&&"auto"!==t.width&&(e=p.default.scaleCanvasToWidth(t.width,e)),e}(t.options,e))}(o),m.default.webkitNamespaceBugWorkaround(l.innerHTML)}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{})}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(5)),i=n(r(18)),a=n(r(1)),u=n(r(10)),s=160,c=100,l=34,f=function(){function t(t){this.interEntitySpacing=s,this.height=l,this.width=c,this.entityXHWM=0,this.entity2x={},t&&(this.interEntitySpacing=t*s,this.width=t*c)}return t.prototype.getX=function(t){return this.entity2x[t]},t.prototype.getDims=function(){return{interEntitySpacing:this.interEntitySpacing,height:this.height,width:this.width,entityXHWM:this.entityXHWM}},t.prototype.getOAndD=function(t,e){return{from:this.getX(t)<this.getX(e)?this.getX(t):this.getX(e),to:this.getX(e)>this.getX(t)?this.getX(e):this.getX(t)}},t.prototype.renderEntities=function(t,e,r){var n=this,i=a.default.createGroup();return this.entityXHWM=0,this.height=this.getMaxEntityHeight(t,r)+2*o.default.LINE_WIDTH,t.forEach(function(t){i.appendChild(n.renderEntity(t,n.entityXHWM,e,r)),n.setX(t,n.entityXHWM),n.entityXHWM+=n.interEntitySpacing}),i},t.prototype.setX=function(t,e){this.entity2x[t.name]=e+this.width/2},t.prototype.getNoEntityLines=function(t,e,r){return i.default.splitLabel(t,"entity",this.width,e,r).length},t.prototype.sizeEntityBoxToLabel=function(t,e){var r=Math.min(u.default.getBBox(t).width+4*o.default.LINE_WIDTH,this.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e},t.prototype.renderEntity=function(t,e,r,n){var o=a.default.createGroup(),u={x:e||0,y:r||0,width:this.width,height:this.height},s=i.default.createLabel(Object.assign({kind:"entity"},t),Object.assign({},u,{y:u.y+u.height/2}),n);return o.appendChild(a.default.createRect(this.sizeEntityBoxToLabel(s,u),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),o.appendChild(s),o},t.prototype.getMaxEntityHeight=function(t,e){var r=this,n=t[0],i=2;return t.forEach(function(t){var a=r.getNoEntityLines(t.label,o.default.FONT_SIZE,e);a>i&&(i=a,n=t)}),i>2?Math.max(this.height,u.default.getBBox(this.renderEntity(n,0,0,e)).height):this.height},t}();e.Thing=f},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(2)),i=n(r(6));e.default={createSingleLine:o.default.createSingleLine,createDoubleLine:function(t,e){var r=e.lineWidth||1,n=r,a=e?e.class:"",u=i.default.getDirection(t),s=i.default.determineEndCorrection(t,a,r),c=i.default.determineStartCorrection(t,a,r),l=(t.xTo-t.xFrom+s-c).toString(),f=(t.yTo-t.yFrom).toString(),d=o.default.pathPoint2String("l",u.signX,u.dy),h=o.default.pathPoint2String("l",l,f);return o.default.createPath(o.default.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*u.dy)+d+o.default.pathPoint2String("M",t.xFrom+c,t.yFrom-n)+h+o.default.pathPoint2String("M",t.xFrom+c,t.yFrom+n)+h+o.default.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*r*u.dy)+d,e)},createNote:function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),i=n.toString(10);return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y)+o.default.pathPoint2String("l",t.width-n,0)+o.default.pathPoint2String("l",0,i)+o.default.pathPoint2String("l",i,0)+o.default.pathPoint2String("m",-i,-i)+o.default.pathPoint2String("l",i,i)+o.default.pathPoint2String("l",0,t.height-n)+o.default.pathPoint2String("l",-t.width,0)+o.default.pathPoint2String("l",0,-t.height)+"z",e)},createRect:o.default.createRect,createABox:function(t,e){return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y+t.height/2)+o.default.pathPoint2String("l",3,-t.height/2)+o.default.pathPoint2String("l",t.width-6,0)+o.default.pathPoint2String("l",3,t.height/2)+o.default.pathPoint2String("l",-3,t.height/2)+o.default.pathPoint2String("l",-(t.width-6),0)+"z",e)},createRBox:function(t,e){var r=Object.assign({rx:6,ry:6},e);return o.default.createRect(t,r)},createEdgeRemark:function(t,e){var r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y)+o.default.pathPoint2String("l",t.width,0)+o.default.pathPoint2String("l",0,t.height-r)+o.default.pathPoint2String("l",-r,r)+o.default.pathPoint2String("l",-(t.width-r),0),n)}}},function(t,e,r){"use strict";e.__esModule=!0;var n="http://www.w3.org/2000/svg",o={};function i(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function a(t,e){return Object.keys(e||{}).forEach(function(r){i(t,r,e[r])}),t}e.default={SVGNS:n,XLINKNS:"http://www.w3.org/1999/xlink",init:function(t){o=t},setAttribute:i,setAttributes:a,setAttributesNS:function(t,e,r){return Object.keys(r||{}).forEach(function(n){!function(t,e,r,n){Boolean(n)&&t.setAttributeNS(e,r,n)}(t,e,n,r[n])}),t},createElement:function(t,e){return a(o.createElementNS(n,t),e)},createTextNode:function(t){return o.createTextNode(t)}}},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t){return 0-function(t){return 360*t/(2*Math.PI)}(Math.atan(t.height/t.width))}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=r(40),i=r(21),a=n(r(9)),u=n(r(2)),s=n(r(6));e.default={createSingleLine:function(t,e){void 0===e&&(e={});var r=s.default.getDirection(t);return u.default.createPath(u.default.pathPoint2String("M",t.xFrom,t.yFrom)+u.default.pathPoint2String("L",a.default(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:a.default(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+i.line2CurveString(t),e)},createDoubleLine:function(t,e){return u.default.createPath(o.doubleLine2CurveString(t,e),{class:e.class})},createNote:function(t,e){var r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),i=u.default.createGroup();return i.appendChild(u.default.createPath(o.renderNotePathString(t,n),e)),e.bgColor="transparent",i.appendChild(u.default.createPath(o.renderNoteCornerString(t,n),e)),i},createRect:function(t,e){return u.default.createPath(o.rbox2CurveString(t,0),e)},createABox:function(t,e){return u.default.createPath(o.abox2CurveString(t,3),e)},createRBox:function(t,e){return u.default.createPath(o.rbox2CurveString(t,6),e)},createEdgeRemark:function(t,e){var r=e&&e.lineWidth||1,n=u.default.createGroup(),i=e&&e.foldSize?e.foldSize:7,a=e&&e.color?e.color:"black";e.color="transparent!important";var s=u.default.createPath(u.default.pathPoint2String("M",t.x,t.y+r/2)+u.default.pathPoint2String("L",t.x+t.width,t.y+r/2)+u.default.pathPoint2String("L",t.x+t.width,t.y+t.height-i)+u.default.pathPoint2String("L",t.x+t.width-i,t.y+t.height)+u.default.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=a;var c=u.default.createPath(o.edgeRemark2CurveString(t,i),e);return n.appendChild(s),n.appendChild(c),n}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(2)),i=n(r(6)),a=r(21);e.renderNotePathString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y)+a.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width,t.y+e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x,t.y+t.height)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+o.default.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return o.default.pathPoint2String("M",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+e)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y+t.height/2)+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+o.default.pathPoint2String("L",t.x+e,t.y)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+e,t.y+t.height)+a.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y+e)+a.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+a.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+e,t.y+t.height)+a.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+a.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){var r=e.lineWidth||1,n=r,u=e?e.class:"",s=i.default.getDirection(t),c=i.default.determineEndCorrection(t,u,r),l=i.default.determineStartCorrection(t,u,r);return o.default.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*s.dy)+o.default.pathPoint2String("l",s.signX,s.dy)+o.default.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+c,yTo:t.yTo-n})+o.default.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+a.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+c,yTo:t.yTo+n})+o.default.pathPoint2String("M",t.xTo-s.signX,t.yTo+7.5*r*s.dy)+o.default.pathPoint2String("l",s.signX,s.dy)},e.edgeRemark2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x+t.width,t.y)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+a.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+a.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x-1,t.y+t.height)}},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",a=/^\[object .+?Constructor\]$/,u="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,c=u||s||Function("return this")();var l=Array.prototype,f=Function.prototype,d=Object.prototype,h=c["__core-js_shared__"],p=function(){var t=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),g=f.toString,b=d.hasOwnProperty,m=d.toString,y=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=l.splice,v=j(c,"Map"),w=j(Object,"create");function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(t,e){for(var r=t.length;r--;)if(T(t[r][0],e))return r;return-1}function S(t){return!(!M(t)||function(t){return!!p&&p in t}(t))&&(function(t){var e=M(t)?m.call(t):"";return e==o||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?y:a).test(function(t){if(null!=t){try{return g.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function L(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function j(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return S(r)?r:void 0}function E(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(E.Cache||A),n}function T(t,e){return t===e||t!=t&&e!=e}function M(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}_.prototype.clear=function(){this.__data__=w?w(null):{}},_.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_.prototype.get=function(t){var e=this.__data__;if(w){var r=e[t];return r===n?void 0:r}return b.call(e,t)?e[t]:void 0},_.prototype.has=function(t){var e=this.__data__;return w?void 0!==e[t]:b.call(e,t)},_.prototype.set=function(t,e){return this.__data__[t]=w&&void 0===e?n:e,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(t){var e=this.__data__,r=k(e,t);return!(r<0||(r==e.length-1?e.pop():x.call(e,r,1),0))},C.prototype.get=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]},C.prototype.has=function(t){return k(this.__data__,t)>-1},C.prototype.set=function(t,e){var r=this.__data__,n=k(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},A.prototype.clear=function(){this.__data__={hash:new _,map:new(v||C),string:new _}},A.prototype.delete=function(t){return L(this,t).delete(t)},A.prototype.get=function(t){return L(this,t).get(t)},A.prototype.has=function(t){return L(this,t).has(t)},A.prototype.set=function(t,e){return L(this,t).set(t,e),this},E.Cache=A,t.exports=E}).call(this,r(8))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(43)),i=n(r(17)),a={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},u={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function s(t,e){return a[i.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function c(t,e){function r(e){c(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&a[i.default(e.kind)]&&a[i.default(e.kind)].marker&&!t.includes(s(e.kind,e.linecolor))&&t.push(s(e.kind,e.linecolor)),t}function l(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.default={getAttributes:function(t,e,r,n,o){var i=[];return a[e]&&a[e].attributes&&(i=a[e].attributes.map(function(i){return{name:i.name,value:i.value.replace(/\{\{signal-marker-end\}\}/g,function(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,function(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}})),i},getMarkerDefs:function(t,e){return o.default(function(t){return t.arcs.reduce(c,[]).sort().map(l)}(e).map(function(e){return u[e.kind].variants.map(function(r){return{name:t+e.kind+r.name+"-"+e.color,path:r.path,color:e.color,type:e.kind}})}))}}},function(t,e,r){(function(e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,s=a||u||Function("return this")();function c(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var l=Object.prototype,f=l.hasOwnProperty,d=l.toString,h=s.Symbol,p=l.propertyIsEnumerable,g=h?h.isConcatSpreadable:void 0;function b(t){return m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?d.call(t):"";return e==o||e==i}(t)}(t)}(t)&&f.call(t,"callee")&&(!p.call(t,"callee")||d.call(t)==n)}(t)||!!(g&&t&&t[g])}var m=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=b),i||(i=[]);++a<u;){var s=e[a];r>0&&n(s)?r>1?t(s,r-1,n,o,i):c(i,s):o||(i[i.length]=s)}return i}(t,1):[]}}).call(this,r(8))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(1)),i=n(r(5)),a=r(13),u={};function s(t,e){var r=u.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(u.createTextNode(function(t,e){return function(t,e){return(t.cssBefore||"")+a.baseTemplate+(t.cssAfter||"")+(e||"")}(f(t.additionalTemplate)||{},t.styleAdditions).replace(/<%=fontSize%>/g,i.default.FONT_SIZE).replace(/<%=lineWidth%>/g,i.default.LINE_WIDTH).replace(/<%=id%>/g,e)}(t,e))),r}function c(t,e,r){var n=o.default.createDefs();return n.appendChild(s(r,t)),n=function(t,e){return e.forEach(function(e){"method"===e.type?t.appendChild(o.default.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(o.default.createMarkerPath(e.name,e.path,e.color))}),t}(n,e)}function l(t){return o.default.init(t.document,{LINE_WIDTH:i.default.LINE_WIDTH,FONT_SIZE:i.default.FONT_SIZE}),t.document}function f(t){return a.namedStyles.find(function(e){return e.name===t})}e.default={bootstrap:function(t,e,r,n,i){u=l(t);var a=o.default.createSVG(r,r,function(t){var e="",r=f(t.additionalTemplate);return Boolean(r)&&(e=r.renderMagic),e}(i));return Boolean(i.source)&&a.appendChild(function(t,e){var r=o.default.createDesc();return r.appendChild(t.document.createTextNode("\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n"+e)),r}(t,i.source)),a.appendChild(c(r,n,i)),a.appendChild(function(t){var e=o.default.createGroup(t+"_body");return e.appendChild(o.default.createGroup(t+"_background")),e.appendChild(o.default.createGroup(t+"_arcspans")),e.appendChild(o.default.createGroup(t+"_lifelines")),e.appendChild(o.default.createGroup(t+"_sequence")),e.appendChild(o.default.createGroup(t+"_notes")),e.appendChild(o.default.createGroup(t+"_watermark")),e}(r)),e.appendChild(a),u},init:l}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(4));e.default={scaleCanvasToWidth:function(t,e){var r=o.default(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},determineDepthCorrection:function(t,e){return t?2*(t+1)*e*2:0},determineArcXTo:function(t,e,r){return"-x"===t?e+.75*(r-e):r}}},function(t,e,r){"use strict";e.__esModule=!0;var n=[],o=0,i=0;function a(t){return n[t]?n[t]:{y:o+1.5*i+t*i,height:i,realRowNumber:n.length-1}}function u(){return a(n.length-1)}e.default={clear:function(t,e){n=[],o=t,i=e},get:a,getByRealRowNumber:function(t){var e=n.find(function(e){return e.realRowNumber===t});return void 0===e&&(e=u()),e},getLast:u,set:function(t,e,r){void 0===r&&(r=-1);var o=a(t-1);n[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:r}}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};e.__esModule=!0;var o=n(r(4)),i=n(r(0)),a=n(r(15)),u=n(r(14)),s=n(r(19)),c=n(r(48)),l="  ",f=40,d=0;function h(t){var e="/* Sequence chart represented as a directed graph\n * in the graphviz dot language (http://graphviz.org/)\n *\n * Generated by mscgen_js (https://sverweij.github.io/mscgen_js)\n */\n\ngraph {\n";return e+=l+"rankdir=LR\n",e+=l+"splines=true\n",e+=l+"ordering=out\n",e+=l+'fontname="Helvetica"\n',e+=l+'fontsize="9"\n',e+=l+'node [style=filled, fillcolor=white fontname="Helvetica", fontsize="9" ]\n',e+=l+'edge [fontname="Helvetica", fontsize="9", arrowhead=vee, arrowtail=vee, dir=forward]\n',e+="\n",e+=function(t){return t.reduce(function(t,e){return t+l+function(t){return y(t.name)+m(b(t))}(e)+";\n"},"")}(t.entities)+"\n",t.arcs&&(d=0,e+=v(t.arcs,"")),e+"}"}function p(t,e){return e+'="'+function(t){var e=s.default(t.replace(/"/g,'\\"'),f),r=e.slice(0,-1).reduce(function(t,e){return t+e+"\n"},"");return r+=e.slice(-1)}(t)+'"'}function g(t,e,r){Boolean(e)&&t.push(p(e,r))}function b(t){return["label","color","fontcolor","fillcolor"].filter(function(e){return Boolean(t[e])}).map(function(e){return p(t[e],e)})}function m(t){var e="";return e=t.slice(0,-1).reduce(function(t,e){return t+e+", "}," ["),e+=t.slice(-1)+"]"}function y(t){return'"'+t+'"'}function x(t,e,r){var n="",o=i.default(t.kind);return n+="box"===o?function(t,e,r){var n="",o="box"+e.toString();n+=o;var i=b(t);return g(i,c.default.getStyle(t.kind),"style"),g(i,c.default.getShape(t.kind),"shape"),n+=m(i)+"\n"+l+r,g(i=[],"dotted","style"),g(i,"none","dir"),n+=o+" -- {"+y(t.from)+","+y(t.to)+"}",n+=m(i)}(t,e,r):function(t,e,r){var n="";t.label=function(t,e){return e?"("+t+") "+e:"("+t+")"}(r,t.label);var o=b(t);switch(g(o,c.default.getStyle(t.kind),"style"),e){case"directional":g(o,c.default.getArrow(t.kind),"arrowhead");break;case"bidirectional":g(o,c.default.getArrow(t.kind),"arrowhead"),g(o,c.default.getArrow(t.kind),"arrowtail"),g(o,"both","dir");break;case"nondirectional":g(o,"none","dir")}return t.arcs||(n+=y(t.from)+" ",n+="--",n+=" "+y(t.to),n+=m(o)),n}(t,o,e)}function v(t,e){return t.reduce(function(t,r){return t+r.reduce(function(t,r){return t+function(t,e){var r="";return t.from&&t.to&&(r+=l+e+x(t,++d,e)+"\n",t.arcs&&(r+=l+e+"subgraph cluster_"+d.toString()+"{",r+="\n"+l+e+' label="'+t.kind+": "+t.label+'" labeljust="l"\n',r+=v(t.arcs,e+l),r+=l+e+"}\n")),r}(r,e)},"")},"")}function w(t){return t.arcs&&t.arcs.forEach(function(e,r){e.filter(function(t){return"*"===t.to}).forEach(function(n,i){var a=o.default(n);delete t.arcs[r][i];var u=function(t,e){return t.filter(function(t){return e.from!==t.name}).map(function(t){return e.to=t.name,o.default(e)})}(t.entities,a);e[i]=u.shift(),t.arcs[r]=e.concat(u)})}),t}e.default={explodeBroadcasts:w,render:function(t){return h(function(t){return w(a.default(t,[u.default.nameAsLabel],[u.default.swapRTLArc,u.default.overrideColors]))}(o.default(t)))}}},function(t,e,r){"use strict";e.__esModule=!0;var n=Object.freeze({"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"}),o=Object.freeze({box:"box",abox:"hexagon",rbox:"box",note:"note"}),i=Object.freeze({">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"});e.default={getArrow:function(t){return n[t]},getShape:function(t){return o[t]},getStyle:function(t){return i[t]}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this,{program:{opener:" * \\msc\n",closer:" * \\endmsc"},option:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},entity:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},arcline:{opener:" *   ",separator:",\n *   ",closer:";\n"},inline:{opener:";\n",closer:" * #"}})},e.prototype.renderComments=function(){return""},e}(r(23).MscGenAdaptor);e.default={render:function(t){return new o(!1).render(t)}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();e.__esModule=!0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.init=function(){t.prototype.init.call(this,{supportedEntityAttributes:["label"],supportedArcAttributes:["label"],program:{opener:"",closer:""},option:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},entity:{opener:"",separator:","+this.eol,closer:";"+this.eol+this.eol},arcline:{opener:"",separator:","+this.eol,closer:";"+this.eol},inline:{opener:" {"+this.eol,closer:"}"},attribute:{opener:"",separator:"",closer:""}})},e.prototype.renderEntityName=function(t){return this.entityNameIsQuotable(t)?'"'+t+'"':t},e.prototype.renderAttribute=function(t){var e="";return t.name&&t.value&&(e+=' : "'+t.value+'"'),e},e.prototype.entityNameIsQuotable=function(t){var e=t.match(/[^;, "\t\n\r=\-><:{*]+/gi);return e?1!==e.length:"*"!==t},e}(r(11).XuAdaptor);e.default={render:function(t){return(new o).render(t)}}}])});