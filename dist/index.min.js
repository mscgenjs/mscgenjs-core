!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.mscgenjs=e():t.mscgenjs=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=49)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Object.freeze({"|||":"empty","...":"empty","---":"empty","->":"directional","=>":"directional","=>>":"directional",">>":"directional",":>":"directional","-x":"directional","<-":"directional","<=":"directional","<<=":"directional","<<":"directional","<:":"directional","x-":"directional",note:"box",box:"box",abox:"box",rbox:"box","<->":"bidirectional","<=>":"bidirectional","<<=>>":"bidirectional","<<>>":"bidirectional","<:>":"bidirectional","--":"nondirectional","==":"nondirectional","..":"nondirectional","::":"nondirectional",alt:"inline_expression",else:"inline_expression",opt:"inline_expression",break:"inline_expression",par:"inline_expression",seq:"inline_expression",strict:"inline_expression",neg:"inline_expression",critical:"inline_expression",ignore:"inline_expression",consider:"inline_expression",assert:"inline_expression",loop:"inline_expression",ref:"inline_expression",exc:"inline_expression"});e.default=(t=>n[t])},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(37)),a=n(r(36)),i=n(r(9)),u=2;function c(t){return`${i.default(t.x,u).toString()},${i.default(t.y,u).toString()} `}function s(t,e,r){return t+c({x:e,y:r})}function l(t,e,r,n){return o.default.createElement("marker",{orient:r,id:t,class:e,viewBox:Boolean(n)?n:"0 0 10 10",refX:"9",refY:"3",markerUnits:"strokeWidth",markerWidth:"10",markerHeight:"10"})}let d="vertical-align:text-top;";function f(t,e){const r=o.default.createElement("tspan"),n=o.default.createTextNode(t);return r.appendChild(n),e?function(t,e){const r=o.default.createElement("a");return o.default.setAttributesNS(r,o.default.XLINKNS,{"xlink:href":t,"xlink:title":t}),r.appendChild(e),r}(e,r):r}function h(t,e,r){const n=Object.assign({class:null,url:null,id:null,idurl:null},r),a=o.default.createElement("text",{x:i.default(e.x,u).toString(),y:i.default(e.y,u).toString(),class:n.class});if(a.appendChild(f(t,n.url)),n.id){const t=f(` [${n.id}]`,n.idurl);t.setAttribute("style",d),a.appendChild(t)}return a}function p(t,e){const r=Object.assign({class:null,style:null,color:null,bgColor:null},e);return g(o.default.createElement("path",{d:t,class:r.class,style:r.style}),r.color,r.bgColor)}function g(t,e,r){let n="";return r&&(n+=`fill:${r};`),e&&(n+=`stroke:${e};`),o.default.setAttribute(t,"style",n)}d+="font-size:0.7em;text-anchor:start;",e.default={init:o.default.init,createSVG:function(t,e){return o.default.createElement("svg",{version:"1.1",id:t,class:e,xmlns:o.default.SVGNS,"xmlns:xlink":o.default.XLINKNS,width:"0",height:"0"})},updateSVG:o.default.setAttributes,createDesc:function(){return o.default.createElement("desc")},createDefs:function(){return o.default.createElement("defs")},createTSpan:f,createText:h,createDiagonalText:function(t,e,r){return o.default.setAttributes(h(t,{x:e.width/2,y:e.height/2},{class:r}),{transform:`rotate(${i.default(a.default(e),u).toString()} `+`${i.default(e.width/2,u).toString()} `+`${i.default(e.height/2,u).toString()})`})},createSingleLine:function(t,e){return o.default.createElement("line",{x1:i.default(t.xFrom,u).toString(),y1:i.default(t.yFrom,u).toString(),x2:i.default(t.xTo,u).toString(),y2:i.default(t.yTo,u).toString(),class:e?e.class:null})},createRect:function(t,e){const r=Object.assign({class:null,color:null,bgColor:null,rx:null,ry:null},e);return g(o.default.createElement("rect",{width:i.default(t.width,u),height:i.default(t.height,u),x:i.default(t.x,u),y:i.default(t.y,u),rx:i.default(r.rx,u),ry:i.default(r.ry,u),class:r.class}),r.color,r.bgColor)},createUTurn:function(t,e,r){const n=Object.assign({class:null,dontHitHome:!1,lineWidth:1},r),o=n.dontHitHome?t.x+7.5*n.lineWidth:t.x;return p(s("M",t.x,t.y-t.height/2)+s("C",t.x+t.width,t.y-7.5*n.lineWidth/2)+c({x:t.x+t.width,y:e+0})+c({x:o,y:e}),{class:n.class})},createGroup:function(t,e){return o.default.createElement("g",{id:t,class:e})},createPath:p,createMarkerPath:function(t,e,r){const n=l(t,"arrow-marker","auto");return n.appendChild(p(e,{class:"arrow-style",style:`stroke-dasharray:100,1;stroke:${r}`||"black"})),n},createMarkerPolygon:function(t,e,r){const n=l(t,"arrow-marker","auto");return n.appendChild(o.default.createElement("polygon",{points:e,class:"arrow-style",stroke:r||"black",fill:r||"black"})),n},createTitle:function(t){const e=o.default.createElement("title"),r=o.default.createTextNode(t);return e.appendChild(r),e},point2String:c,pathPoint2String:s}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(38)),a=n(r(1)),i=n(r(35));let u=o.default,c={};e.default={init(t,e){a.default.init(t),c=Object.assign({LINE_WIDTH:2,FONT_SIZE:12},e)},createSVG:(t,e,r)=>(u=function(t){return Boolean(t)?"wobbly"===t?i.default:o.default:u}(r),a.default.createSVG(t,e)),updateSVG:a.default.updateSVG,createTitle:a.default.createTitle,createDesc:a.default.createDesc,createDefs:a.default.createDefs,createTSpan:a.default.createTSpan,createRect:(t,e)=>u.createRect(t,e),createRBox:(t,e)=>u.createRBox(t,e),createABox:(t,e)=>u.createABox(t,e),createNote:(t,e)=>u.createNote(t,e),createEdgeRemark:(t,e)=>u.createEdgeRemark(t,{class:e.class,color:e.color,bgColor:e.bgColor,foldSize:e.foldSize,lineWidth:c.LINE_WIDTH}),createText:a.default.createText,createDiagonalText:a.default.createDiagonalText,createLine:(t,e)=>Boolean(e)&&Boolean(e.doubleLine)?(e.lineWidth||(e.lineWidth=c.LINE_WIDTH),u.createDoubleLine(t,e)):u.createSingleLine(t,e),createUTurn:a.default.createUTurn,createGroup:a.default.createGroup,createMarkerPath:a.default.createMarkerPath,createMarkerPolygon:a.default.createMarkerPolygon}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={determineStartCorrection:function(t,e,r){let n=0;return!e.includes("nodi")&&e.includes("bidi")&&(n=t.xTo>t.xFrom?7.5*r:-7.5*r),n},determineEndCorrection:function(t,e,r){let n=0;return e.includes("nodi")||(n=t.xTo>t.xFrom?-7.5*r:7.5*r),n},getDirection:function(t){const e=t.xTo>t.xFrom?1:-1;return{signX:e,signY:t.yTo>t.yFrom?1:-1,dy:e*(t.yTo-t.yFrom)/(t.xTo-t.xFrom)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={LINE_WIDTH:2,FONT_SIZE:12}},function(t,e,r){(function(t,r){var n=200,o="__lodash_hash_undefined__",a=9007199254740991,i="[object Arguments]",u="[object Boolean]",c="[object Date]",s="[object Function]",l="[object GeneratorFunction]",d="[object Map]",f="[object Number]",h="[object Object]",p="[object RegExp]",g="[object Set]",b="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",x="[object DataView]",v="[object Float32Array]",w="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",S="[object Uint8ClampedArray]",L="[object Uint16Array]",E="[object Uint32Array]",j=/\w*$/,T=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,O={};O[i]=O["[object Array]"]=O[y]=O[x]=O[u]=O[c]=O[v]=O[w]=O[_]=O[C]=O[A]=O[d]=O[f]=O[h]=O[p]=O[g]=O[b]=O[m]=O[k]=O[S]=O[L]=O[E]=!0,O["[object Error]"]=O[s]=O["[object WeakMap]"]=!1;var P="object"==typeof t&&t&&t.Object===Object&&t,F="object"==typeof self&&self&&self.Object===Object&&self,I=P||F||Function("return this")(),D="object"==typeof e&&e&&!e.nodeType&&e,$=D&&"object"==typeof r&&r&&!r.nodeType&&r,B=$&&$.exports===D;function N(t,e){return t.set(e[0],e[1]),t}function H(t,e){return t.add(e),t}function W(t,e,r,n){var o=-1,a=t?t.length:0;for(n&&a&&(r=t[++o]);++o<a;)r=e(r,t[o],o,t);return r}function R(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function z(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function G(t,e){return function(r){return t(e(r))}}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var X=Array.prototype,q=Function.prototype,U=Object.prototype,K=I["__core-js_shared__"],Z=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Y=q.toString,Q=U.hasOwnProperty,J=U.toString,tt=RegExp("^"+Y.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=B?I.Buffer:void 0,rt=I.Symbol,nt=I.Uint8Array,ot=G(Object.getPrototypeOf,Object),at=Object.create,it=U.propertyIsEnumerable,ut=X.splice,ct=Object.getOwnPropertySymbols,st=et?et.isBuffer:void 0,lt=G(Object.keys,Object),dt=Dt(I,"DataView"),ft=Dt(I,"Map"),ht=Dt(I,"Promise"),pt=Dt(I,"Set"),gt=Dt(I,"WeakMap"),bt=Dt(Object,"create"),mt=Wt(dt),yt=Wt(ft),xt=Wt(ht),vt=Wt(pt),wt=Wt(gt),_t=rt?rt.prototype:void 0,Ct=_t?_t.valueOf:void 0;function At(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Lt(t){this.__data__=new kt(t)}function Et(t,e){var r=zt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Gt(t)}(t)&&Q.call(t,"callee")&&(!it.call(t,"callee")||J.call(t)==i)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var a in t)!e&&!Q.call(t,a)||o&&("length"==a||Nt(a,n))||r.push(a);return r}function jt(t,e,r){var n=t[e];Q.call(t,e)&&Rt(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function Tt(t,e){for(var r=t.length;r--;)if(Rt(t[r][0],e))return r;return-1}function Mt(t,e,r,n,o,a,T){var M;if(n&&(M=a?n(t,o,a,T):n(t)),void 0!==M)return M;if(!qt(t))return t;var P=zt(t);if(P){if(M=function(t){var e=t.length,r=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(r.index=t.index,r.input=t.input);return r}(t),!e)return function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(t,M)}else{var F=Bt(t),I=F==s||F==l;if(Vt(t))return function(t,e){if(e)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}(t,e);if(F==h||F==i||I&&!a){if(R(t))return a?t:{};if(M=function(t){return"function"!=typeof t.constructor||Ht(t)?{}:function(t){return qt(t)?at(t):{}}(ot(t))}(I?{}:t),!e)return function(t,e){return Ft(t,$t(t),e)}(t,function(t,e){return t&&Ft(e,Ut(e),t)}(M,t))}else{if(!O[F])return a?t:{};M=function(t,e,r,n){var o=t.constructor;switch(e){case y:return Pt(t);case u:case c:return new o(+t);case x:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,n);case v:case w:case _:case C:case A:case k:case S:case L:case E:return function(t,e){var r=e?Pt(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,n);case d:return function(t,e,r){return W(e?r(z(t),!0):z(t),N,new t.constructor)}(t,n,r);case f:case b:return new o(t);case p:return function(t){var e=new t.constructor(t.source,j.exec(t));return e.lastIndex=t.lastIndex,e}(t);case g:return function(t,e,r){return W(e?r(V(t),!0):V(t),H,new t.constructor)}(t,n,r);case m:return function(t){return Ct?Object(Ct.call(t)):{}}(t)}}(t,F,Mt,e)}}T||(T=new Lt);var D=T.get(t);if(D)return D;if(T.set(t,M),!P)var $=r?function(t){return function(t,e,r){var n=e(t);return zt(t)?n:function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}(n,r(t))}(t,Ut,$t)}(t):Ut(t);return function(t,e){for(var r=-1,n=t?t.length:0;++r<n&&!1!==e(t[r],r,t););}($||t,function(o,a){$&&(o=t[a=o]),jt(M,a,Mt(o,e,r,n,a,t,T))}),M}function Ot(t){return!(!qt(t)||function(t){return!!Z&&Z in t}(t))&&(Xt(t)||R(t)?tt:T).test(Wt(t))}function Pt(t){var e=new t.constructor(t.byteLength);return new nt(e).set(new nt(t)),e}function Ft(t,e,r,n){r||(r={});for(var o=-1,a=e.length;++o<a;){var i=e[o],u=n?n(r[i],t[i],i,r,t):void 0;jt(r,i,void 0===u?t[i]:u)}return r}function It(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function Dt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ot(r)?r:void 0}At.prototype.clear=function(){this.__data__=bt?bt(null):{}},At.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},At.prototype.get=function(t){var e=this.__data__;if(bt){var r=e[t];return r===o?void 0:r}return Q.call(e,t)?e[t]:void 0},At.prototype.has=function(t){var e=this.__data__;return bt?void 0!==e[t]:Q.call(e,t)},At.prototype.set=function(t,e){return this.__data__[t]=bt&&void 0===e?o:e,this},kt.prototype.clear=function(){this.__data__=[]},kt.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0||(r==e.length-1?e.pop():ut.call(e,r,1),0))},kt.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},kt.prototype.has=function(t){return Tt(this.__data__,t)>-1},kt.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},St.prototype.clear=function(){this.__data__={hash:new At,map:new(ft||kt),string:new At}},St.prototype.delete=function(t){return It(this,t).delete(t)},St.prototype.get=function(t){return It(this,t).get(t)},St.prototype.has=function(t){return It(this,t).has(t)},St.prototype.set=function(t,e){return It(this,t).set(t,e),this},Lt.prototype.clear=function(){this.__data__=new kt},Lt.prototype.delete=function(t){return this.__data__.delete(t)},Lt.prototype.get=function(t){return this.__data__.get(t)},Lt.prototype.has=function(t){return this.__data__.has(t)},Lt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof kt){var o=r.__data__;if(!ft||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new St(o)}return r.set(t,e),this};var $t=ct?G(ct,Object):function(){return[]},Bt=function(t){return J.call(t)};function Nt(t,e){return!!(e=null==e?a:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function Ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||U)}function Wt(t){if(null!=t){try{return Y.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Rt(t,e){return t===e||t!=t&&e!=e}(dt&&Bt(new dt(new ArrayBuffer(1)))!=x||ft&&Bt(new ft)!=d||ht&&"[object Promise]"!=Bt(ht.resolve())||pt&&Bt(new pt)!=g||gt&&"[object WeakMap]"!=Bt(new gt))&&(Bt=function(t){var e=J.call(t),r=e==h?t.constructor:void 0,n=r?Wt(r):void 0;if(n)switch(n){case mt:return x;case yt:return d;case xt:return"[object Promise]";case vt:return g;case wt:return"[object WeakMap]"}return e});var zt=Array.isArray;function Gt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=a}(t.length)&&!Xt(t)}var Vt=st||function(){return!1};function Xt(t){var e=qt(t)?J.call(t):"";return e==s||e==l}function qt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ut(t){return Gt(t)?Et(t):function(t){if(!Ht(t))return lt(t);var e=[];for(var r in Object(t))Q.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}r.exports=function(t){return Mt(t,!0,!0)}}).call(this,r(10),r(41)(t))},function(t,e,r){"use strict";function n(t,e){return void 0===e||"*"===e||t.some(t=>t.name===e)}Object.defineProperty(e,"__esModule",{value:!0});class o{constructor(t,e){this.name="EntityNotDefinedError",this.message=function(t,e){return`Entity '${t}' in arc '${e.from} ${e.kind} ${e.to}' is not defined.`}(t,e)}}e.default={nameValue2Option:function(t,e){const r={};return r[t.toLowerCase()]=e,r},flattenBoolean:function(t){return["true","on","1"].includes(t.toLowerCase())},entityExists:n,checkForUndeclaredEntities:function t(e,r){(r||[]).forEach(r=>{r.forEach(r=>{if(r.from&&!n(e,r.from))throw new o(r.from,r);if(r.to&&!n(e,r.to))throw new o(r.to,r);r.arcs&&t(e,r.arcs)})})},EntityNotDefinedError:o,isMscGenKeyword:function(t){return["box","abox","rbox","note","msc","hscale","width","arcgradient","wordwraparcs","label","color","idurl","id","url","linecolor","linecolour","textcolor","textcolour","textbgcolor","textbgcolour","arclinecolor","arclinecolour","arctextcolor","arctextcolour","arctextbgcolor","arctextbgcolour","arcskip"].includes(t)},getMetaInfo:function(t,e){const r=function(t){return!!t&&(t.hasOwnProperty("watermark")||t.hasOwnProperty("wordwrapentities")||t.hasOwnProperty("wordwrapboxes")||t.hasOwnProperty("width")&&"auto"===t.width)}(t),n=function(t){return(t||[]).some(t=>t.some(t=>["alt","else","opt","break","par","seq","strict","neg","critical","ignore","consider","assert","loop","ref","exc"].includes(t.kind)))}(e);return{extendedOptions:r,extendedArcTypes:n,extendedFeatures:r||n}}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(6)),a=n(r(19));class i{constructor(t=!1){this.indent="  ",this.space=" ",this.eol="\n",this.config={},!0===t?(this.indent="",this.space="",this.eol=""):(this.indent="  ",this.space=" ",this.eol="\n"),this.init(this.config)}init(t){this.config=Object.assign({},this.getConfig(),t)}render(t){let e="";return t.precomment&&(e+=this.renderComments(t.precomment)),e+=this.config.program.opener,t.options&&(e+=this.renderOptions(t.options)),e+=this.renderEntities(t.entities),t.arcs&&(e+=this.renderArcLines(t.arcs,"")),e+=this.config.program.closer}renderEntityName(t){return this.isQuotable(t)?`"${t}"`:t}renderAttribute(t){let e="";return t.name&&t.value&&(e+=`${t.name}="${a.default.escapeString(t.value)}"`),e}renderComments(t){return t.reduce((t,e)=>t+e,"")}renderOption(t){return`${t.name}=${"string"==typeof t.value?'"'+a.default.escapeString(t.value)+'"':t.value.toString()}`}optionIsValid(t){return!0}renderKind(t){return t}getConfig(){return{supportedOptions:["hscale","width","arcgradient","wordwraparcs","watermark","wordwrapentities","wordwrapboxes"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip","title"],program:{opener:`msc${this.space}{${this.eol}`,closer:"}"},option:{opener:this.indent,separator:`,${this.eol}${this.indent}`,closer:`;${this.eol}${this.eol}`},entity:{opener:this.indent,separator:`,${this.eol}${this.indent}`,closer:`;${this.eol}${this.eol}`},attribute:{opener:`${this.space}[`,separator:`,${this.space}`,closer:"]"},arcline:{opener:this.indent,separator:`,${this.eol}${this.indent}`,closer:`;${this.eol}`},inline:{opener:`${this.space}{${this.eol}`,closer:`${this.indent}}`}}}extractSupportedOptions(t,e){return e.filter(e=>void 0!==t[e]).map(e=>({name:e,value:t[e]}))}isQuotable(t){const e=t.match(/[a-z0-9]+/gi);return e?1!==e.length||o.default.isMscGenKeyword(t):"*"!==t}renderOptions(t){const e=this.extractSupportedOptions(t,this.config.supportedOptions).filter(this.optionIsValid);let r="";if(e.length>0){const t=e.pop();r=e.reduce((t,e)=>t+this.renderOption(e)+this.config.option.separator,this.config.option.opener),r+=this.renderOption(t)+this.config.option.closer}return r}renderEntity(t){return this.renderEntityName(t.name)+this.renderAttributes(t,this.config.supportedEntityAttributes)}renderEntities(t){let e="";return t.length>0&&(e=t.slice(0,-1).reduce((t,e)=>t+this.renderEntity(e)+this.config.entity.separator,this.config.entity.opener),e+=this.renderEntity(t[t.length-1])+this.config.entity.closer),e}renderAttributes(t,e){let r="";const n=this.extractSupportedOptions(t,e);if(n.length>0){const t=n.pop();r=n.reduce((t,e)=>t+this.renderAttribute(e)+this.config.attribute.separator,this.config.attribute.opener),r+=this.renderAttribute(t)+this.config.attribute.closer}return r}renderArc(t,e){let r="";return t.from&&(r+=`${this.renderEntityName(t.from)} `),r+=this.renderKind(t.kind),t.to&&(r+=` ${this.renderEntityName(t.to)}`),r+=this.renderAttributes(t,this.config.supportedArcAttributes),t.arcs&&(r+=this.config.inline.opener,r+=this.renderArcLines(t.arcs,e+this.indent),r+=e+this.config.inline.closer),null===t.arcs&&(r+=this.config.inline.opener,r+=e+this.config.inline.closer),r}renderArcLine(t,e){let r="";return t.length>0&&(r=t.slice(0,-1).reduce((t,r)=>t+e+this.renderArc(r,e)+this.config.arcline.separator,this.config.arcline.opener),r+=e+this.renderArc(t[t.length-1],e)+this.config.arcline.closer),r}renderArcLines(t,e){return t.reduce((t,r)=>t+this.renderArcLine(r,e),"")}}e.XuAdaptor=i,e.default={render:(t,e)=>{return new i(e).render(t)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(33)),a=n(r(13)),i=n(r(2));let u={};const c=a.default.get("bboxer");function s(t){let e=u.getElementById(c);(e=e||function(t){const e=i.default.createSVG(t,a.default.get());return u.body.appendChild(e),e}(c)).appendChild(t);const r=t.getBBox();return e.removeChild(t),r}function l(t){return"function"==typeof t.getBBox?function(t){return Math.abs(t.height)>1e5||Math.abs(t.width)>1e5?{height:0,width:0,x:0,y:0}:t}(s(t)):{height:15,width:15,x:2,y:2}}e.default={init(t){u=t},removeRenderedSVGFromElement:function(t){a.default.setPrefix(t);const e=u.getElementById(a.default.get());if(Boolean(e)){const r=u.getElementById(t);r?r.removeChild(e):u.body.removeChild(e)}},getBBox:l,calculateTextHeight:o.default(function(){return l(i.default.createText("ÁjyÎ9ƒ@💩",{x:0,y:0})).height}),webkitNamespaceBugWorkaround:t=>t.replace(/ xlink=/g," xmlns:xlink=").replace(/ href=/g," xlink:href=")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=((t,e)=>e?Math.round(t*Math.pow(10,e))/Math.pow(10,e):Math.round(t))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",i=/^(?:0|[1-9]\d*)$/;var u=Object.prototype,c=u.hasOwnProperty,s=u.toString,l=u.propertyIsEnumerable,d=function(t,e){return function(r){return t(e(r))}}(Object.keys,Object),f=Math.max,h=!l.call({valueOf:1},"valueOf");function p(t,e){var r=x(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&v(t)}(t)&&c.call(t,"callee")&&(!l.call(t,"callee")||s.call(t)==n)}(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],o=r.length,a=!!o;for(var i in t)!e&&!c.call(t,i)||a&&("length"==i||b(i,o))||r.push(i);return r}function g(t,e,r){var n=t[e];c.call(t,e)&&y(n,r)&&(void 0!==r||e in t)||(t[e]=r)}function b(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||i.test(t))&&t>-1&&t%1==0&&t<e}function m(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||u)}function y(t,e){return t===e||t!=t&&e!=e}var x=Array.isArray;function v(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=w(t)?s.call(t):"";return e==o||e==a}(t)}function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var _=function(t){return function(t,e){return e=f(void 0===e?t.length-1:e,0),function(){for(var r=arguments,n=-1,o=f(r.length-e,0),a=Array(o);++n<o;)a[n]=r[e+n];n=-1;for(var i=Array(e+1);++n<e;)i[n]=r[n];return i[e]=a,function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}(t,this,i)}}(function(e,r){var n=-1,o=r.length,a=o>1?r[o-1]:void 0,i=o>2?r[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,i&&function(t,e,r){if(!w(r))return!1;var n=typeof e;return!!("number"==n?v(r)&&b(e,r.length):"string"==n&&e in r)&&y(r[e],t)}(r[0],r[1],i)&&(a=o<3?void 0:a,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,a)}return e})}(function(t,e){if(h||m(e)||v(e))!function(t,e,r,n){r||(r={});for(var o=-1,a=e.length;++o<a;){var i=e[o],u=n?n(r[i],t[i],i,r,t):void 0;g(r,i,void 0===u?t[i]:u)}}(e,function(t){return v(t)?p(t):function(t){if(!m(t))return d(t);var e=[];for(var r in Object(t))c.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}(e),t);else for(var r in e)c.call(e,r)&&g(t,r,e[r])});t.exports=_},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(0)),a=r(7);class i extends a.XuAdaptor{init(t){super.init(Object.assign({supportedOptions:["hscale","width","arcgradient","wordwraparcs"],supportedEntityAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],supportedArcAttributes:["label","idurl","id","url","linecolor","textcolor","textbgcolor","arclinecolor","arctextcolor","arctextbgcolor","arcskip"],inline:{opener:`;${this.eol}`,closer:"#"}},t))}renderKind(t){return"inline_expression"===o.default(t)?"--":t}optionIsValid(t){return!Boolean(t.value)||"string"!=typeof t.value||"auto"!==t.value.toLowerCase()}}e.MscGenAdaptor=i,e.default={render:(t,e)=>{return new i(e).render(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let n="mscgenjs";e.default={setPrefix(t){n="mscgenjs"+t},get:t=>n+(t||"")}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(9)),a=n(r(1)),i=n(r(3)),u=70,c=3;function s(t){return t.map(t=>`${a.default.pathPoint2String("S",t.controlX,t.controlY)} `+`${a.default.point2String(t)}`).join(" ")}function l(t){const e=Math.abs(t.xTo-t.xFrom),r=Math.abs(t.yTo-t.yFrom);return Math.sqrt(e*e+r*r)}function d(t,e){const r=l(t);return r>0?Math.floor(r/e):0}function f(t){return Math.round(2*Math.random()*t)-t}e.points2CurveString=s,e.line2CurveString=function(t){return s(p(t,u,c))},e.getLineLength=l,e.getNumberOfSegments=d;const h=2;function p(t,e,r){const n=[],a=d(t,e=function(t,e){if(t<=0)throw new Error("pInterval must be > 0");return Math.min(l(e),t)}(e,t)),u=i.default.getDirection(t),c=u.signX*Math.sqrt(Math.pow(e,2)/(1+Math.pow(u.dy,2))),s=u.signY*(Math.abs(u.dy)===1/0?e:Math.sqrt(Math.pow(u.dy,2)*Math.pow(e,2)/(1+Math.pow(u.dy,2))));let p;for(let i=1;i<=a;i++)e>l({xFrom:(p={controlX:o.default(t.xFrom+(i-.5)*c+f(r),h),controlY:o.default(t.yFrom+(i-.5)*s+f(r),h),x:o.default(t.xFrom+i*c,h),y:o.default(t.yFrom+i*s,h)}).x,yFrom:p.y,xTo:t.xTo,yTo:t.yTo})&&(p.x=t.xTo,p.y=t.yTo),n.push(p);return n}e.getBetweenPoints=p},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(0)),a=Object.freeze({"|||":"empty-row","...":"omitted-row","---":"comment-row","->":"signal","=>":"method","=>>":"callback",">>":"return",":>":"emphasised","-x":"lost","<-":"signal","<=":"method","<<=":"callback","<<":"return","<:":"emphasised","x-":"lost","<->":"signal","<=>":"method","<<=>>":"callback","<<>>":"return","<:>":"emphasised","--":"signal","==":"method","..":"return","::":"emphasised"});e.default={getClass:t=>a[t]||t,getAggregateClass:t=>o.default(t)||t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=((t,e)=>{let r=0;const n=[];let o=0,a=0,i=0,u=0;const c=t.replace(/[\t\n]+/g," ").replace(/\\n/g,"\n");for(;u<=c.length;)u>=c.length?n.push(c.substring(o,u)):"\n"===c[u]?(r=0,i=u,n.push(c.substring(o,i)),o=i+1):r++>=e&&(-1===(i=c.substring(0,u).lastIndexOf(" "))||i<o?(r=1,i=u,a=u):(r=0,a=i+1),n.push(c.substring(o,i)),o=a),u++;return n})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(0)),a=n(r(16)),i=n(r(4)),u=n(r(15)),c=n(r(2)),s=n(r(8));function l(t,e){return e&&t.setAttribute("style",`fill:${e};`),t}function d(t,e,r,n,o,a){let d=r+(o+.25)*s.default.calculateTextHeight(),f=function(t,e,r){const n=e||t,o=u.default.getClass(n),a=u.default.getAggregateClass(n);return o===a?o+r:a+r+o+r}(n.kind,a.kind,"-text ");return a.alignLeft&&(f+="anchor-start "),a.alignAround&&(d=r+(o+.25)*(s.default.calculateTextHeight()+i.default.LINE_WIDTH)),function(t,e,r){return l(t,e&&!r?"blue":r)}(l(function(t,e,r,n,o){const a=0===e?{class:n,url:o.url,id:o.id,idurl:o.idurl}:{class:n,url:o.url};return c.default.createText(t,r,a)}(t,o,{x:e,y:d},f,n),n.textcolor),n.url,n.textcolor)}function f(t,e){return function(t,e){return"box"===o.default(t)&&e}(t,e.wordwrapboxes)||function(t,e){return"entity"===t&&e}(t,e.wordwrapentities)||function(t,e){return"box"!==o.default(t)&&"entity"!==t&&e}(t,e.wordwraparcs)||void 0===t}function h(t,e,r,n,o){return f(e,o)?a.default(t,function(t,e){const r=Math.abs(t);return r<=160?r/(e/12*8):r<=320?r/(e/12*6.4):r<=480?r/(e/12*5.9):r/(e/12*5.6)}(r,n)):t.split("\\n")}e.default={createLabel:function(t,e,r,n){const o=c.default.createGroup(n);if(r=r||{},t.label){const n=e.x+e.width/2,a=function(t,e){return e.alignAbove&&t.forEach(()=>{t.push("")}),e.alignAround&&1===t.length&&t.push(""),t}(h(t.label,t.kind,e.width,i.default.FONT_SIZE,r),r);let u=function(t,e,r){return r.alignAround?e.y-(t.length-1)/2*(s.default.calculateTextHeight()+i.default.LINE_WIDTH+1):e.y-(t.length-1)/2*(s.default.calculateTextHeight()+1)}(a,e,r);a.forEach((e,a)=>{if(""!==e){const i=d(e,n,u,t,a,r);r.ownBackground&&o.appendChild(function(t,e){const r=c.default.createRect(s.default.getBBox(t),{class:"label-text-background"});return e&&r.setAttribute("style",`fill:${e}; stroke:${e};`),r}(i,t.textbgcolor)),o.appendChild(i)}u++})}return o},splitLabel:h}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Object.freeze({"<-":"->","<=":"=>","<<=":"=>>","<<":">>","<:":":>","x-":"-x"});e.default=(t=>n[t]||t)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={unescapeString:t=>t.replace(/\\"/g,'"'),escapeString:t=>t.replace(/\\"/g,'"').replace(/"/g,'\\"')}},function(t,e,r){"use strict";function n(t,e,r){e&&r&&e.forEach(e=>{!function(t,e,r){e.forEach(o=>{!function(t,e,r,n){n&&n.forEach(n=>{n(r,t,e)})}(t,e,o,r),o.arcs&&n(t,o.arcs,r)})}(t,e,r)})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=((t,e,r)=>((function(t,e){t&&e&&t.forEach(t=>{e.forEach(e=>{e(t)})})})(t.entities,e),t.arcs&&n(t.entities,t.arcs,r),t))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(20)),a=n(r(5)),i=n(r(19)),u=n(r(0)),c=n(r(18)),s=n(r(40));let l=0;function d(t){void 0===t.label&&(t.label=t.name)}function f(t){t.label&&(t.label=i.default.unescapeString(t.label)),t.id&&(t.id=i.default.unescapeString(t.id))}function h(t){t.label=Boolean(t.label)?t.label:""}function p(t){if(c.default(t.kind)!==t.kind){t.kind=c.default(t.kind);const e=t.from;t.from=t.to,t.to=e}}function g(t,e){!t.linecolor&&e.arclinecolor&&(t.linecolor=e.arclinecolor),!t.textcolor&&e.arctextcolor&&(t.textcolor=e.arctextcolor),!t.textbgcolor&&e.arctextbgcolor&&(t.textbgcolor=e.arctextbgcolor)}function b(t,e=[]){if(t&&t.from){const r=e.find(e=>e.name===t.from);r&&g(t,r)}}function m(t,e,r,n){const o=[],i=[];let c=[];return t.forEach(t=>{if("inline_expression"===u.default(t.kind)){if(t.depth=e,t.isVirtual=!0,Boolean(t.arcs)){const r=a.default(t);r.numberofrows=function t(e){return e.arcs.reduce((e,r)=>e+(Boolean(r[0].arcs)?t(r[0])+1:0),e.arcs.length)}(r),delete r.arcs,i.push(r),t.arcs.forEach(t=>{c=c.concat(m(t,e+1,r.from,r.to)),t.forEach(t=>{g(t,r)})}),e>l&&(l=e)}else i.push(t);c.push([{kind:"|||",from:t.from,to:t.to,isVirtual:!0}])}else r&&n&&"empty"===u.default(t.kind)&&(t.from=r,t.to=n,t.depth=e),i.push(t)}),o.push(i),o.concat(c)}function y(t){const e={};return l=0,Boolean(t.options)&&(e.options=a.default(t.options)),e.entities=a.default(t.entities),e.arcs=[],t.arcs&&t.arcs.forEach(t=>{m(t,0).forEach(t=>{e.arcs.push(t)})}),e.depth=l+1,e}e.default={nameAsLabel:d,swapRTLArc:p,unwind:y,explodeBroadcasts:function(t){return t.arcs&&t.arcs.forEach((e,r)=>{e.filter(t=>"*"===t.to).forEach((n,o)=>{const i=a.default(n);delete t.arcs[r][o];const u=function(t,e){return t.filter(t=>e.from!==t.name).map(t=>(e.to=t.name,a.default(e)))}(t.entities,i);e[o]=u.shift(),t.arcs[r]=e.concat(u)})}),t},overrideColors:b,flatten:t=>(t.options=s.default(t.options),o.default(y(t),[d,f],[p,b,f,h]))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=Object.freeze({baseTemplate:"svg.<%=id%>{font-family:Helvetica,sans-serif;font-size:<%=fontSize%>px;font-weight:normal;font-style:normal;text-decoration:none;background-color:white;stroke:black;stroke-width:<%=lineWidth%>}.<%=id%> path, .<%=id%> rect{fill:none}.<%=id%> .label-text-background{fill:white;stroke:white;stroke-width:0}.<%=id%> .bglayer{fill:white;stroke:white;stroke-width:0}.<%=id%> line{}.<%=id%> .return, .<%=id%> .comment{stroke-dasharray:5,3}.<%=id%> .inline_expression_divider{stroke-dasharray:10,5}.<%=id%> text{color:inherit;stroke:none;text-anchor:middle}.<%=id%> text.anchor-start{text-anchor:start}.<%=id%> .arrow-marker{overflow:visible}.<%=id%> .arrow-style{stroke-width:1}.<%=id%> .arcrow, .<%=id%> .arcrowomit, .<%=id%> .emphasised{stroke-linecap:butt}.<%=id%> .arcrowomit{stroke-dasharray:2,2}.<%=id%> .box, .<%=id%> .entity{fill:white;stroke-linejoin:round}.<%=id%> .inherit{stroke:inherit;color:inherit}.<%=id%> .inherit-fill{fill:inherit}.<%=id%> .watermark{font-size:48pt;font-weight:bold;opacity:0.14}",namedStyles:[Object.freeze({name:"basic",description:"Basic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:underline;}"}),Object.freeze({name:"lazy",description:"Lazy",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{font-weight:bold;}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC}.<%=id%> rect.label-text-background{opacity:0.9}.<%=id%> line.comment,.<%=id%> rect.inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke:grey}"}),Object.freeze({name:"classic",description:"Classic",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> text.entity-text{text-decoration:none}.<%=id%> .entity{stroke:none;}.<%=id%> line,.<%=id%> rect,.<%=id%> path{stroke-width:1px}.<%=id%> .arrow-style{stroke-width:2;}.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{stroke-width: 1px}"}),Object.freeze({name:"fountainpen",description:"Fountain pen",experimental:!0,deprecated:!1,renderMagic:"wobbly",cssBefore:"@import 'https://fonts.googleapis.com/css?family=Gochi+Hand';",cssAfter:"svg.<%=id%>{font-family:'Gochi Hand', cursive;font-size:14px;stroke-opacity:0.4;stroke-linecap:round;background-color:transparent}.<%=id%> text{fill:rgba(0,0,128,0.7)}.<%=id%> marker polygon{fill:rgba(0,0,255,0.4);stroke-linejoin:round}.<%=id%> line, .<%=id%> path, .<%=id%> rect, .<%=id%> polygon{stroke:blue !important}.<%=id%> text.entity-text{font-weight:bold;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#FFFFCC;}.<%=id%> .label-text-background{opacity:0}"}),Object.freeze({name:"cygne",description:"Cygne (best with msgenny)",experimental:!0,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:#00A1DE}.<%=id%> text{fill:#005B82}.<%=id%> .entity,.<%=id%> .box{fill:#00A1DE;stroke:#00A1DE}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:#E77B2F;stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"}),Object.freeze({name:"pegasse",description:"Pégase (best with msgenny)",experimental:!1,deprecated:!0,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> line, .<%=id%> path{stroke:rgba(0, 43, 84, 1)}.<%=id%> text{fill:rgba(0, 43, 84, 1)}.<%=id%> .entity,.<%=id%> .box{fill:rgba(0, 43, 84, 1);stroke:rgba(0, 43, 84, 1)}.<%=id%> text.box-text{fill:white}.<%=id%> text.entity-text{font-weight:bold;fill:white;text-decoration:none}.<%=id%> text.return-text{font-style:italic}.<%=id%> path.note{fill:rgba(255, 50, 0, 1);stroke:white}.<%=id%> .comment,.<%=id%> .inline_expression,.<%=id%> .inline_expression_divider,.<%=id%> .inline_expression_label{fill:white}"}),Object.freeze({name:"grayscaled",description:"Grayscaled (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:grayscale(1);-webkit-filter:grayscale(1);}"}),Object.freeze({name:"inverted",description:"Inverted (not in IE or Safari)",experimental:!0,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:"svg.<%=id%>{filter:invert(1);-webkit-filter:invert(1);}"}),Object.freeze({name:"noentityboxes",description:"No entity boxes",experimental:!1,deprecated:!1,renderMagic:"straight",cssBefore:"",cssAfter:".<%=id%> .entity{fill:none;stroke:none;}.<%=id%> text.entity-text{text-decoration:underline;}"})]})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(22));e.default=Object.freeze({inputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1}],outputType:[{name:"mscgen",experimental:!1},{name:"msgenny",experimental:!1},{name:"xu",experimental:!1},{name:"json",experimental:!1},{name:"ast",experimental:!1},{name:"dot",experimental:!1},{name:"doxygen",experimental:!1}],regularArcTextVerticalAlignment:[{name:"above",experimental:!0},{name:"middle",experimental:!1},{name:"below",experimental:!0}],namedStyle:o.default.namedStyles.map(t=>({name:t.name,description:t.description,experimental:t.experimental,deprecated:t.deprecated}))})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(7);e.default={render:t=>(new class extends n.XuAdaptor{init(){super.init({supportedEntityAttributes:["label"],supportedArcAttributes:["label"],program:{opener:"",closer:""},option:{opener:"",separator:`,${this.eol}`,closer:`;${this.eol}${this.eol}`},entity:{opener:"",separator:`,${this.eol}`,closer:`;${this.eol}${this.eol}`},arcline:{opener:"",separator:`,${this.eol}`,closer:`;${this.eol}`},inline:{opener:` {${this.eol}`,closer:"}"},attribute:{opener:"",separator:"",closer:""}})}renderEntityName(t){return this.entityNameIsQuotable(t)?`"${t}"`:t}renderAttribute(t){let e="";return t.name&&t.value&&(e+=` : "${t.value}"`),e}entityNameIsQuotable(t){const e=t.match(/[^;, "\t\n\r=\-><:{*]+/gi);return Boolean(e)?1!==e.length:"*"!==t}}).render(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(12);e.default={render:t=>{return new class extends n.MscGenAdaptor{init(){super.init({program:{opener:" * \\msc\n",closer:" * \\endmsc"},option:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},entity:{opener:" *   ",separator:",\n *   ",closer:";\n * \n"},arcline:{opener:" *   ",separator:",\n *   ",closer:";\n"},inline:{opener:";\n",closer:" * #"}})}renderComments(){return""}}(!1).render(t)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=Object.freeze({"->":"rvee","<->":"rvee","=>":"normal","<=>":"normal","-x":"oinvonormal"}),o=Object.freeze({box:"box",abox:"hexagon",rbox:"box",note:"note"}),a=Object.freeze({">>":"dashed","<<>>":"dashed","..":"dashed",":>":"bold","<:>":"bold","::":"bold",rbox:"rounded"});e.default={getArrow:t=>n[t],getShape:t=>o[t],getStyle:t=>a[t]}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(5)),a=n(r(0)),i=n(r(20)),u=n(r(21)),c=n(r(16)),s=n(r(26)),l="  ",d=40;let f=0;function h(t){let e="/* Sequence chart represented as a directed graph\n * in the graphviz dot language (http://graphviz.org/)\n *\n * Generated by mscgen_js (https://sverweij.github.io/mscgen_js)\n */\n\ngraph {\n";return e+=`${l}rankdir=LR\n`,e+=`${l}splines=true\n`,e+=`${l}ordering=out\n`,e+=`${l}fontname="Helvetica"\n`,e+=`${l}fontsize="9"\n`,e+=`${l}node [style=filled, fillcolor=white fontname="Helvetica", fontsize="9" ]\n`,e+=`${l}edge [fontname="Helvetica", fontsize="9", arrowhead=vee, arrowtail=vee, dir=forward]\n`,e+="\n",e+=`${function(t){return t.reduce((t,e)=>`${t+l+function(t){return y(t.name)+m(b(t))}(e)};\n`,"")}(t.entities)}\n`,t.arcs&&(f=0,e+=v(t.arcs,"")),e+"}"}function p(t,e){return`${e}="${function(t){const e=c.default(t.replace(/"/g,'\\"'),d);let r=e.slice(0,-1).reduce((t,e)=>`${t+e}\n`,"");return r+=e.slice(-1)}(t)}"`}function g(t,e,r){Boolean(e)&&t.push(p(e,r))}function b(t){return["label","color","fontcolor","fillcolor"].filter(e=>Boolean(t[e])).map(e=>p(t[e],e))}function m(t){let e="";return e=t.slice(0,-1).reduce((t,e)=>`${t+e}, `," ["),e+=`${t.slice(-1)}]`}function y(t){return`"${t}"`}function x(t,e,r){let n="";const o=a.default(t.kind);return n+="box"===o?function(t,e,r){let n="";const o=`box${e.toString()}`;n+=o;let a=b(t);return g(a,s.default.getStyle(t.kind),"style"),g(a,s.default.getShape(t.kind),"shape"),n+=`${m(a)}\n${l}${r}`,g(a=[],"dotted","style"),g(a,"none","dir"),n+=`${o} -- {${y(t.from)},${y(t.to)}}`,n+=m(a)}(t,e,r):function(t,e,r){let n="";t.label=function(t,e){return e?`(${t}) ${e}`:`(${t})`}(r,t.label);const o=b(t);switch(g(o,s.default.getStyle(t.kind),"style"),e){case"directional":g(o,s.default.getArrow(t.kind),"arrowhead");break;case"bidirectional":g(o,s.default.getArrow(t.kind),"arrowhead"),g(o,s.default.getArrow(t.kind),"arrowtail"),g(o,"both","dir");break;case"nondirectional":g(o,"none","dir")}return t.arcs||(n+=`${y(t.from)} `,n+="--",n+=` ${y(t.to)}`,n+=m(o)),n}(t,o,e)}function v(t,e){return t.reduce((t,r)=>t+r.reduce((t,r)=>t+function(t,e){let r="";return t.from&&t.to&&(r+=`${l+e+x(t,++f,e)}\n`,t.arcs&&(r+=`${l+e}subgraph cluster_${f.toString()}{`,r+=`\n${l}${e} label="${t.kind}: ${t.label}" labeljust="l"\n`,r+=v(t.arcs,e+l),r+=`${l+e}}\n`)),r}(r,e),""),"")}e.default={render:t=>h(function(t){return u.default.explodeBroadcasts(i.default(t,[u.default.nameAsLabel],[u.default.swapRTLArc,u.default.overrideColors]))}(o.default(t)))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let n=[],o=0,a=0;function i(t){return n[t]?n[t]:{y:o+1.5*a+t*a,height:a}}function u(){return i(n.length-1)}e.default={clear(t,e){n=[],o=t,a=e},get:i,getByRealRowNumber(t){let e=n.find(e=>e.realRowNumber===t);return void 0===e&&(e=u()),e},getLast:u,set(t,e,r){const o=i(t-1);n[t]={y:o.y+(o.height+e)/2,height:e,realRowNumber:r}}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(5));e.default={scaleCanvasToWidth(t,e){const r=o.default(e);return r.scale=t/r.width,r.width*=r.scale,r.height*=r.scale,r.horizontaltransform*=r.scale,r.verticaltransform*=r.scale,r.x=0-r.horizontaltransform,r.y=0-r.verticaltransform,r},determineDepthCorrection:(t,e)=>t?2*(t+1)*e*2:0,determineArcXTo:(t,e,r)=>"-x"===t?e+.75*(r-e):r}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(2)),a=n(r(4)),i=n(r(22));let u={};function c(t,e){const r=u.createElement("style");return r.setAttribute("type","text/css"),r.appendChild(u.createTextNode(function(t,e){return function(t,e){return(t.cssBefore||"")+i.default.baseTemplate+(t.cssAfter||"")+(e||"")}(d(t.additionalTemplate)||{},t.styleAdditions).replace(/<%=fontSize%>/g,a.default.FONT_SIZE).replace(/<%=lineWidth%>/g,a.default.LINE_WIDTH).replace(/<%=id%>/g,e)}(t,e))),r}function s(t,e,r){let n=o.default.createDefs();return n.appendChild(c(r,t)),n=function(t,e){return e.forEach(e=>{"method"===e.type?t.appendChild(o.default.createMarkerPolygon(e.name,e.path,e.color)):t.appendChild(o.default.createMarkerPath(e.name,e.path,e.color))}),t}(n,e)}function l(t){return o.default.init(t.document,{LINE_WIDTH:a.default.LINE_WIDTH,FONT_SIZE:a.default.FONT_SIZE}),t.document}function d(t){return i.default.namedStyles.find(e=>e.name===t)}e.default={bootstrap:function(t,e,r,n,a){u=l(t);const i=o.default.createSVG(r,r,function(t){let e="";const r=d(t.additionalTemplate);return Boolean(r)&&(e=r.renderMagic),e}(a));return Boolean(a.source)&&i.appendChild(function(t,e){const r=o.default.createDesc();return r.appendChild(t.document.createTextNode(`\n\n# Generated by mscgen_js - https://sverweij.github.io/mscgen_js\n${e}`)),r}(t,a.source)),i.appendChild(s(r,n,a)),i.appendChild(function(t){const e=o.default.createGroup(`${t}_body`);return e.appendChild(o.default.createGroup(`${t}_background`)),e.appendChild(o.default.createGroup(`${t}_arcspans`)),e.appendChild(o.default.createGroup(`${t}_lifelines`)),e.appendChild(o.default.createGroup(`${t}_sequence`)),e.appendChild(o.default.createGroup(`${t}_notes`)),e.appendChild(o.default.createGroup(`${t}_watermark`)),e}(r)),e.appendChild(i),u},init:l}},function(t,e,r){(function(e){var r=9007199254740991,n="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",i="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,c=i||u||Function("return this")();function s(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var l=Object.prototype,d=l.hasOwnProperty,f=l.toString,h=c.Symbol,p=l.propertyIsEnumerable,g=h?h.isConcatSpreadable:void 0;function b(t){return m(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?f.call(t):"";return e==o||e==a}(t)}(t)}(t)&&d.call(t,"callee")&&(!p.call(t,"callee")||f.call(t)==n)}(t)||!!(g&&t&&t[g])}var m=Array.isArray;t.exports=function(t){return t&&t.length?function t(e,r,n,o,a){var i=-1,u=e.length;for(n||(n=b),a||(a=[]);++i<u;){var c=e[i];r>0&&n(c)?r>1?t(c,r-1,n,o,a):s(a,c):o||(a[a.length]=c)}return a}(t,1):[]}}).call(this,r(10))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(31)),a=n(r(18)),i={"->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"}],marker:{name:"signal"}},"<->":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}{{signal-marker-end}}-{{color}})"},{name:"marker-start",value:"url(#{{id}}{{signal-marker-start}}-{{color}})"}],marker:{name:"signal"}},"=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<=>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},">>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"}],marker:{name:"callback",end:""}},"<<>>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}callback-{{color}})"},{name:"marker-start",value:"url(#{{id}}callback-l-{{color}})"}],marker:{name:"callback",end:"",start:"-l"}},"..":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"--":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"==":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"::":{attributes:[{name:"style",value:"stroke:{{color}}"}]},"=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<=>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},":>":{attributes:[{name:"style",value:"stroke:{{color}};"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"}],marker:{name:"method",end:""}},"<:>":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}method-{{color}})"},{name:"marker-start",value:"url(#{{id}}method-l-{{color}})"}],marker:{name:"method",end:"",start:"-l"}},"-x":{attributes:[{name:"style",value:"stroke:{{color}}"},{name:"marker-end",value:"url(#{{id}}lost-{{color}})"}],marker:{name:"lost",end:""}}},u={signal:{variants:[{name:"",path:"M9,3 l-8, 2"},{name:"-u",path:"M9,3 l-8,-2"},{name:"-l",path:"M9,3 l 8, 2"},{name:"-lu",path:"M9,3 l 8,-2"}]},method:{variants:[{name:"",path:"1,1  9,3  1,5"},{name:"-l",path:"17,1 9,3 17,5"}]},callback:{variants:[{name:"",path:"M 1,1 l 8,2 l-8,2"},{name:"-l",path:"M17,1 l-8,2 l 8,2"}]},lost:{variants:[{name:"",path:"M7,0 l5,6 M7,6 l5,-6"}]}};function c(t,e){return i[a.default(t)].marker.name+(Boolean(e)?" "+e:" black")}function s(t,e){function r(e){s(t,e)}return Array.isArray(e)&&e.forEach(r),e.arcs&&e.arcs.forEach(r),e.kind&&i[a.default(e.kind)]&&i[a.default(e.kind)].marker&&!t.includes(c(e.kind,e.linecolor))&&t.push(c(e.kind,e.linecolor)),t}function l(t){return{kind:t.split(" ")[0],color:t.split(" ")[1]}}e.default={getAttributes:function(t,e,r,n,o){let a=[];return i[e]&&i[e].attributes&&(a=i[e].attributes.map(a=>({name:a.name,value:a.value.replace(/\{\{signal-marker-end\}\}/g,function(t,e,r){return e&&r&&["<->","->"].includes(t)?e<r?"signal":"signal-u":""}(e,n,o)).replace(/\{\{signal-marker-start\}\}/g,function(t,e,r){return"<->"===t&&e<=r?"signal-l":"signal-lu"}(e,n,o)).replace(/\{\{id\}\}/g,t).replace(/\{\{color\}\}/g,r||"black")}))),a},getMarkerDefs:(t,e)=>o.default(function(t){return t.arcs.reduce(s,[]).sort().map(l)}(e).map(e=>u[e.kind].variants.map(r=>({name:`${t+e.kind+r.name}-${e.color}`,path:r.path,color:e.color,type:e.kind}))))}},function(t,e,r){(function(e){var r="Expected a function",n="__lodash_hash_undefined__",o="[object Function]",a="[object GeneratorFunction]",i=/^\[object .+?Constructor\]$/,u="object"==typeof e&&e&&e.Object===Object&&e,c="object"==typeof self&&self&&self.Object===Object&&self,s=u||c||Function("return this")();var l=Array.prototype,d=Function.prototype,f=Object.prototype,h=s["__core-js_shared__"],p=function(){var t=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),g=d.toString,b=f.hasOwnProperty,m=f.toString,y=RegExp("^"+g.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=l.splice,v=E(s,"Map"),w=E(Object,"create");function _(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function C(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function A(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function k(t,e){for(var r=t.length;r--;)if(T(t[r][0],e))return r;return-1}function S(t){return!(!M(t)||function(t){return!!p&&p in t}(t))&&(function(t){var e=M(t)?m.call(t):"";return e==o||e==a}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?y:i).test(function(t){if(null!=t){try{return g.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function L(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function E(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return S(r)?r:void 0}function j(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(r);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=t.apply(this,r);return n.cache=a.set(o,i),i};return n.cache=new(j.Cache||A),n}function T(t,e){return t===e||t!=t&&e!=e}function M(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}_.prototype.clear=function(){this.__data__=w?w(null):{}},_.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},_.prototype.get=function(t){var e=this.__data__;if(w){var r=e[t];return r===n?void 0:r}return b.call(e,t)?e[t]:void 0},_.prototype.has=function(t){var e=this.__data__;return w?void 0!==e[t]:b.call(e,t)},_.prototype.set=function(t,e){return this.__data__[t]=w&&void 0===e?n:e,this},C.prototype.clear=function(){this.__data__=[]},C.prototype.delete=function(t){var e=this.__data__,r=k(e,t);return!(r<0||(r==e.length-1?e.pop():x.call(e,r,1),0))},C.prototype.get=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]},C.prototype.has=function(t){return k(this.__data__,t)>-1},C.prototype.set=function(t,e){var r=this.__data__,n=k(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},A.prototype.clear=function(){this.__data__={hash:new _,map:new(v||C),string:new _}},A.prototype.delete=function(t){return L(this,t).delete(t)},A.prototype.get=function(t){return L(this,t).get(t)},A.prototype.has=function(t){return L(this,t).has(t)},A.prototype.set=function(t,e){return L(this,t).set(t,e),this},j.Cache=A,t.exports=j}).call(this,r(10))},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(1)),a=n(r(3)),i=r(14);e.renderNotePathString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y)+i.line2CurveString({xFrom:t.x,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width,t.y+e)+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height)+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x,t.y+t.height)+i.line2CurveString({xFrom:t.x,yFrom:t.y+t.height,xTo:t.x,yTo:t.y})+o.default.pathPoint2String("L",t.x,t.y)+"z"},e.renderNoteCornerString=function(t,e){return o.default.pathPoint2String("M",t.x+t.width-e,t.y)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+e)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+e})+o.default.pathPoint2String("L",t.x+t.width,t.y+e)},e.abox2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y+t.height/2)+i.line2CurveString({xFrom:t.x,yFrom:t.y+t.height/2,xTo:t.x+e,yTo:t.y})+o.default.pathPoint2String("L",t.x+e,t.y)+i.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height/2})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height/2)+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height/2,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+e,t.y+t.height)+i.line2CurveString({xFrom:t.x+e,yFrom:t.y+t.height,xTo:t.x,yTo:t.y+t.height/2})+"z"},e.rbox2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x,t.y+e)+i.points2CurveString([{controlX:t.x,controlY:t.y,x:t.x+e,y:t.y}])+i.line2CurveString({xFrom:t.x+e,yFrom:t.y,xTo:t.x+t.width-e,yTo:t.y})+o.default.pathPoint2String("L",t.x+t.width-e,t.y)+i.points2CurveString([{controlX:t.x+t.width,controlY:t.y,x:t.x+t.width,y:t.y+e}])+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+e,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+i.points2CurveString([{controlX:t.x+t.width,controlY:t.y+t.height,x:t.x+t.width-e,y:t.y+t.height}])+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x+e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+e,t.y+t.height)+i.points2CurveString([{controlX:t.x,controlY:t.y+t.height,x:t.x,y:t.y+t.height-e}])+i.line2CurveString({xFrom:t.x,yFrom:t.y+t.height-e,xTo:t.x,yTo:t.y+e})+"z"},e.doubleLine2CurveString=function(t,e){const r=e.lineWidth||1,n=r,u=e?e.class:"",c=a.default.getDirection(t),s=a.default.determineEndCorrection(t,u,r),l=a.default.determineStartCorrection(t,u,r);return o.default.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*c.dy)+o.default.pathPoint2String("l",c.signX,c.dy)+o.default.pathPoint2String("M",t.xFrom+l,t.yFrom-n)+i.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom-n,xTo:t.xTo+s,yTo:t.yTo-n})+o.default.pathPoint2String("M",t.xFrom+l,t.yFrom+n)+i.line2CurveString({xFrom:t.xFrom+l,yFrom:t.yFrom+n,xTo:t.xTo+s,yTo:t.yTo+n})+o.default.pathPoint2String("M",t.xTo-c.signX,t.yTo+7.5*r*c.dy)+o.default.pathPoint2String("l",c.signX,c.dy)},e.edgeRemark2CurveString=function(t,e){return o.default.pathPoint2String("M",t.x+t.width,t.y)+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y,xTo:t.x+t.width,yTo:t.y+t.height-e})+o.default.pathPoint2String("L",t.x+t.width,t.y+t.height-e)+i.line2CurveString({xFrom:t.x+t.width,yFrom:t.y+t.height-e,xTo:t.x+t.width-e,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x+t.width-e,t.y+t.height)+i.line2CurveString({xFrom:t.x+t.width-e,yFrom:t.y+t.height,xTo:t.x-1,yTo:t.y+t.height})+o.default.pathPoint2String("L",t.x-1,t.y+t.height)}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=r(34),a=r(14),i=n(r(9)),u=n(r(1)),c=n(r(3));e.default={createSingleLine:function(t,e={}){const r=c.default.getDirection(t);return u.default.createPath(u.default.pathPoint2String("M",t.xFrom,t.yFrom)+u.default.pathPoint2String("L",i.default(t.xFrom+r.signX*Math.sqrt(1/(1+Math.pow(r.dy,2))),2),t.yFrom+r.signY*(Math.abs(r.dy)===1/0?1:i.default(Math.sqrt(Math.pow(r.dy,2)/(1+Math.pow(r.dy,2))),2)))+a.line2CurveString(t),e)},createDoubleLine:function(t,e){return u.default.createPath(o.doubleLine2CurveString(t,e),{class:e.class})},createNote:function(t,e){const r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),a=u.default.createGroup();return a.appendChild(u.default.createPath(o.renderNotePathString(t,n),e)),e.bgColor="transparent",a.appendChild(u.default.createPath(o.renderNoteCornerString(t,n),e)),a},createRect:function(t,e){return u.default.createPath(o.rbox2CurveString(t,0),e)},createABox:function(t,e){return u.default.createPath(o.abox2CurveString(t,3),e)},createRBox:function(t,e){return u.default.createPath(o.rbox2CurveString(t,6),e)},createEdgeRemark:function(t,e){const r=e&&e.lineWidth||1,n=u.default.createGroup(),a=e&&e.foldSize?e.foldSize:7,i=e&&e.color?e.color:"black";e.color="transparent!important";const c=u.default.createPath(u.default.pathPoint2String("M",t.x,t.y+r/2)+u.default.pathPoint2String("L",t.x+t.width,t.y+r/2)+u.default.pathPoint2String("L",t.x+t.width,t.y+t.height-a)+u.default.pathPoint2String("L",t.x+t.width-a,t.y+t.height)+u.default.pathPoint2String("L",t.x,t.y+t.height)+"z",e);e.bgColor="transparent",e.color=i;const s=u.default.createPath(o.edgeRemark2CurveString(t,a),e);return n.appendChild(c),n.appendChild(s),n}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t=>0-function(t){return 360*t/(2*Math.PI)}(Math.atan(t.height/t.width)))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n="http://www.w3.org/2000/svg";let o={};function a(t,e,r){return Boolean(r)&&t.setAttribute(e,r),t}function i(t,e){return Object.keys(e||{}).forEach(r=>{a(t,r,e[r])}),t}e.default={SVGNS:n,XLINKNS:"http://www.w3.org/1999/xlink",init(t){o=t},setAttribute:a,setAttributes:i,setAttributesNS:function(t,e,r){return Object.keys(r||{}).forEach(n=>{!function(t,e,r,n){Boolean(n)&&t.setAttributeNS(e,r,n)}(t,e,n,r[n])}),t},createElement:function(t,e){return i(o.createElementNS(n,t),e)},createTextNode:function(t){return o.createTextNode(t)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(1)),a=n(r(3));e.default={createSingleLine:o.default.createSingleLine,createDoubleLine:function(t,e){const r=e.lineWidth||1,n=r,i=e?e.class:"",u=a.default.getDirection(t),c=a.default.determineEndCorrection(t,i,r),s=a.default.determineStartCorrection(t,i,r),l=(t.xTo-t.xFrom+c-s).toString(),d=(t.yTo-t.yFrom).toString(),f=o.default.pathPoint2String("l",u.signX,u.dy),h=o.default.pathPoint2String("l",l,d);return o.default.createPath(o.default.pathPoint2String("M",t.xFrom,t.yFrom-7.5*r*u.dy)+f+o.default.pathPoint2String("M",t.xFrom+s,t.yFrom-n)+h+o.default.pathPoint2String("M",t.xFrom+s,t.yFrom+n)+h+o.default.pathPoint2String("M",t.xTo-u.signX,t.yTo+7.5*r*u.dy)+f,e)},createNote:function(t,e){const r=e&&e.lineWidth||1,n=Math.max(9,Math.min(4.5*r,t.height/2)),a=n.toString(10);return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y)+o.default.pathPoint2String("l",t.width-n,0)+o.default.pathPoint2String("l",0,a)+o.default.pathPoint2String("l",a,0)+o.default.pathPoint2String("m",-a,-a)+o.default.pathPoint2String("l",a,a)+o.default.pathPoint2String("l",0,t.height-n)+o.default.pathPoint2String("l",-t.width,0)+o.default.pathPoint2String("l",0,-t.height)+"z",e)},createRect:o.default.createRect,createABox:function(t,e){return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y+t.height/2)+o.default.pathPoint2String("l",3,-t.height/2)+o.default.pathPoint2String("l",t.width-6,0)+o.default.pathPoint2String("l",3,t.height/2)+o.default.pathPoint2String("l",-3,t.height/2)+o.default.pathPoint2String("l",-(t.width-6),0)+"z",e)},createRBox:function(t,e){const r=Object.assign({rx:6,ry:6},e);return o.default.createRect(t,r)},createEdgeRemark:function(t,e){const r=e&&e.foldSize?e.foldSize:7,n=Object.assign({class:null,color:null,bgColor:null},e);return o.default.createPath(o.default.pathPoint2String("M",t.x,t.y)+o.default.pathPoint2String("l",t.width,0)+o.default.pathPoint2String("l",0,t.height-r)+o.default.pathPoint2String("l",-r,r)+o.default.pathPoint2String("l",-(t.width-r),0),n)}}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(4)),a=n(r(17)),i=n(r(2)),u=n(r(8)),c=Object.seal({interEntitySpacing:160,height:34,width:100,entityXHWM:0});let s={};function l(t){return s[t]}function d(t,e,r,n){const s=i.default.createGroup(),l={x:e||0,y:r||0,width:c.width,height:c.height},d=a.default.createLabel(Object.assign({kind:"entity"},t),Object.assign({},l,{y:l.y+l.height/2}),n);return s.appendChild(i.default.createRect(function(t,e){const r=Math.min(u.default.getBBox(t).width+4*o.default.LINE_WIDTH,c.interEntitySpacing/3+e.width);return r>=e.width&&(e.x-=(r-e.width)/2,e.width=r),e}(d,l),{class:"entity",color:t.linecolor,bgColor:t.textbgcolor})),s.appendChild(d),s}e.default={init(t){c.interEntitySpacing=160,c.height=34,c.width=100,c.entityXHWM=0,t&&(c.interEntitySpacing=160*t,c.width=100*t),s={}},getX:l,getOAndD:(t,e)=>({from:l(t)<l(e)?l(t):l(e),to:l(e)>l(t)?l(e):l(t)}),getDims:function(){return c},renderEntities:function(t,e,r){const n=i.default.createGroup();return c.entityXHWM=0,c.height=function(t,e){let r=t[0],n=2;return t.forEach(t=>{const i=function(t,e,r){return a.default.splitLabel(t,"entity",c.width,e,r).length}(t.label,o.default.FONT_SIZE,e);i>n&&(n=i,r=t)}),n>2?Math.max(c.height,u.default.getBBox(d(r,0,0,e)).height):c.height}(t,r)+2*o.default.LINE_WIDTH,t.forEach(t=>{n.appendChild(d(t,c.entityXHWM,e,r)),function(t,e){s[t.name]=e+c.width/2}(t,c.entityXHWM),c.entityXHWM+=c.interEntitySpacing}),n}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=(t=>Object.assign({wordwraparcs:!1,wordwrapentities:!0,wordwrapboxes:!0},t||{}))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(5)),a=n(r(0)),i=n(r(21)),u=n(r(4)),c=n(r(39)),s=n(r(13)),l=n(r(15)),d=n(r(32)),f=n(r(17)),h=n(r(30)),p=n(r(29)),g=n(r(28)),b=n(r(2)),m=n(r(8)),y=3,x=38,v=0,w=Object.seal({arcRowHeight:x,arcGradient:v,arcEndX:0,wordWrapArcs:!1,mirrorEntitiesOnBottom:!1,regularArcTextVerticalAlignment:"middle",maxDepth:0,document:{},layer:{lifeline:{},sequence:{},notes:{},inline:{},watermark:{}}});let _=[];function C(t,e,r){w.layer.sequence.appendChild(c.default.renderEntities(t,e,r)),w.arcEndX=c.default.getDims().entityXHWM-c.default.getDims().interEntitySpacing+c.default.getDims().width}function A(t,e,r,n,a){let i=b.default.createGroup();return t.from&&t.to&&("*"===t.to?(!function(t,e,r,n,o){let a=0;const i=t.label,u=c.default.getX(t.from);t.label="",e.forEach(e=>{let i={};e.name!==t.from&&(a=c.default.getX(e.name),i=j(t,u,a,n,o),r.push({layer:w.layer.sequence,element:i}))}),t.label=i}(t,e,r,n,a),i=f.default.createLabel(t,{x:0,y:g.default.get(n).y,width:w.arcEndX},Object.assign({alignAround:!0,ownBackground:!0},o.default(a))),r.push({title:t.title,layer:w.layer.sequence,element:i})):(i=j(t,c.default.getX(t.from),c.default.getX(t.to),n,a),r.push({title:t.title,layer:w.layer.sequence,element:i}))),i}function k(t,e,r){let n=0;return t.forEach(t=>{let i;switch(a.default(t.kind)){case"empty":i=E(t,0);break;case"box":i=M(c.default.getOAndD(t.from,t.to),t,0,r);break;case"inline_expression":i=S(t,0);break;default:const n=o.default(t);n.arcskip=0,i=A(n,e,[],0,r)}n=Math.max(n,m.default.getBBox(i).height+2*u.default.LINE_WIDTH)}),n}function S(t,e){const r=c.default.getOAndD(t.from,t.to),n=e>0,o=2*w.maxDepth*u.default.LINE_WIDTH,a=r.to-r.from+(c.default.getDims().interEntitySpacing-2*u.default.LINE_WIDTH)-7-u.default.LINE_WIDTH,i=r.from-(c.default.getDims().interEntitySpacing-3*u.default.LINE_WIDTH-o)/2-2*(w.maxDepth-t.depth)*u.default.LINE_WIDTH,s=b.default.createGroup();n||(t.label=t.kind+(t.label?": "+t.label:""));const l=f.default.createLabel(t,{x:i+u.default.LINE_WIDTH-a/2,y:e+w.arcRowHeight/4,width:a},{alignLeft:!0,ownBackground:!1,wordwraparcs:w.wordWrapArcs}),d=m.default.getBBox(l),h=Math.max(d.height+2*u.default.LINE_WIDTH,w.arcRowHeight/2-2*u.default.LINE_WIDTH),p=Math.min(d.width+2*u.default.LINE_WIDTH,a),g=b.default.createEdgeRemark({width:p-u.default.LINE_WIDTH+7,height:h,x:i,y:e},{class:"box inline_expression_label",color:t.linecolor,bgColor:t.textbgcolor,foldSize:7});return s.appendChild(g),s.appendChild(l),s}function L(t,e,r,n){return(!r||r<w.arcRowHeight)&&(r=w.arcRowHeight),t.map(t=>{const o=b.default.createLine({xFrom:c.default.getX(t.name),yFrom:0-r/2+(n||0),xTo:c.default.getX(t.name),yTo:r/2+(n||0)},{class:e});return t.linecolor&&o.setAttribute("style",`stroke:${t.linecolor};`),o})}function E(t,e){return"---"===t.kind?function(t,e,r){let n=0,o=w.arcEndX,a="comment";const i=b.default.createGroup();if(t.from&&t.to){const r=1*w.maxDepth*u.default.LINE_WIDTH,i=2*(w.maxDepth-t.depth)*u.default.LINE_WIDTH;n=e.from-(c.default.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2-(i-r),o=e.to+(c.default.getDims().interEntitySpacing+2*u.default.LINE_WIDTH)/2+(i-r),a="inline_expression_divider"}const s=b.default.createLine({xFrom:n,yFrom:r,xTo:o,yTo:r},{class:a});i.appendChild(s),i.appendChild(T(t,e,r)),t.linecolor&&s.setAttribute("style",`stroke:${t.linecolor};`);return i}(t,c.default.getOAndD(t.from,t.to),e):T(t,c.default.getOAndD(t.from,t.to),e)}function j(t,e,r,n,a){const i=b.default.createGroup();let h="arc ";h+=function(t){return"<:>"===t?"bidi ":"::"===t?"nodi ":""}(t.kind),h+=`${l.default.getAggregateClass(t.kind)} ${l.default.getClass(t.kind)}`;const m=[":>","::","<:>"].includes(t.kind),y=function(t,e,r){let n=g.default.get(t).y+r;if(Boolean(e)){const r=Math.floor(e),o=e-r,a=g.default.get(t).realRowNumber;n=g.default.getByRealRowNumber(a+r).y+o*(g.default.getByRealRowNumber(a+r+1).y-g.default.getByRealRowNumber(a+r).y)}return n}(n,t.arcskip,w.arcGradient);if(e===(r=p.default.determineArcXTo(t.kind,e,r))){i.appendChild(function(t,e,r,n,o,a){const i=w.arcRowHeight/5*2,f=c.default.getDims().interEntitySpacing/2;let h={};const p=`arc ${l.default.getAggregateClass(t)} ${l.default.getClass(t)}`;if(n){h=b.default.createGroup();const n=b.default.createUTurn({x:e,y:a,width:f-2*u.default.LINE_WIDTH,height:i},a+r+i-2*u.default.LINE_WIDTH,{class:p,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH}),c=b.default.createUTurn({x:e,y:a,width:f,height:i},a+r+i-u.default.LINE_WIDTH,{lineWidth:u.default.LINE_WIDTH}),l=b.default.createUTurn({x:e,y:a,width:f,height:i},a+r+i,{class:p,dontHitHome:"::"!==t,lineWidth:u.default.LINE_WIDTH});Boolean(o)&&n.setAttribute("style",`stroke:${o}`),d.default.getAttributes(s.default.get(),t,o,e,e).forEach(t=>{c.setAttribute(t.name,t.value)}),c.setAttribute("style","stroke:transparent;"),Boolean(o)&&l.setAttribute("style",`stroke:${o}`),h.appendChild(n),h.appendChild(l),h.appendChild(c),h.setAttribute("class",p)}else h=b.default.createUTurn({x:e,y:a,width:f,height:i},a+r+i,{class:p,dontHitHome:"-x"===t,lineWidth:u.default.LINE_WIDTH}),d.default.getAttributes(s.default.get(),t,o,e,e).forEach(t=>{h.setAttribute(t.name,t.value)});return h}(t.kind,e,y-g.default.get(n).y-w.arcGradient,m,t.linecolor,g.default.get(n).y));const r=2*c.default.getDims().interEntitySpacing/3;i.appendChild(f.default.createLabel(t,{x:e+1.5*u.default.LINE_WIDTH-r/2,y:g.default.get(n).y-w.arcRowHeight/5-u.default.LINE_WIDTH/2,width:r},Object.assign({alignLeft:!0,alignAbove:!0,ownBackground:!0},o.default(a))))}else{const u=b.default.createLine({xFrom:e,yFrom:g.default.get(n).y,xTo:r,yTo:y},{class:h,doubleLine:m});d.default.getAttributes(s.default.get(),t.kind,t.linecolor,e,r).forEach(t=>{u.setAttribute(t.name,t.value)}),i.appendChild(u),i.appendChild(f.default.createLabel(t,{x:e,y:g.default.get(n).y+(y-g.default.get(n).y)/2,width:r-e},Object.assign({alignAround:!0,alignAbove:"above"===w.regularArcTextVerticalAlignment,ownBackground:!0},o.default(a))))}return i}function T(t,e,r){let n=0,o=w.arcEndX;return t.from&&t.to&&(n=e.from,o=e.to-e.from),f.default.createLabel(t,{x:n,y:r,width:o},{ownBackground:!0,wordwraparcs:w.wordWrapArcs})}function M(t,e,r,n){const o=2*w.maxDepth*u.default.LINE_WIDTH,a=t.to-t.from+c.default.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o,i=t.from-(c.default.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o)/2,s=b.default.createGroup();let l;const d=f.default.createLabel(e,{x:i,y:r,width:a},n),h=m.default.getBBox(d),p=Math.max(h.height+2*u.default.LINE_WIDTH,w.arcRowHeight-2*u.default.LINE_WIDTH),g={width:a,height:p,x:i,y:r-p/2};switch(e.kind){case"rbox":l=b.default.createRBox(g,{class:"box rbox",color:e.linecolor,bgColor:e.textbgcolor});break;case"abox":l=b.default.createABox(g,{class:"box abox",color:e.linecolor,bgColor:e.textbgcolor});break;case"note":l=b.default.createNote(g,{class:"box note",color:e.linecolor,bgColor:e.textbgcolor,lineWidth:u.default.LINE_WIDTH});break;default:l=b.default.createRect(g,{class:"box",color:e.linecolor,bgColor:e.textbgcolor})}return s.appendChild(l),s.appendChild(d),s}e.default={clean(t,e){w.document=h.default.init(e),m.default.init(w.document),m.default.removeRenderedSVGFromElement(t)},render:function(t,e,r,n){const o=Object.freeze(i.default.flatten(t)),l=function(t,e){return t.document.getElementById(e)||t.document.body}(e,r);return s.default.setPrefix(r),function(t,e,r,n){w.document=h.default.bootstrap(e,r,s.default.get(),d.default.getMarkerDefs(s.default.get(),t),n),w.mirrorEntitiesOnBottom=n.mirrorEntitiesOnBottom,w.regularArcTextVerticalAlignment=n.regularArcTextVerticalAlignment,m.default.init(w.document),w.layer=function(t){return{lifeline:t.getElementById(s.default.get("_lifelines")),sequence:t.getElementById(s.default.get("_sequence")),notes:t.getElementById(s.default.get("_notes")),inline:t.getElementById(s.default.get("_arcspans")),watermark:t.getElementById(s.default.get("_watermark"))}}(w.document),w.maxDepth=t.depth,function(t,e){c.default.init(e&&e.hscale),function(t,e){t.arcRowHeight=x,t.arcGradient=v,t.wordWrapArcs=!1,e&&(e.arcgradient&&(t.arcRowHeight=parseInt(e.arcgradient,10)+x,t.arcGradient=parseInt(e.arcgradient,10)+v),t.wordWrapArcs=Boolean(e.wordwraparcs))}(t,e)}(w,t.options)}(o,e,l,n||{}),function(t){C(t.entities,0,t.options),g.default.clear(c.default.getDims().height,w.arcRowHeight),function(t,e,r){_=[],L(e,"arcrow",null,g.default.get(-1).y).forEach(t=>{w.layer.lifeline.appendChild(t)}),t&&(function(t,e,r){let n=0;t.forEach((t,o)=>{t.every(function(t){return t.isVirtual})?g.default.set(o,Math.max(g.default.get(o).height,k(t,e,r))):(g.default.set(o,Math.max(g.default.get(o).height,k(t,e,r)),n),n++)})}(t,e,r),t.forEach((t,n)=>{!function(t,e,r,n){let o="arcrow";const i=[];t.forEach(t=>{let u={};switch(a.default(t.kind)){case"empty":u=E(t,g.default.get(e).y),"..."===t.kind&&(o="arcrowomit"),i.push({layer:w.layer.sequence,element:u});break;case"box":u=M(c.default.getOAndD(t.from,t.to),t,g.default.get(e).y,n),i.push({title:t.title,layer:w.layer.notes,element:u});break;case"inline_expression":u=S(t,g.default.get(e).y),i.push({layer:w.layer.notes,element:u}),_.push({arc:t,rownum:e});break;default:u=A(t,r,i,e,n)}}),L(r,o,g.default.get(e).height,g.default.get(e).y).forEach(t=>{w.layer.lifeline.appendChild(t)}),i.forEach(t=>{t.element&&(t.title&&t.element.appendChild(b.default.createTitle(t.title)),t.layer.appendChild(t.element))})}(t,n,e,r)}),function(t){t.forEach(t=>{w.layer.inline.appendChild(function(t,e){const r=g.default.get(t.rownum).y,n=g.default.get(t.rownum+t.arc.numberofrows+1).y-r;return t.arc.label="",function(t,e,r,n){const o=2*w.maxDepth*u.default.LINE_WIDTH,a=t.to-t.from+c.default.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o,i=t.from-(c.default.getDims().interEntitySpacing-2*u.default.LINE_WIDTH-o)/2,s=2*(w.maxDepth-e.depth)*u.default.LINE_WIDTH;return b.default.createRect({width:a+2*s,height:r||w.arcRowHeight-2*u.default.LINE_WIDTH,x:i-s,y:n},{class:`box inline_expression ${e.kind}`,color:e.linecolor,bgColor:e.textbgcolor})}(c.default.getOAndD(t.arc.from,t.arc.to),t.arc,n,e)}(t,g.default.get(t.rownum).y))})}(_))}(t.arcs,t.entities,t.options),w.mirrorEntitiesOnBottom&&function(t,e){const r=g.default.getLast().y+(g.default.getLast().height+w.arcRowHeight)/2;L(t,"arcrow",null,r).forEach(t=>{w.layer.lifeline.appendChild(t)}),C(t,r+w.arcRowHeight/2,e)}(t.entities,t.options)}(o),function(t){let e=function(t){const e=p.default.determineDepthCorrection(t.depth,u.default.LINE_WIDTH),r=g.default.getLast(),n={width:t.entities.length*c.default.getDims().interEntitySpacing+e,height:Boolean(w.mirrorEntitiesOnBottom)?2*c.default.getDims().height+r.y+r.height+2*y:r.y+r.height/2+2*y,horizontaltransform:(c.default.getDims().interEntitySpacing+e-c.default.getDims().width)/2,autoscale:!!t.options&&!!t.options.width&&"auto"===t.options.width,verticaltransform:y,scale:1};return n.x=0-n.horizontaltransform,n.y=0-n.verticaltransform,n}(t);(function(t){w.document.getElementById(s.default.get("_background")).appendChild(b.default.createRect(t,{class:"bglayer"}))})(e),function(t){const e=w.document.getElementById(s.default.get());w.document.getElementById(s.default.get("_body")).setAttribute("transform",`translate(${t.horizontaltransform},${t.verticaltransform}) `+`scale(${t.scale},${t.scale})`),t.autoscale&&!0===t.autoscale?b.default.updateSVG(e,{width:"100%",height:"100%",viewBox:`0 0 ${t.width.toString()} ${t.height.toString()}`}):b.default.updateSVG(e,{width:t.width.toString(),height:t.height.toString(),viewBox:`0 0 ${t.width.toString()} ${t.height.toString()}`})}(e=function(t,e){return t&&(t.watermark&&function(t,e){w.layer.watermark.appendChild(b.default.createDiagonalText(t,e,"watermark"))}(t.watermark,e),t.width&&"auto"!==t.width&&(e=p.default.scaleCanvasToWidth(t.width,e))),e}(t.options,e))}(o),m.default.webkitNamespaceBugWorkaround(l.innerHTML)}}},function(t,e,r){var n,o,a;o=[r(11),r(6)],void 0===(a="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var a,i={},u={program:ao},c=ao,s="{",l=Qn("{",!1),d="}",f=Qn("}",!1),h=function(r,n){return n.entities=n.entities||[],e.default.checkForUndeclaredEntities(n.entities,n.arcs),n=t({meta:e.default.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},p="msc",g=Qn("msc",!0),b="xu",m=Qn("xu",!0),y=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},x=",",v=Qn(",",!1),w=function(t){return t},_=";",C=Qn(";",!1),A=function(e){return e[0].concat(e[1]).reduce(t,{})},k=to("option"),S="hscale",L=Qn("hscale",!0),E="arcgradient",j=Qn("arcgradient",!0),T="=",M=Qn("=",!1),O=function(t,r){return e.default.nameValue2Option(t,r)},P="width",F=Qn("width",!0),I="wordwraparcs",D=Qn("wordwraparcs",!0),$=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},B="wordwrapentities",N=Qn("wordwrapentities",!0),H="wordwrapboxes",W=Qn("wordwrapboxes",!0),R="watermark",z=Qn("watermark",!0),G=function(t){return t},V=function(t){return t[0].concat(t[1])},X=to("entity"),q="[",U=Qn("[",!1),K="]",Z=Qn("]",!1),Y=function(t,e){return e},Q=function(e,r){return t({name:e},r)},J=function(n,o){return e.default.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:ro(qn,Xn),function(t,e){return new r(t,null,null,e)}(t,e)}("MscGen keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},tt=function(t){return t},et=function(t){return t[0].concat(t[1])},rt=function(t,e){return e},nt=function(e,r){return t(e,r)},ot=function(t){return{kind:t}},at=function(t,e,r){return{kind:e,from:t,to:r}},it="*",ut=Qn("*",!1),ct=function(t,e){return{kind:t,from:"*",to:e}},st=function(t,e){return{kind:e,from:t,to:"*"}},lt=function(t,e,r,n){return n},dt=function(e,r,n,o,a){return t({kind:r,from:e,to:n,arcs:a},o)},ft=to("empty row"),ht="|||",pt=Qn("|||",!1),gt="...",bt=Qn("...",!1),mt=to("---"),yt="---",xt=Qn("---",!1),vt=function(t){return t.toLowerCase()},wt=to("bi-directional arrow"),_t="--",Ct=Qn("--",!1),At="<->",kt=Qn("<->",!1),St="==",Lt=Qn("==",!1),Et="<<=>>",jt=Qn("<<=>>",!1),Tt="<=>",Mt=Qn("<=>",!1),Ot="..",Pt=Qn("..",!1),Ft="<<>>",It=Qn("<<>>",!1),Dt="::",$t=Qn("::",!1),Bt="<:>",Nt=Qn("<:>",!1),Ht=to("left to right arrow"),Wt="->",Rt=Qn("->",!1),zt="=>>",Gt=Qn("=>>",!1),Vt="=>",Xt=Qn("=>",!1),qt=">>",Ut=Qn(">>",!1),Kt=":>",Zt=Qn(":>",!1),Yt="-x",Qt=Qn("-x",!0),Jt=to("right to left arrow"),te="<-",ee=Qn("<-",!1),re="<<=",ne=Qn("<<=",!1),oe="<=",ae=Qn("<=",!1),ie="<<",ue=Qn("<<",!1),ce="<:",se=Qn("<:",!1),le="x-",de=Qn("x-",!0),fe=to("box"),he="note",pe=Qn("note",!0),ge="abox",be=Qn("abox",!0),me="rbox",ye=Qn("rbox",!0),xe="box",ve=Qn("box",!0),we=to("inline expression"),_e="alt",Ce=Qn("alt",!0),Ae="else",ke=Qn("else",!0),Se="opt",Le=Qn("opt",!0),Ee="break",je=Qn("break",!0),Te="par",Me=Qn("par",!0),Oe="seq",Pe=Qn("seq",!0),Fe="strict",Ie=Qn("strict",!0),De="neg",$e=Qn("neg",!0),Be="critical",Ne=Qn("critical",!0),He="ignore",We=Qn("ignore",!0),Re="consider",ze=Qn("consider",!0),Ge="assert",Ve=Qn("assert",!0),Xe="loop",qe=Qn("loop",!0),Ue="ref",Ke=Qn("ref",!0),Ze="exc",Ye=Qn("exc",!0),Qe=function(t){return t.toLowerCase()},Je=function(e){return e[0].concat(e[1]).reduce(t,{})},tr=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},er=to("attribute name"),rr="label",nr=Qn("label",!0),or="idurl",ar=Qn("idurl",!0),ir="id",ur=Qn("id",!0),cr="url",sr=Qn("url",!0),lr="linecolor",dr=Qn("linecolor",!0),fr="linecolour",hr=Qn("linecolour",!0),pr="textcolor",gr=Qn("textcolor",!0),br="textcolour",mr=Qn("textcolour",!0),yr="textbgcolor",xr=Qn("textbgcolor",!0),vr="textbgcolour",wr=Qn("textbgcolour",!0),_r="arclinecolor",Cr=Qn("arclinecolor",!0),Ar="arclinecolour",kr=Qn("arclinecolour",!0),Sr="arctextcolor",Lr=Qn("arctextcolor",!0),Er="arctextcolour",jr=Qn("arctextcolour",!0),Tr="arctextbgcolor",Mr=Qn("arctextbgcolor",!0),Or="arctextbgcolour",Pr=Qn("arctextbgcolour",!0),Fr="arcskip",Ir=Qn("arcskip",!0),Dr="title",$r=Qn("title",!0),Br=to("double quoted string"),Nr='"',Hr=Qn('"',!1),Wr=function(t){return t.join("")},Rr='\\"',zr=Qn('\\"',!1),Gr={type:"any"},Vr=function(t){return t},Xr=to("identifier"),qr=/^[A-Za-z_0-9]/,Ur=Jn([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),Kr=function(t){return t.join("")},Zr=to("whitespace"),Yr=/^[ \t]/,Qr=Jn([" ","\t"],!1,!1),Jr=to("lineend"),tn=/^[\r\n]/,en=Jn(["\r","\n"],!1,!1),rn="/*",nn=Qn("/*",!1),on="*/",an=Qn("*/",!1),un=function(t,e,r){return t+e.join("")+r},cn="//",sn=Qn("//",!1),ln="#",dn=Qn("#",!1),fn=/^[^\r\n]/,hn=Jn(["\r","\n"],!0,!1),pn=function(t,e){return t+e.join("")},gn=to("comment"),bn=to("number"),mn=function(t){return t},yn=function(t){return t.toString()},xn=function(t){return t.toString()},vn=/^[0-9]/,wn=Jn([["0","9"]],!1,!1),_n=function(t){return parseInt(t.join(""),10)},Cn=".",An=Qn(".",!1),kn=function(t){return parseFloat(t.join(""))},Sn=to("boolean"),Ln=function(t){return t},En=function(t){return t.toString()},jn="true",Tn=Qn("true",!0),Mn="false",On=Qn("false",!0),Pn="on",Fn=Qn("on",!0),In="off",Dn=Qn("off",!0),$n="0",Bn=Qn("0",!1),Nn="1",Hn=Qn("1",!1),Wn=to("size"),Rn=function(t){return t.toString()},zn="auto",Gn=Qn("auto",!0),Vn=function(t){return t.toLowerCase()},Xn=0,qn=0,Un=[{line:1,column:1}],Kn=0,Zn=[],Yn=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');c=u[o.startRule]}function Qn(t,e){return{type:"literal",text:t,ignoreCase:e}}function Jn(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function to(t){return{type:"other",description:t}}function eo(t){var e,r=Un[t];if(r)return r;for(e=t-1;!Un[e];)e--;for(r={line:(r=Un[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return Un[t]=r,r}function ro(t,e){var r=eo(t),n=eo(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function no(t){Xn<Kn||(Xn>Kn&&(Kn=Xn,Zn=[]),Zn.push(t))}function oo(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function ao(){var t,e,r,o,a;return t=Xn,(e=Lo())!==i&&function(){var t;return n.substr(Xn,3).toLowerCase()===p?(t=n.substr(Xn,3),Xn+=3):(t=i,0===Yn&&no(g)),t===i&&(n.substr(Xn,2).toLowerCase()===b?(t=n.substr(Xn,2),Xn+=2):(t=i,0===Yn&&no(m))),t}()!==i&&Lo()!==i?(123===n.charCodeAt(Xn)?(r=s,Xn++):(r=i,0===Yn&&no(l)),r!==i&&Lo()!==i&&(o=function(){var t,e,r,o;return t=Xn,(e=function(){var t,e,r,o,a,u;for(t=Xn,e=Xn,r=[],o=Xn,(a=io())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=w(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);o!==i;)r.push(o),o=Xn,(a=io())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=w(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);return r!==i?(o=Xn,(a=io())!==i?(59===n.charCodeAt(Xn)?(u=_,Xn++):(u=i,0===Yn&&no(C)),u!==i?(qn=o,a=w(a),o=a):(Xn=o,o=i)):(Xn=o,o=i),o!==i?e=r=[r,o]:(Xn=e,e=i)):(Xn=e,e=i),e!==i&&(qn=t,e=A(e)),t=e}())===i&&(e=null),e!==i?((r=function(){var t,e,r,o,a,u;for(t=Xn,e=Xn,r=[],o=Xn,(a=uo())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=G(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);o!==i;)r.push(o),o=Xn,(a=uo())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=G(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);return r!==i?(o=Xn,(a=uo())!==i?(59===n.charCodeAt(Xn)?(u=_,Xn++):(u=i,0===Yn&&no(C)),u!==i?(qn=o,a=G(a),o=a):(Xn=o,o=i)):(Xn=o,o=i),o!==i?e=r=[r,o]:(Xn=e,e=i)):(Xn=e,e=i),e!==i&&(qn=t,e=V(e)),t=e}())===i&&(r=null),r!==i?((o=co())===i&&(o=null),o!==i?(qn=t,e=y(e,r,o),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t}())!==i&&Lo()!==i?(125===n.charCodeAt(Xn)?(a=d,Xn++):(a=i,0===Yn&&no(f)),a!==i&&Lo()!==i?(qn=t,e=h(e,o),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t}function io(){var t,e,r,o,a;return Yn++,t=Xn,(e=Lo())!==i?(n.substr(Xn,6).toLowerCase()===S?(r=n.substr(Xn,6),Xn+=6):(r=i,0===Yn&&no(L)),r===i&&(n.substr(Xn,11).toLowerCase()===E?(r=n.substr(Xn,11),Xn+=11):(r=i,0===Yn&&no(j))),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=function(){var t,e;return Yn++,t=Xn,(e=function(){var t,e,r,o;return t=Xn,34===n.charCodeAt(Xn)?(e=Nr,Xn++):(e=i,0===Yn&&no(Hr)),e!==i&&(r=Eo())!==i?(34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),o!==i?(qn=t,e=xn(r),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}())!==i&&(qn=t,e=mn(e)),(t=e)===i&&(t=Xn,(e=Eo())!==i&&(qn=t,e=yn(e)),t=e),Yn--,t===i&&(e=i,0===Yn&&no(bn)),t}())!==i&&Lo()!==i?(qn=t,e=O(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(n.substr(Xn,5).toLowerCase()===P?(r=n.substr(Xn,5),Xn+=5):(r=i,0===Yn&&no(F)),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=function(){var t;return Yn++,(t=function(){var t,e,r,o;return t=Xn,34===n.charCodeAt(Xn)?(e=Nr,Xn++):(e=i,0===Yn&&no(Hr)),e!==i&&(r=Oo())!==i?(34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),o!==i?(qn=t,e=mn(r),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}())===i&&(t=Oo()),Yn--,t===i&&0===Yn&&no(Wn),t}())!==i&&Lo()!==i?(qn=t,e=O(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(n.substr(Xn,12).toLowerCase()===I?(r=n.substr(Xn,12),Xn+=12):(r=i,0===Yn&&no(D)),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=To())!==i&&Lo()!==i?(qn=t,e=$(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(n.substr(Xn,16).toLowerCase()===B?(r=n.substr(Xn,16),Xn+=16):(r=i,0===Yn&&no(N)),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=To())!==i&&Lo()!==i?(qn=t,e=$(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(n.substr(Xn,13).toLowerCase()===H?(r=n.substr(Xn,13),Xn+=13):(r=i,0===Yn&&no(W)),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=To())!==i&&Lo()!==i?(qn=t,e=$(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(n.substr(Xn,9).toLowerCase()===R?(r=n.substr(Xn,9),Xn+=9):(r=i,0===Yn&&no(z)),r!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=mo())!==i&&Lo()!==i?(qn=t,e=O(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i)))))),Yn--,t===i&&(e=i,0===Yn&&no(k)),t}function uo(){var t,e,r,o,a,u,c;return Yn++,t=Xn,(e=Lo())!==i&&(r=mo())!==i&&Lo()!==i?(o=Xn,91===n.charCodeAt(Xn)?(a=q,Xn++):(a=i,0===Yn&&no(U)),a!==i&&(u=go())!==i?(93===n.charCodeAt(Xn)?(c=K,Xn++):(c=i,0===Yn&&no(Z)),c!==i?(qn=o,a=Y(r,u),o=a):(Xn=o,o=i)):(Xn=o,o=i),o===i&&(o=null),o!==i&&(a=Lo())!==i?(qn=t,e=Q(r,o),t=e):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i&&(r=xo())!==i&&Lo()!==i?(o=Xn,91===n.charCodeAt(Xn)?(a=q,Xn++):(a=i,0===Yn&&no(U)),a!==i&&(u=go())!==i?(93===n.charCodeAt(Xn)?(c=K,Xn++):(c=i,0===Yn&&no(Z)),c!==i?(qn=o,a=Y(r,u),o=a):(Xn=o,o=i)):(Xn=o,o=i),o===i&&(o=null),o!==i&&(a=Lo())!==i?(qn=t,e=J(r,o),t=e):(Xn=t,t=i)):(Xn=t,t=i)),Yn--,t===i&&(e=i,0===Yn&&no(X)),t}function co(){var t,e,r,o;if(t=[],e=Xn,(r=so())!==i&&Lo()!==i?(59===n.charCodeAt(Xn)?(o=_,Xn++):(o=i,0===Yn&&no(C)),o!==i?(qn=e,r=tt(r),e=r):(Xn=e,e=i)):(Xn=e,e=i),e!==i)for(;e!==i;)t.push(e),e=Xn,(r=so())!==i&&Lo()!==i?(59===n.charCodeAt(Xn)?(o=_,Xn++):(o=i,0===Yn&&no(C)),o!==i?(qn=e,r=tt(r),e=r):(Xn=e,e=i)):(Xn=e,e=i);else t=i;return t}function so(){var t,e,r,o,a,u;for(t=Xn,e=Xn,r=[],o=Xn,(a=lo())!==i&&Lo()!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=tt(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);o!==i;)r.push(o),o=Xn,(a=lo())!==i&&Lo()!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=tt(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);return r!==i?(o=Xn,(a=lo())!==i&&(qn=o,a=tt(a)),(o=a)!==i?e=r=[r,o]:(Xn=e,e=i)):(Xn=e,e=i),e!==i&&(qn=t,e=et(e)),t=e}function lo(){var t;return(t=function(){var t,e,r,o,a,u;return t=Xn,e=Xn,(r=function(){var t,e,r;return t=Xn,(e=Lo())!==i&&(r=function(){var t;return Yn++,n.substr(Xn,3)===ht?(t=ht,Xn+=3):(t=i,0===Yn&&no(pt)),t===i&&(n.substr(Xn,3)===gt?(t=gt,Xn+=3):(t=i,0===Yn&&no(bt))),Yn--,t===i&&0===Yn&&no(ft),t}())!==i&&Lo()!==i?(qn=t,e=ot(r),t=e):(Xn=t,t=i),t}())!==i&&(qn=e,r=tt(r)),(e=r)===i&&(e=Xn,(r=function(){var t,e,r,o,a;return t=Xn,(e=Lo())!==i&&(r=yo())!==i&&Lo()!==i&&(o=function(){var t,e;return t=Xn,(e=fo())===i&&(e=ho())===i&&(e=po())===i&&(e=function(){var t;return Yn++,n.substr(Xn,4).toLowerCase()===he?(t=n.substr(Xn,4),Xn+=4):(t=i,0===Yn&&no(pe)),t===i&&(n.substr(Xn,4).toLowerCase()===ge?(t=n.substr(Xn,4),Xn+=4):(t=i,0===Yn&&no(be)),t===i&&(n.substr(Xn,4).toLowerCase()===me?(t=n.substr(Xn,4),Xn+=4):(t=i,0===Yn&&no(ye)),t===i&&(n.substr(Xn,3).toLowerCase()===xe?(t=n.substr(Xn,3),Xn+=3):(t=i,0===Yn&&no(ve))))),Yn--,t===i&&0===Yn&&no(fe),t}()),e!==i&&(qn=t,e=vt(e)),t=e}())!==i&&Lo()!==i&&(a=yo())!==i&&Lo()!==i?(qn=t,e=at(r,o,a),t=e):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i?(42===n.charCodeAt(Xn)?(r=it,Xn++):(r=i,0===Yn&&no(ut)),r!==i&&Lo()!==i&&(o=po())!==i&&Lo()!==i&&(a=yo())!==i&&Lo()!==i?(qn=t,e=ct(o,a),t=e):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i&&(r=yo())!==i&&Lo()!==i&&(o=ho())!==i&&Lo()!==i?(42===n.charCodeAt(Xn)?(a=it,Xn++):(a=i,0===Yn&&no(ut)),a!==i&&Lo()!==i?(qn=t,e=st(r,o),t=e):(Xn=t,t=i)):(Xn=t,t=i),t===i&&(t=Xn,(e=Lo())!==i&&(r=yo())!==i&&Lo()!==i&&(o=fo())!==i&&Lo()!==i?(42===n.charCodeAt(Xn)?(a=it,Xn++):(a=i,0===Yn&&no(ut)),a!==i&&Lo()!==i?(qn=t,e=st(r,o),t=e):(Xn=t,t=i)):(Xn=t,t=i)))),t}())!==i&&(qn=e,r=tt(r)),(e=r)===i&&(e=Xn,(r=function(){var t,e,r;return t=Xn,(e=Lo())!==i&&(r=function(){var t;return Yn++,n.substr(Xn,3)===yt?(t=yt,Xn+=3):(t=i,0===Yn&&no(xt)),Yn--,t===i&&0===Yn&&no(mt),t}())!==i&&Lo()!==i?(qn=t,e=ot(r),t=e):(Xn=t,t=i),t}())!==i&&(qn=e,r=tt(r)),e=r)),e!==i?(r=Xn,91===n.charCodeAt(Xn)?(o=q,Xn++):(o=i,0===Yn&&no(U)),o!==i&&(a=go())!==i?(93===n.charCodeAt(Xn)?(u=K,Xn++):(u=i,0===Yn&&no(Z)),u!==i?(qn=r,o=rt(e,a),r=o):(Xn=r,r=i)):(Xn=r,r=i),r===i&&(r=null),r!==i?(qn=t,e=nt(e,r),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}())===i&&(t=function(){var t,e,r,o,a,u,c,h,p,g,b;return t=Xn,(e=Lo())!==i&&(r=yo())!==i&&Lo()!==i&&(o=function(){var t,e;return Yn++,t=Xn,n.substr(Xn,3).toLowerCase()===_e?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Ce)),e===i&&(n.substr(Xn,4).toLowerCase()===Ae?(e=n.substr(Xn,4),Xn+=4):(e=i,0===Yn&&no(ke)),e===i&&(n.substr(Xn,3).toLowerCase()===Se?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Le)),e===i&&(n.substr(Xn,5).toLowerCase()===Ee?(e=n.substr(Xn,5),Xn+=5):(e=i,0===Yn&&no(je)),e===i&&(n.substr(Xn,3).toLowerCase()===Te?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Me)),e===i&&(n.substr(Xn,3).toLowerCase()===Oe?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Pe)),e===i&&(n.substr(Xn,6).toLowerCase()===Fe?(e=n.substr(Xn,6),Xn+=6):(e=i,0===Yn&&no(Ie)),e===i&&(n.substr(Xn,3).toLowerCase()===De?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no($e)),e===i&&(n.substr(Xn,8).toLowerCase()===Be?(e=n.substr(Xn,8),Xn+=8):(e=i,0===Yn&&no(Ne)),e===i&&(n.substr(Xn,6).toLowerCase()===He?(e=n.substr(Xn,6),Xn+=6):(e=i,0===Yn&&no(We)),e===i&&(n.substr(Xn,8).toLowerCase()===Re?(e=n.substr(Xn,8),Xn+=8):(e=i,0===Yn&&no(ze)),e===i&&(n.substr(Xn,6).toLowerCase()===Ge?(e=n.substr(Xn,6),Xn+=6):(e=i,0===Yn&&no(Ve)),e===i&&(n.substr(Xn,4).toLowerCase()===Xe?(e=n.substr(Xn,4),Xn+=4):(e=i,0===Yn&&no(qe)),e===i&&(n.substr(Xn,3).toLowerCase()===Ue?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Ke)),e===i&&(n.substr(Xn,3).toLowerCase()===Ze?(e=n.substr(Xn,3),Xn+=3):(e=i,0===Yn&&no(Ye)))))))))))))))),e!==i&&(qn=t,e=Qe(e)),Yn--,(t=e)===i&&(e=i,0===Yn&&no(we)),t}())!==i&&Lo()!==i&&(a=yo())!==i&&Lo()!==i?(u=Xn,91===n.charCodeAt(Xn)?(c=q,Xn++):(c=i,0===Yn&&no(U)),c!==i&&(h=go())!==i?(93===n.charCodeAt(Xn)?(p=K,Xn++):(p=i,0===Yn&&no(Z)),p!==i?(qn=u,c=lt(r,o,a,h),u=c):(Xn=u,u=i)):(Xn=u,u=i),u===i&&(u=null),u!==i&&(c=Lo())!==i?(123===n.charCodeAt(Xn)?(h=s,Xn++):(h=i,0===Yn&&no(l)),h!==i&&(p=Lo())!==i?((g=co())===i&&(g=null),g!==i&&Lo()!==i?(125===n.charCodeAt(Xn)?(b=d,Xn++):(b=i,0===Yn&&no(f)),b!==i&&Lo()!==i?(qn=t,e=dt(r,o,a,u,g),t=e):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i)):(Xn=t,t=i),t}()),t}function fo(){var t;return Yn++,n.substr(Xn,2)===_t?(t=_t,Xn+=2):(t=i,0===Yn&&no(Ct)),t===i&&(n.substr(Xn,3)===At?(t=At,Xn+=3):(t=i,0===Yn&&no(kt)),t===i&&(n.substr(Xn,2)===St?(t=St,Xn+=2):(t=i,0===Yn&&no(Lt)),t===i&&(n.substr(Xn,5)===Et?(t=Et,Xn+=5):(t=i,0===Yn&&no(jt)),t===i&&(n.substr(Xn,3)===Tt?(t=Tt,Xn+=3):(t=i,0===Yn&&no(Mt)),t===i&&(n.substr(Xn,2)===Ot?(t=Ot,Xn+=2):(t=i,0===Yn&&no(Pt)),t===i&&(n.substr(Xn,4)===Ft?(t=Ft,Xn+=4):(t=i,0===Yn&&no(It)),t===i&&(n.substr(Xn,2)===Dt?(t=Dt,Xn+=2):(t=i,0===Yn&&no($t)),t===i&&(n.substr(Xn,3)===Bt?(t=Bt,Xn+=3):(t=i,0===Yn&&no(Nt)))))))))),Yn--,t===i&&0===Yn&&no(wt),t}function ho(){var t;return Yn++,n.substr(Xn,2)===Wt?(t=Wt,Xn+=2):(t=i,0===Yn&&no(Rt)),t===i&&(n.substr(Xn,3)===zt?(t=zt,Xn+=3):(t=i,0===Yn&&no(Gt)),t===i&&(n.substr(Xn,2)===Vt?(t=Vt,Xn+=2):(t=i,0===Yn&&no(Xt)),t===i&&(n.substr(Xn,2)===qt?(t=qt,Xn+=2):(t=i,0===Yn&&no(Ut)),t===i&&(n.substr(Xn,2)===Kt?(t=Kt,Xn+=2):(t=i,0===Yn&&no(Zt)),t===i&&(n.substr(Xn,2).toLowerCase()===Yt?(t=n.substr(Xn,2),Xn+=2):(t=i,0===Yn&&no(Qt))))))),Yn--,t===i&&0===Yn&&no(Ht),t}function po(){var t;return Yn++,n.substr(Xn,2)===te?(t=te,Xn+=2):(t=i,0===Yn&&no(ee)),t===i&&(n.substr(Xn,3)===re?(t=re,Xn+=3):(t=i,0===Yn&&no(ne)),t===i&&(n.substr(Xn,2)===oe?(t=oe,Xn+=2):(t=i,0===Yn&&no(ae)),t===i&&(n.substr(Xn,2)===ie?(t=ie,Xn+=2):(t=i,0===Yn&&no(ue)),t===i&&(n.substr(Xn,2)===ce?(t=ce,Xn+=2):(t=i,0===Yn&&no(se)),t===i&&(n.substr(Xn,2).toLowerCase()===le?(t=n.substr(Xn,2),Xn+=2):(t=i,0===Yn&&no(de))))))),Yn--,t===i&&0===Yn&&no(Jt),t}function go(){var t,e,r,o,a,u;for(t=Xn,e=Xn,r=[],o=Xn,(a=bo())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=tt(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);o!==i;)r.push(o),o=Xn,(a=bo())!==i?(44===n.charCodeAt(Xn)?(u=x,Xn++):(u=i,0===Yn&&no(v)),u!==i?(qn=o,a=tt(a),o=a):(Xn=o,o=i)):(Xn=o,o=i);return r!==i?(o=Xn,(a=bo())!==i&&(qn=o,a=tt(a)),(o=a)!==i?e=r=[r,o]:(Xn=e,e=i)):(Xn=e,e=i),e!==i&&(qn=t,e=Je(e)),t=e}function bo(){var t,e,r,o,a;return t=Xn,(e=Lo())!==i&&(r=function(){var t;return Yn++,n.substr(Xn,5).toLowerCase()===rr?(t=n.substr(Xn,5),Xn+=5):(t=i,0===Yn&&no(nr)),t===i&&(n.substr(Xn,5).toLowerCase()===or?(t=n.substr(Xn,5),Xn+=5):(t=i,0===Yn&&no(ar)),t===i&&(n.substr(Xn,2).toLowerCase()===ir?(t=n.substr(Xn,2),Xn+=2):(t=i,0===Yn&&no(ur)),t===i&&(n.substr(Xn,3).toLowerCase()===cr?(t=n.substr(Xn,3),Xn+=3):(t=i,0===Yn&&no(sr)),t===i&&(n.substr(Xn,9).toLowerCase()===lr?(t=n.substr(Xn,9),Xn+=9):(t=i,0===Yn&&no(dr)),t===i&&(n.substr(Xn,10).toLowerCase()===fr?(t=n.substr(Xn,10),Xn+=10):(t=i,0===Yn&&no(hr)),t===i&&(n.substr(Xn,9).toLowerCase()===pr?(t=n.substr(Xn,9),Xn+=9):(t=i,0===Yn&&no(gr)),t===i&&(n.substr(Xn,10).toLowerCase()===br?(t=n.substr(Xn,10),Xn+=10):(t=i,0===Yn&&no(mr)),t===i&&(n.substr(Xn,11).toLowerCase()===yr?(t=n.substr(Xn,11),Xn+=11):(t=i,0===Yn&&no(xr)),t===i&&(n.substr(Xn,12).toLowerCase()===vr?(t=n.substr(Xn,12),Xn+=12):(t=i,0===Yn&&no(wr)),t===i&&(n.substr(Xn,12).toLowerCase()===_r?(t=n.substr(Xn,12),Xn+=12):(t=i,0===Yn&&no(Cr)),t===i&&(n.substr(Xn,13).toLowerCase()===Ar?(t=n.substr(Xn,13),Xn+=13):(t=i,0===Yn&&no(kr)),t===i&&(n.substr(Xn,12).toLowerCase()===Sr?(t=n.substr(Xn,12),Xn+=12):(t=i,0===Yn&&no(Lr)),t===i&&(n.substr(Xn,13).toLowerCase()===Er?(t=n.substr(Xn,13),Xn+=13):(t=i,0===Yn&&no(jr)),t===i&&(n.substr(Xn,14).toLowerCase()===Tr?(t=n.substr(Xn,14),Xn+=14):(t=i,0===Yn&&no(Mr)),t===i&&(n.substr(Xn,15).toLowerCase()===Or?(t=n.substr(Xn,15),Xn+=15):(t=i,0===Yn&&no(Pr)),t===i&&(n.substr(Xn,7).toLowerCase()===Fr?(t=n.substr(Xn,7),Xn+=7):(t=i,0===Yn&&no(Ir)),t===i&&(n.substr(Xn,5).toLowerCase()===Dr?(t=n.substr(Xn,5),Xn+=5):(t=i,0===Yn&&no($r))))))))))))))))))),Yn--,t===i&&0===Yn&&no(er),t}())!==i&&Lo()!==i?(61===n.charCodeAt(Xn)?(o=T,Xn++):(o=i,0===Yn&&no(M)),o!==i&&Lo()!==i&&(a=yo())!==i&&Lo()!==i?(qn=t,e=tr(r,a),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}function mo(){var t,e,r,o;return Yn++,t=Xn,34===n.charCodeAt(Xn)?(e=Nr,Xn++):(e=i,0===Yn&&no(Hr)),e!==i&&(r=function(){var t,e,r,o;for(t=[],e=Xn,r=Xn,Yn++,34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),Yn--,o===i?r=void 0:(Xn=r,r=i),r!==i?(n.substr(Xn,2)===Rr?(o=Rr,Xn+=2):(o=i,0===Yn&&no(zr)),o===i&&(n.length>Xn?(o=n.charAt(Xn),Xn++):(o=i,0===Yn&&no(Gr))),o!==i?(qn=e,r=Vr(o),e=r):(Xn=e,e=i)):(Xn=e,e=i);e!==i;)t.push(e),e=Xn,r=Xn,Yn++,34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),Yn--,o===i?r=void 0:(Xn=r,r=i),r!==i?(n.substr(Xn,2)===Rr?(o=Rr,Xn+=2):(o=i,0===Yn&&no(zr)),o===i&&(n.length>Xn?(o=n.charAt(Xn),Xn++):(o=i,0===Yn&&no(Gr))),o!==i?(qn=e,r=Vr(o),e=r):(Xn=e,e=i)):(Xn=e,e=i);return t}())!==i?(34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),o!==i?(qn=t,e=Wr(r),t=e):(Xn=t,t=i)):(Xn=t,t=i),Yn--,t===i&&(e=i,0===Yn&&no(Br)),t}function yo(){var t;return Yn++,(t=xo())===i&&(t=mo()),Yn--,t===i&&0===Yn&&no(Xr),t}function xo(){var t,e,r;if(t=Xn,e=[],qr.test(n.charAt(Xn))?(r=n.charAt(Xn),Xn++):(r=i,0===Yn&&no(Ur)),r!==i)for(;r!==i;)e.push(r),qr.test(n.charAt(Xn))?(r=n.charAt(Xn),Xn++):(r=i,0===Yn&&no(Ur));else e=i;return e!==i&&(qn=t,e=Kr(e)),t=e}function vo(){var t,e;return Yn++,t=Xn,Yr.test(n.charAt(Xn))?(e=n.charAt(Xn),Xn++):(e=i,0===Yn&&no(Qr)),e!==i&&(qn=t,e=Vr(e)),Yn--,(t=e)===i&&(e=i,0===Yn&&no(Zr)),t}function wo(){var t,e;return Yn++,t=Xn,tn.test(n.charAt(Xn))?(e=n.charAt(Xn),Xn++):(e=i,0===Yn&&no(en)),e!==i&&(qn=t,e=Vr(e)),Yn--,(t=e)===i&&(e=i,0===Yn&&no(Jr)),t}function _o(){var t,e,r;return t=Xn,e=Xn,Yn++,n.substr(Xn,2)===on?(r=on,Xn+=2):(r=i,0===Yn&&no(an)),Yn--,r===i?e=void 0:(Xn=e,e=i),e!==i?(n.length>Xn?(r=n.charAt(Xn),Xn++):(r=i,0===Yn&&no(Gr)),r!==i?(qn=t,e=Vr(r),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}function Co(){var t,e,r,o;if(t=Xn,(e=function(){var t;return n.substr(Xn,2)===rn?(t=rn,Xn+=2):(t=i,0===Yn&&no(nn)),t}())!==i){for(r=[],o=_o();o!==i;)r.push(o),o=_o();r!==i&&(o=function(){var t;return n.substr(Xn,2)===on?(t=on,Xn+=2):(t=i,0===Yn&&no(an)),t}())!==i?(qn=t,e=un(e,r,o),t=e):(Xn=t,t=i)}else Xn=t,t=i;return t}function Ao(){var t;return fn.test(n.charAt(Xn))?(t=n.charAt(Xn),Xn++):(t=i,0===Yn&&no(hn)),t}function ko(){var t,e,r,o;if(t=Xn,(e=function(){var t;return n.substr(Xn,2)===cn?(t=cn,Xn+=2):(t=i,0===Yn&&no(sn)),t===i&&(35===n.charCodeAt(Xn)?(t=ln,Xn++):(t=i,0===Yn&&no(dn))),t}())!==i){for(r=[],o=Ao();o!==i;)r.push(o),o=Ao();r!==i?(qn=t,e=pn(e,r),t=e):(Xn=t,t=i)}else Xn=t,t=i;return t}function So(){var t;return Yn++,(t=ko())===i&&(t=Co()),Yn--,t===i&&0===Yn&&no(gn),t}function Lo(){var t,e;for(t=[],(e=vo())===i&&(e=wo())===i&&(e=So());e!==i;)t.push(e),(e=vo())===i&&(e=wo())===i&&(e=So());return t}function Eo(){var t;return(t=function(){var t,e,r,o,a;return t=Xn,e=Xn,(r=jo())!==i?(46===n.charCodeAt(Xn)?(o=Cn,Xn++):(o=i,0===Yn&&no(An)),o!==i&&(a=jo())!==i?e=r=[r,o,a]:(Xn=e,e=i)):(Xn=e,e=i),e!==i&&(qn=t,e=kn(e)),t=e}())===i&&(t=jo()),t}function jo(){var t,e,r;if(t=Xn,e=[],vn.test(n.charAt(Xn))?(r=n.charAt(Xn),Xn++):(r=i,0===Yn&&no(wn)),r!==i)for(;r!==i;)e.push(r),vn.test(n.charAt(Xn))?(r=n.charAt(Xn),Xn++):(r=i,0===Yn&&no(wn));else e=i;return e!==i&&(qn=t,e=_n(e)),t=e}function To(){var t,e;return Yn++,t=Xn,(e=function(){var t,e,r,o;return t=Xn,34===n.charCodeAt(Xn)?(e=Nr,Xn++):(e=i,0===Yn&&no(Hr)),e!==i&&(r=Mo())!==i?(34===n.charCodeAt(Xn)?(o=Nr,Xn++):(o=i,0===Yn&&no(Hr)),o!==i?(qn=t,e=mn(r),t=e):(Xn=t,t=i)):(Xn=t,t=i),t}())!==i&&(qn=t,e=Ln(e)),(t=e)===i&&(t=Xn,(e=Mo())!==i&&(qn=t,e=En(e)),t=e),Yn--,t===i&&(e=i,0===Yn&&no(Sn)),t}function Mo(){var t;return n.substr(Xn,4).toLowerCase()===jn?(t=n.substr(Xn,4),Xn+=4):(t=i,0===Yn&&no(Tn)),t===i&&(n.substr(Xn,5).toLowerCase()===Mn?(t=n.substr(Xn,5),Xn+=5):(t=i,0===Yn&&no(On)),t===i&&(n.substr(Xn,2).toLowerCase()===Pn?(t=n.substr(Xn,2),Xn+=2):(t=i,0===Yn&&no(Fn)),t===i&&(n.substr(Xn,3).toLowerCase()===In?(t=n.substr(Xn,3),Xn+=3):(t=i,0===Yn&&no(Dn)),t===i&&(48===n.charCodeAt(Xn)?(t=$n,Xn++):(t=i,0===Yn&&no(Bn)),t===i&&(49===n.charCodeAt(Xn)?(t=Nn,Xn++):(t=i,0===Yn&&no(Hn))))))),t}function Oo(){var t,e;return t=Xn,(e=Eo())!==i&&(qn=t,e=Rn(e)),(t=e)===i&&(t=Xn,n.substr(Xn,4).toLowerCase()===zn?(e=n.substr(Xn,4),Xn+=4):(e=i,0===Yn&&no(Gn)),e!==i&&(qn=t,e=Vn(e)),t=e),t}if((a=c())!==i&&Xn===n.length)return a;throw a!==i&&Xn<n.length&&no({type:"end"}),oo(Zn,Kn<n.length?n.charAt(Kn):null,Kn<n.length?ro(Kn,Kn+1):ro(Kn,Kn))}}})?n.apply(e,o):n)||(t.exports=a)},function(t,e,r){var n,o,a;o=[r(11),r(6)],void 0===(a="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var a,i={},u={program:gn},c=gn,s=function(r,n){return n.entities=function e(r,n,o){return o||(o={}),(n||[]).forEach(function(n){n.forEach(function(n){Hn(r,n.from,o)&&r.push(Wn(n.from)),n.arcs&&(o[n.to]=!0,t(r,e(r,n.arcs,o)),delete o[n.to]),Hn(r,n.to,o)&&r.push(Wn(n.to))})}),r}(n.entities||[],n.arcs),n=t({meta:e.default.getMetaInfo(n.options,n.arcs)},n),r.length>0&&(n=t({precomment:r},n)),n},l=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},d=",",f=cn(",",!1),h=function(t){return t},p=";",g=cn(";",!1),b=function(e){return e[0].concat(e[1]).reduce(t,{})},m="hscale",y=cn("hscale",!0),x="arcgradient",v=cn("arcgradient",!0),w="=",_=cn("=",!1),C=function(t,r){return e.default.nameValue2Option(t,r)},A="width",k=cn("width",!0),S="wordwraparcs",L=cn("wordwraparcs",!0),E=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},j="wordwrapentities",T=cn("wordwrapentities",!0),M="wordwrapboxes",O=cn("wordwrapboxes",!0),P="watermark",F=cn("watermark",!0),I=function(t){return t},D=function(t){return t[0].concat(t[1])},$=ln("entity"),B=":",N=cn(":",!1),H=function(t,e){return e},W=function(t,e){var r=Wn(t);return e&&(r.label=e),r},R=function(t){return t},z=function(t){return t[0].concat(t[1])},G=function(t){return t},V=function(t){return t},X=function(t){return t},q=function(t,e){return e},U=function(t,e){return e&&(t.label=e),t},K=function(t){return{kind:t}},Z=function(t,e,r){return{kind:e,from:t,to:r}},Y="*",Q=cn("*",!1),J=function(t,e){return{kind:t,from:"*",to:e}},tt=function(t,e){return{kind:e,from:t,to:"*"}},et=function(t,e,r,n){return n},rt="{",nt=cn("{",!1),ot="}",at=cn("}",!1),it=function(t,e,r,n,o){var a={kind:e,from:t,to:r,arcs:o};return n&&(a.label=n),a},ut=ln("empty row"),ct="|||",st=cn("|||",!1),lt="...",dt=cn("...",!1),ft=ln("---"),ht="---",pt=cn("---",!1),gt=function(t){return t.toLowerCase()},bt=ln("bi-directional arrow"),mt="--",yt=cn("--",!1),xt="<->",vt=cn("<->",!1),wt="==",_t=cn("==",!1),Ct="<<=>>",At=cn("<<=>>",!1),kt="<=>",St=cn("<=>",!1),Lt="..",Et=cn("..",!1),jt="<<>>",Tt=cn("<<>>",!1),Mt="::",Ot=cn("::",!1),Pt="<:>",Ft=cn("<:>",!1),It=ln("left to right arrow"),Dt="->",$t=cn("->",!1),Bt="=>>",Nt=cn("=>>",!1),Ht="=>",Wt=cn("=>",!1),Rt=">>",zt=cn(">>",!1),Gt=":>",Vt=cn(":>",!1),Xt="-x",qt=cn("-x",!0),Ut=ln("right to left arrow"),Kt="<-",Zt=cn("<-",!1),Yt="<<=",Qt=cn("<<=",!1),Jt="<=",te=cn("<=",!1),ee="<<",re=cn("<<",!1),ne="<:",oe=cn("<:",!1),ae="x-",ie=cn("x-",!0),ue=ln("box"),ce="note",se=cn("note",!0),le="abox",de=cn("abox",!0),fe="rbox",he=cn("rbox",!0),pe="box",ge=cn("box",!0),be=ln("inline expression"),me="alt",ye=cn("alt",!0),xe="else",ve=cn("else",!0),we="opt",_e=cn("opt",!0),Ce="break",Ae=cn("break",!0),ke="par",Se=cn("par",!0),Le="seq",Ee=cn("seq",!0),je="strict",Te=cn("strict",!0),Me="neg",Oe=cn("neg",!0),Pe="critical",Fe=cn("critical",!0),Ie="ignore",De=cn("ignore",!0),$e="consider",Be=cn("consider",!0),Ne="assert",He=cn("assert",!0),We="loop",Re=cn("loop",!0),ze="ref",Ge=cn("ref",!0),Ve="exc",Xe=cn("exc",!0),qe=function(t){return t.toLowerCase()},Ue=ln("double quoted string"),Ke='"',Ze=cn('"',!1),Ye=function(t){return t.join("")},Qe='\\"',Je=cn('\\"',!1),tr={type:"any"},er=function(t){return t},rr=function(t){return t.join("").trim()},nr=ln("identifier"),or=/^[^;, "\t\n\r=\-><:{*]/,ar=sn([";",","," ",'"',"\t","\n","\r","=","-",">","<",":","{","*"],!0,!1),ir=function(t){return t.join("")},ur=ln("whitespace"),cr=/^[ \t]/,sr=sn([" ","\t"],!1,!1),lr=ln("lineend"),dr=/^[\r\n]/,fr=sn(["\r","\n"],!1,!1),hr="/*",pr=cn("/*",!1),gr="*/",br=cn("*/",!1),mr=function(t,e,r){return t+e.join("")+r},yr="//",xr=cn("//",!1),vr="#",wr=cn("#",!1),_r=/^[^\r\n]/,Cr=sn(["\r","\n"],!0,!1),Ar=function(t,e){return t+e.join("")},kr=ln("comment"),Sr=ln("number"),Lr=function(t){return t},Er=function(t){return t.toString()},jr=function(t){return t.toString()},Tr=/^[0-9]/,Mr=sn([["0","9"]],!1,!1),Or=function(t){return parseInt(t.join(""),10)},Pr=".",Fr=cn(".",!1),Ir=function(t){return parseFloat(t.join(""))},Dr=ln("boolean"),$r=function(t){return t},Br=function(t){return t.toString()},Nr="true",Hr=cn("true",!0),Wr="false",Rr=cn("false",!0),zr="on",Gr=cn("on",!0),Vr="off",Xr=cn("off",!0),qr="0",Ur=cn("0",!1),Kr="1",Zr=cn("1",!1),Yr=ln("size"),Qr=function(t){return t.toString()},Jr="auto",tn=cn("auto",!0),en=function(t){return t.toLowerCase()},rn=0,nn=[{line:1,column:1}],on=0,an=[],un=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');c=u[o.startRule]}function cn(t,e){return{type:"literal",text:t,ignoreCase:e}}function sn(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function ln(t){return{type:"other",description:t}}function dn(t){var e,r=nn[t];if(r)return r;for(e=t-1;!nn[e];)e--;for(r={line:(r=nn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return nn[t]=r,r}function fn(t,e){var r=dn(t),n=dn(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function hn(t){rn<on||(rn>on&&(on=rn,an=[]),an.push(t))}function pn(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function gn(){var t,e,r;return t=rn,(e=Fn())!==i&&(r=function(){var t,e,r,o;return t=rn,(e=function(){var t,e,r,o,a;for(t=rn,e=[],r=rn,(o=bn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=h(o),r=o):(rn=r,r=i)):(rn=r,r=i);r!==i;)e.push(r),r=rn,(o=bn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=h(o),r=o):(rn=r,r=i)):(rn=r,r=i);return e!==i?(r=rn,(o=bn())!==i?(59===n.charCodeAt(rn)?(a=p,rn++):(a=i,0===un&&hn(g)),a!==i?(o=h(o),r=o):(rn=r,r=i)):(rn=r,r=i),r!==i?t=e=[e,r]:(rn=t,t=i)):(rn=t,t=i),t!==i&&(t=b(t)),t}())===i&&(e=null),e!==i?((r=function(){var t,e,r,o,a;for(t=rn,e=[],r=rn,(o=mn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=I(o),r=o):(rn=r,r=i)):(rn=r,r=i);r!==i;)e.push(r),r=rn,(o=mn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=I(o),r=o):(rn=r,r=i)):(rn=r,r=i);return e!==i?(r=rn,(o=mn())!==i?(59===n.charCodeAt(rn)?(a=p,rn++):(a=i,0===un&&hn(g)),a!==i?(o=I(o),r=o):(rn=r,r=i)):(rn=r,r=i),r!==i?t=e=[e,r]:(rn=t,t=i)):(rn=t,t=i),t!==i&&(t=D(t)),t}())===i&&(r=null),r!==i?((o=yn())===i&&(o=null),o!==i?(e=l(e,r,o),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t}())!==i&&Fn()!==i?(e=s(e,r),t=e):(rn=t,t=i),t}function bn(){var t,e,r,o,a;return t=rn,(e=Fn())!==i?(n.substr(rn,6).toLowerCase()===m?(r=n.substr(rn,6),rn+=6):(r=i,0===un&&hn(y)),r===i&&(n.substr(rn,11).toLowerCase()===x?(r=n.substr(rn,11),rn+=11):(r=i,0===un&&hn(v))),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=function(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=i,0===un&&hn(Ze)),e!==i&&(r=In())!==i?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),o!==i?(e=jr(r),t=e):(rn=t,t=i)):(rn=t,t=i),t}())!==i&&(e=Lr(e)),(t=e)===i&&(t=rn,(e=In())!==i&&(e=Er(e)),t=e),un--,t===i&&(e=i,0===un&&hn(Sr)),t}())!==i&&Fn()!==i?(e=C(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(n.substr(rn,5).toLowerCase()===A?(r=n.substr(rn,5),rn+=5):(r=i,0===un&&hn(k)),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=function(){var t;return un++,(t=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=i,0===un&&hn(Ze)),e!==i&&(r=Nn())!==i?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),o!==i?(e=Lr(r),t=e):(rn=t,t=i)):(rn=t,t=i),t}())===i&&(t=Nn()),un--,t===i&&0===un&&hn(Yr),t}())!==i&&Fn()!==i?(e=C(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(n.substr(rn,12).toLowerCase()===S?(r=n.substr(rn,12),rn+=12):(r=i,0===un&&hn(L)),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=$n())!==i&&Fn()!==i?(e=E(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(n.substr(rn,16).toLowerCase()===j?(r=n.substr(rn,16),rn+=16):(r=i,0===un&&hn(T)),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=$n())!==i&&Fn()!==i?(e=E(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(n.substr(rn,13).toLowerCase()===M?(r=n.substr(rn,13),rn+=13):(r=i,0===un&&hn(O)),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=$n())!==i&&Fn()!==i?(e=E(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(n.substr(rn,9).toLowerCase()===P?(r=n.substr(rn,9),rn+=9):(r=i,0===un&&hn(F)),r!==i&&Fn()!==i?(61===n.charCodeAt(rn)?(o=w,rn++):(o=i,0===un&&hn(_)),o!==i&&Fn()!==i&&(a=kn())!==i&&Fn()!==i?(e=C(r,a),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i)))))),t}function mn(){var t,e,r,o,a,u;return un++,t=rn,(e=Fn())!==i&&(r=Sn())!==i&&Fn()!==i?(o=rn,58===n.charCodeAt(rn)?(a=B,rn++):(a=i,0===un&&hn(N)),a!==i&&Fn()!==i&&(u=An())!==i&&Fn()!==i?(a=H(r,u),o=a):(rn=o,o=i),o===i&&(o=null),o!==i?(e=W(r,o),t=e):(rn=t,t=i)):(rn=t,t=i),un--,t===i&&(e=i,0===un&&hn($)),t}function yn(){var t,e,r,o;if(t=[],e=rn,(r=xn())!==i&&Fn()!==i?(59===n.charCodeAt(rn)?(o=p,rn++):(o=i,0===un&&hn(g)),o!==i?(r=R(r),e=r):(rn=e,e=i)):(rn=e,e=i),e!==i)for(;e!==i;)t.push(e),e=rn,(r=xn())!==i&&Fn()!==i?(59===n.charCodeAt(rn)?(o=p,rn++):(o=i,0===un&&hn(g)),o!==i?(r=R(r),e=r):(rn=e,e=i)):(rn=e,e=i);else t=i;return t}function xn(){var t,e,r,o,a;for(t=rn,e=[],r=rn,(o=vn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=R(o),r=o):(rn=r,r=i)):(rn=r,r=i);r!==i;)e.push(r),r=rn,(o=vn())!==i?(44===n.charCodeAt(rn)?(a=d,rn++):(a=i,0===un&&hn(f)),a!==i?(o=R(o),r=o):(rn=r,r=i)):(rn=r,r=i);return e!==i?(r=rn,(o=vn())!==i&&(o=R(o)),(r=o)!==i?t=e=[e,r]:(rn=t,t=i)):(rn=t,t=i),t!==i&&(t=z(t)),t}function vn(){var t;return(t=function(){var t,e,r,o,a;return t=rn,e=rn,(r=function(){var t,e,r;return t=rn,(e=Fn())!==i&&(r=function(){var t;return un++,n.substr(rn,3)===ct?(t=ct,rn+=3):(t=i,0===un&&hn(st)),t===i&&(n.substr(rn,3)===lt?(t=lt,rn+=3):(t=i,0===un&&hn(dt))),un--,t===i&&0===un&&hn(ut),t}())!==i&&Fn()!==i?(e=K(r),t=e):(rn=t,t=i),t}())!==i&&(r=G(r)),(e=r)===i&&(e=rn,(r=function(){var t,e,r,o,a;return t=rn,(e=Fn())!==i&&(r=Sn())!==i&&Fn()!==i&&(o=function(){var t;return(t=wn())===i&&(t=_n())===i&&(t=Cn())===i&&(t=function(){var t;return un++,n.substr(rn,4).toLowerCase()===ce?(t=n.substr(rn,4),rn+=4):(t=i,0===un&&hn(se)),t===i&&(n.substr(rn,4).toLowerCase()===le?(t=n.substr(rn,4),rn+=4):(t=i,0===un&&hn(de)),t===i&&(n.substr(rn,4).toLowerCase()===fe?(t=n.substr(rn,4),rn+=4):(t=i,0===un&&hn(he)),t===i&&(n.substr(rn,3).toLowerCase()===pe?(t=n.substr(rn,3),rn+=3):(t=i,0===un&&hn(ge))))),un--,t===i&&0===un&&hn(ue),t}()),t!==i&&(t=gt(t)),t}())!==i&&Fn()!==i&&(a=Sn())!==i&&Fn()!==i?(e=Z(r,o,a),t=e):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i?(42===n.charCodeAt(rn)?(r=Y,rn++):(r=i,0===un&&hn(Q)),r!==i&&Fn()!==i&&(o=Cn())!==i&&Fn()!==i&&(a=Sn())!==i&&Fn()!==i?(e=J(o,a),t=e):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i&&(r=Sn())!==i&&Fn()!==i&&(o=_n())!==i&&Fn()!==i?(42===n.charCodeAt(rn)?(a=Y,rn++):(a=i,0===un&&hn(Q)),a!==i&&Fn()!==i?(e=tt(r,o),t=e):(rn=t,t=i)):(rn=t,t=i),t===i&&(t=rn,(e=Fn())!==i&&(r=Sn())!==i&&Fn()!==i&&(o=wn())!==i&&Fn()!==i?(42===n.charCodeAt(rn)?(a=Y,rn++):(a=i,0===un&&hn(Q)),a!==i&&Fn()!==i?(e=tt(r,o),t=e):(rn=t,t=i)):(rn=t,t=i)))),t}())!==i&&(r=V(r)),(e=r)===i&&(e=rn,(r=function(){var t,e,r;return t=rn,(e=Fn())!==i&&(r=function(){var t;return un++,n.substr(rn,3)===ht?(t=ht,rn+=3):(t=i,0===un&&hn(pt)),un--,t===i&&0===un&&hn(ft),t}())!==i&&Fn()!==i?(e=K(r),t=e):(rn=t,t=i),t}())!==i&&(r=X(r)),e=r)),e!==i?(r=rn,58===n.charCodeAt(rn)?(o=B,rn++):(o=i,0===un&&hn(N)),o!==i&&Fn()!==i&&(a=An())!==i&&Fn()!==i?(o=q(e,a),r=o):(rn=r,r=i),r===i&&(r=null),r!==i?(e=U(e,r),t=e):(rn=t,t=i)):(rn=t,t=i),t}())===i&&(t=function(){var t,e,r,o,a,u,c,s,l;return t=rn,(e=Fn())!==i&&(r=Sn())!==i&&Fn()!==i&&(o=function(){var t,e;return un++,t=rn,n.substr(rn,3).toLowerCase()===me?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(ye)),e===i&&(n.substr(rn,4).toLowerCase()===xe?(e=n.substr(rn,4),rn+=4):(e=i,0===un&&hn(ve)),e===i&&(n.substr(rn,3).toLowerCase()===we?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(_e)),e===i&&(n.substr(rn,5).toLowerCase()===Ce?(e=n.substr(rn,5),rn+=5):(e=i,0===un&&hn(Ae)),e===i&&(n.substr(rn,3).toLowerCase()===ke?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(Se)),e===i&&(n.substr(rn,3).toLowerCase()===Le?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(Ee)),e===i&&(n.substr(rn,6).toLowerCase()===je?(e=n.substr(rn,6),rn+=6):(e=i,0===un&&hn(Te)),e===i&&(n.substr(rn,3).toLowerCase()===Me?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(Oe)),e===i&&(n.substr(rn,8).toLowerCase()===Pe?(e=n.substr(rn,8),rn+=8):(e=i,0===un&&hn(Fe)),e===i&&(n.substr(rn,6).toLowerCase()===Ie?(e=n.substr(rn,6),rn+=6):(e=i,0===un&&hn(De)),e===i&&(n.substr(rn,8).toLowerCase()===$e?(e=n.substr(rn,8),rn+=8):(e=i,0===un&&hn(Be)),e===i&&(n.substr(rn,6).toLowerCase()===Ne?(e=n.substr(rn,6),rn+=6):(e=i,0===un&&hn(He)),e===i&&(n.substr(rn,4).toLowerCase()===We?(e=n.substr(rn,4),rn+=4):(e=i,0===un&&hn(Re)),e===i&&(n.substr(rn,3).toLowerCase()===ze?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(Ge)),e===i&&(n.substr(rn,3).toLowerCase()===Ve?(e=n.substr(rn,3),rn+=3):(e=i,0===un&&hn(Xe)))))))))))))))),e!==i&&(e=qe(e)),un--,(t=e)===i&&(e=i,0===un&&hn(be)),t}())!==i&&Fn()!==i&&(a=Sn())!==i&&Fn()!==i?(u=rn,58===n.charCodeAt(rn)?(c=B,rn++):(c=i,0===un&&hn(N)),c!==i&&Fn()!==i&&(s=An())!==i&&Fn()!==i?(c=et(r,o,a,s),u=c):(rn=u,u=i),u===i&&(u=null),u!==i?(123===n.charCodeAt(rn)?(c=rt,rn++):(c=i,0===un&&hn(nt)),c!==i&&Fn()!==i?((s=yn())===i&&(s=null),s!==i&&Fn()!==i?(125===n.charCodeAt(rn)?(l=ot,rn++):(l=i,0===un&&hn(at)),l!==i&&Fn()!==i?(e=it(r,o,a,u,s),t=e):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i)):(rn=t,t=i),t}()),t}function wn(){var t;return un++,n.substr(rn,2)===mt?(t=mt,rn+=2):(t=i,0===un&&hn(yt)),t===i&&(n.substr(rn,3)===xt?(t=xt,rn+=3):(t=i,0===un&&hn(vt)),t===i&&(n.substr(rn,2)===wt?(t=wt,rn+=2):(t=i,0===un&&hn(_t)),t===i&&(n.substr(rn,5)===Ct?(t=Ct,rn+=5):(t=i,0===un&&hn(At)),t===i&&(n.substr(rn,3)===kt?(t=kt,rn+=3):(t=i,0===un&&hn(St)),t===i&&(n.substr(rn,2)===Lt?(t=Lt,rn+=2):(t=i,0===un&&hn(Et)),t===i&&(n.substr(rn,4)===jt?(t=jt,rn+=4):(t=i,0===un&&hn(Tt)),t===i&&(n.substr(rn,2)===Mt?(t=Mt,rn+=2):(t=i,0===un&&hn(Ot)),t===i&&(n.substr(rn,3)===Pt?(t=Pt,rn+=3):(t=i,0===un&&hn(Ft)))))))))),un--,t===i&&0===un&&hn(bt),t}function _n(){var t;return un++,n.substr(rn,2)===Dt?(t=Dt,rn+=2):(t=i,0===un&&hn($t)),t===i&&(n.substr(rn,3)===Bt?(t=Bt,rn+=3):(t=i,0===un&&hn(Nt)),t===i&&(n.substr(rn,2)===Ht?(t=Ht,rn+=2):(t=i,0===un&&hn(Wt)),t===i&&(n.substr(rn,2)===Rt?(t=Rt,rn+=2):(t=i,0===un&&hn(zt)),t===i&&(n.substr(rn,2)===Gt?(t=Gt,rn+=2):(t=i,0===un&&hn(Vt)),t===i&&(n.substr(rn,2).toLowerCase()===Xt?(t=n.substr(rn,2),rn+=2):(t=i,0===un&&hn(qt))))))),un--,t===i&&0===un&&hn(It),t}function Cn(){var t;return un++,n.substr(rn,2)===Kt?(t=Kt,rn+=2):(t=i,0===un&&hn(Zt)),t===i&&(n.substr(rn,3)===Yt?(t=Yt,rn+=3):(t=i,0===un&&hn(Qt)),t===i&&(n.substr(rn,2)===Jt?(t=Jt,rn+=2):(t=i,0===un&&hn(te)),t===i&&(n.substr(rn,2)===ee?(t=ee,rn+=2):(t=i,0===un&&hn(re)),t===i&&(n.substr(rn,2)===ne?(t=ne,rn+=2):(t=i,0===un&&hn(oe)),t===i&&(n.substr(rn,2).toLowerCase()===ae?(t=n.substr(rn,2),rn+=2):(t=i,0===un&&hn(ie))))))),un--,t===i&&0===un&&hn(Ut),t}function An(){var t;return(t=kn())===i&&(t=function(){var t;return(t=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=d,rn++):(o=i,0===un&&hn(f)),o===i&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=i,0===un&&hn(g)),o===i&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=i,0===un&&hn(nt)))),un--,o===i?r=void 0:(rn=r,r=i),r!==i?(n.length>rn?(o=n.charAt(rn),rn++):(o=i,0===un&&hn(tr)),o!==i?(r=er(o),e=r):(rn=e,e=i)):(rn=e,e=i);e!==i;)t.push(e),e=rn,r=rn,un++,44===n.charCodeAt(rn)?(o=d,rn++):(o=i,0===un&&hn(f)),o===i&&(59===n.charCodeAt(rn)?(o=p,rn++):(o=i,0===un&&hn(g)),o===i&&(123===n.charCodeAt(rn)?(o=rt,rn++):(o=i,0===un&&hn(nt)))),un--,o===i?r=void 0:(rn=r,r=i),r!==i?(n.length>rn?(o=n.charAt(rn),rn++):(o=i,0===un&&hn(tr)),o!==i?(r=er(o),e=r):(rn=e,e=i)):(rn=e,e=i);return t}())!==i&&(t=rr(t)),t}()),t}function kn(){var t,e,r,o;return un++,t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=i,0===un&&hn(Ze)),e!==i&&(r=function(){var t,e,r,o;for(t=[],e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),un--,o===i?r=void 0:(rn=r,r=i),r!==i?(n.substr(rn,2)===Qe?(o=Qe,rn+=2):(o=i,0===un&&hn(Je)),o===i&&(n.length>rn?(o=n.charAt(rn),rn++):(o=i,0===un&&hn(tr))),o!==i?(r=er(o),e=r):(rn=e,e=i)):(rn=e,e=i);e!==i;)t.push(e),e=rn,r=rn,un++,34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),un--,o===i?r=void 0:(rn=r,r=i),r!==i?(n.substr(rn,2)===Qe?(o=Qe,rn+=2):(o=i,0===un&&hn(Je)),o===i&&(n.length>rn?(o=n.charAt(rn),rn++):(o=i,0===un&&hn(tr))),o!==i?(r=er(o),e=r):(rn=e,e=i)):(rn=e,e=i);return t}())!==i?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),o!==i?(e=Ye(r),t=e):(rn=t,t=i)):(rn=t,t=i),un--,t===i&&(e=i,0===un&&hn(Ue)),t}function Sn(){var t,e,r;if(un++,t=rn,e=[],or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=i,0===un&&hn(ar)),r!==i)for(;r!==i;)e.push(r),or.test(n.charAt(rn))?(r=n.charAt(rn),rn++):(r=i,0===un&&hn(ar));else e=i;return e!==i&&(e=ir(e)),(t=e)===i&&(t=kn()),un--,t===i&&(e=i,0===un&&hn(nr)),t}function Ln(){var t,e;return un++,t=rn,cr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=i,0===un&&hn(sr)),e!==i&&(e=er(e)),un--,(t=e)===i&&(e=i,0===un&&hn(ur)),t}function En(){var t,e;return un++,t=rn,dr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=i,0===un&&hn(fr)),e!==i&&(e=er(e)),un--,(t=e)===i&&(e=i,0===un&&hn(lr)),t}function jn(){var t,e,r;return t=rn,e=rn,un++,n.substr(rn,2)===gr?(r=gr,rn+=2):(r=i,0===un&&hn(br)),un--,r===i?e=void 0:(rn=e,e=i),e!==i?(n.length>rn?(r=n.charAt(rn),rn++):(r=i,0===un&&hn(tr)),r!==i?(e=er(r),t=e):(rn=t,t=i)):(rn=t,t=i),t}function Tn(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===hr?(t=hr,rn+=2):(t=i,0===un&&hn(pr)),t}())!==i){for(r=[],o=jn();o!==i;)r.push(o),o=jn();r!==i&&(o=function(){var t;return n.substr(rn,2)===gr?(t=gr,rn+=2):(t=i,0===un&&hn(br)),t}())!==i?(e=mr(e,r,o),t=e):(rn=t,t=i)}else rn=t,t=i;return t}function Mn(){var t;return _r.test(n.charAt(rn))?(t=n.charAt(rn),rn++):(t=i,0===un&&hn(Cr)),t}function On(){var t,e,r,o;if(t=rn,(e=function(){var t;return n.substr(rn,2)===yr?(t=yr,rn+=2):(t=i,0===un&&hn(xr)),t===i&&(35===n.charCodeAt(rn)?(t=vr,rn++):(t=i,0===un&&hn(wr))),t}())!==i){for(r=[],o=Mn();o!==i;)r.push(o),o=Mn();r!==i?(e=Ar(e,r),t=e):(rn=t,t=i)}else rn=t,t=i;return t}function Pn(){var t;return un++,(t=On())===i&&(t=Tn()),un--,t===i&&0===un&&hn(kr),t}function Fn(){var t,e;for(t=[],(e=Ln())===i&&(e=En())===i&&(e=Pn());e!==i;)t.push(e),(e=Ln())===i&&(e=En())===i&&(e=Pn());return t}function In(){var t;return(t=function(){var t,e,r,o;return t=rn,(e=Dn())!==i?(46===n.charCodeAt(rn)?(r=Pr,rn++):(r=i,0===un&&hn(Fr)),r!==i&&(o=Dn())!==i?t=e=[e,r,o]:(rn=t,t=i)):(rn=t,t=i),t!==i&&(t=Ir(t)),t}())===i&&(t=Dn()),t}function Dn(){var t,e;if(t=[],Tr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=i,0===un&&hn(Mr)),e!==i)for(;e!==i;)t.push(e),Tr.test(n.charAt(rn))?(e=n.charAt(rn),rn++):(e=i,0===un&&hn(Mr));else t=i;return t!==i&&(t=Or(t)),t}function $n(){var t,e;return un++,t=rn,(e=function(){var t,e,r,o;return t=rn,34===n.charCodeAt(rn)?(e=Ke,rn++):(e=i,0===un&&hn(Ze)),e!==i&&(r=Bn())!==i?(34===n.charCodeAt(rn)?(o=Ke,rn++):(o=i,0===un&&hn(Ze)),o!==i?(e=Lr(r),t=e):(rn=t,t=i)):(rn=t,t=i),t}())!==i&&(e=$r(e)),(t=e)===i&&(t=rn,(e=Bn())!==i&&(e=Br(e)),t=e),un--,t===i&&(e=i,0===un&&hn(Dr)),t}function Bn(){var t;return n.substr(rn,4).toLowerCase()===Nr?(t=n.substr(rn,4),rn+=4):(t=i,0===un&&hn(Hr)),t===i&&(n.substr(rn,5).toLowerCase()===Wr?(t=n.substr(rn,5),rn+=5):(t=i,0===un&&hn(Rr)),t===i&&(n.substr(rn,2).toLowerCase()===zr?(t=n.substr(rn,2),rn+=2):(t=i,0===un&&hn(Gr)),t===i&&(n.substr(rn,3).toLowerCase()===Vr?(t=n.substr(rn,3),rn+=3):(t=i,0===un&&hn(Xr)),t===i&&(48===n.charCodeAt(rn)?(t=qr,rn++):(t=i,0===un&&hn(Ur)),t===i&&(49===n.charCodeAt(rn)?(t=Kr,rn++):(t=i,0===un&&hn(Zr))))))),t}function Nn(){var t,e;return t=rn,(e=In())!==i&&(e=Qr(e)),(t=e)===i&&(t=rn,n.substr(rn,4).toLowerCase()===Jr?(e=n.substr(rn,4),rn+=4):(e=i,0===un&&hn(tn)),e!==i&&(e=en(e)),t=e),t}function Hn(t,r,n){return!(e.default.entityExists(t,r)||!0===n[r])}function Wn(t){return{name:t}}if((a=c())!==i&&rn===n.length)return a;throw a!==i&&rn<n.length&&hn({type:"end"}),pn(an,on<n.length?n.charAt(on):null,on<n.length?fn(on,on+1):fn(on,on))}}})?n.apply(e,o):n)||(t.exports=a)},function(t,e,r){var n,o,a;o=[r(11),r(6)],void 0===(a="function"==typeof(n=function(t,e){"use strict";function r(t,e,n,o){this.message=t,this.expected=e,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}return function(t,e){function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r}(r,Error),r.buildMessage=function(t,e){var r={literal:function(t){return'"'+o(t.text)+'"'},class:function(t){var e,r="";for(e=0;e<t.parts.length;e++)r+=t.parts[e]instanceof Array?a(t.parts[e][0])+"-"+a(t.parts[e][1]):a(t.parts[e]);return"["+(t.inverted?"^":"")+r+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function n(t){return t.charCodeAt(0).toString(16).toUpperCase()}function o(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function a(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(t){return"\\x0"+n(t)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(t){return"\\x"+n(t)})}function i(t){return r[t.type](t)}return"Expected "+function(t){var e,r,n=new Array(t.length);for(e=0;e<t.length;e++)n[e]=i(t[e]);if(n.sort(),n.length>0){for(e=1,r=1;e<n.length;e++)n[e-1]!==n[e]&&(n[r]=n[e],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(t)+" but "+function(t){return t?'"'+o(t)+'"':"end of input"}(e)+" found."},{SyntaxError:r,parse:function(n,o){o=void 0!==o?o:{};var a,i={},u={program:fn},c=fn,s="{",l=on("{",!1),d="}",f=on("}",!1),h=function(r,n){return n.entities=n.entities||[],e.default.checkForUndeclaredEntities(n.entities,n.arcs),n=t({meta:{extendedOptions:!1,extendedArcTypes:!1,extendedFeatures:!1}},n),r.length>0&&(n=t({precomment:r},n)),n},p="msc",g=on("msc",!0),b=function(t,e,r){var n={};return t&&(n.options=t),e&&(n.entities=e),r&&(n.arcs=r),n},m=",",y=on(",",!1),x=function(t){return t},v=";",w=on(";",!1),_=function(e){return e[0].concat(e[1]).reduce(t,{})},C=un("option"),A="hscale",k=on("hscale",!0),S="width",L=on("width",!0),E="arcgradient",j=on("arcgradient",!0),T="=",M=on("=",!1),O=function(t,r){return e.default.nameValue2Option(t,r)},P="wordwraparcs",F=on("wordwraparcs",!0),I=function(t,r){return e.default.nameValue2Option(t,e.default.flattenBoolean(r))},D=function(t){return t},$=function(t){return t[0].concat(t[1])},B=un("entity"),N="[",H=on("[",!1),W="]",R=on("]",!1),z=function(t,e){return e},G=function(e,r){return t({name:e},r)},V=function(n,o){return e.default.isMscGenKeyword(n)&&function(t,e){throw e=void 0!==e?e:sn(Jr,Qr),function(t,e){return new r(t,null,null,e)}(t,e)}("Keywords aren't allowed as entity names (embed them in quotes if you need them)"),t({name:n},o)},X=function(t){return t},q=function(t){return t[0].concat(t[1])},U=function(t,e){return e},K=function(e,r){return t(e,r)},Z=function(t){return{kind:t}},Y=function(t,e,r){return{kind:e,from:t,to:r}},Q="*",J=on("*",!1),tt=function(t,e){return{kind:t,from:"*",to:e}},et=function(t,e){return{kind:e,from:t,to:"*"}},rt=un("empty row"),nt="|||",ot=on("|||",!1),at="...",it=on("...",!1),ut=un("---"),ct="---",st=on("---",!1),lt=function(t){return t.toLowerCase()},dt=un("bi-directional arrow"),ft="--",ht=on("--",!1),pt="<->",gt=on("<->",!1),bt="==",mt=on("==",!1),yt="<<=>>",xt=on("<<=>>",!1),vt="<=>",wt=on("<=>",!1),_t="..",Ct=on("..",!1),At="<<>>",kt=on("<<>>",!1),St="::",Lt=on("::",!1),Et="<:>",jt=on("<:>",!1),Tt=un("left to right arrow"),Mt="->",Ot=on("->",!1),Pt="=>>",Ft=on("=>>",!1),It="=>",Dt=on("=>",!1),$t=">>",Bt=on(">>",!1),Nt=":>",Ht=on(":>",!1),Wt="-x",Rt=on("-x",!0),zt=un("right to left arrow"),Gt="<-",Vt=on("<-",!1),Xt="<<=",qt=on("<<=",!1),Ut="<=",Kt=on("<=",!1),Zt="<<",Yt=on("<<",!1),Qt="<:",Jt=on("<:",!1),te="x-",ee=on("x-",!0),re=un("box"),ne="note",oe=on("note",!0),ae="abox",ie=on("abox",!0),ue="rbox",ce=on("rbox",!0),se="box",le=on("box",!0),de=function(e){return e[0].concat(e[1]).reduce(t,{})},fe=function(t,e){var r={};return r[t.toLowerCase().replace("colour","color")]=e,r},he=un("attribute name"),pe="label",ge=on("label",!0),be="idurl",me=on("idurl",!0),ye="id",xe=on("id",!0),ve="url",we=on("url",!0),_e="linecolor",Ce=on("linecolor",!0),Ae="linecolour",ke=on("linecolour",!0),Se="textcolor",Le=on("textcolor",!0),Ee="textcolour",je=on("textcolour",!0),Te="textbgcolor",Me=on("textbgcolor",!0),Oe="textbgcolour",Pe=on("textbgcolour",!0),Fe="arclinecolor",Ie=on("arclinecolor",!0),De="arclinecolour",$e=on("arclinecolour",!0),Be="arctextcolor",Ne=on("arctextcolor",!0),He="arctextcolour",We=on("arctextcolour",!0),Re="arctextbgcolor",ze=on("arctextbgcolor",!0),Ge="arctextbgcolour",Ve=on("arctextbgcolour",!0),Xe="arcskip",qe=on("arcskip",!0),Ue=un("double quoted string"),Ke='"',Ze=on('"',!1),Ye=function(t){return t.join("")},Qe='\\"',Je=on('\\"',!1),tr={type:"any"},er=function(t){return t},rr=un("identifier"),nr=/^[A-Za-z_0-9]/,or=an([["A","Z"],["a","z"],"_",["0","9"]],!1,!1),ar=function(t){return t.join("")},ir=un("whitespace"),ur=/^[ \t]/,cr=an([" ","\t"],!1,!1),sr=un("lineend"),lr=/^[\r\n]/,dr=an(["\r","\n"],!1,!1),fr="/*",hr=on("/*",!1),pr="*/",gr=on("*/",!1),br=function(t,e,r){return t+e.join("")+r},mr="//",yr=on("//",!1),xr="#",vr=on("#",!1),wr=/^[^\r\n]/,_r=an(["\r","\n"],!0,!1),Cr=function(t,e){return t+e.join("")},Ar=un("comment"),kr=un("number"),Sr=function(t){return t},Lr=function(t){return t.toString()},Er=function(t){return t.toString()},jr=un("cardinal"),Tr=/^[0-9]/,Mr=an([["0","9"]],!1,!1),Or=function(t){return parseInt(t.join(""),10)},Pr=un("real"),Fr=".",Ir=on(".",!1),Dr=function(t){return parseFloat(t.join(""))},$r=un("boolean"),Br=function(t){return t},Nr=function(t){return t.toString()},Hr="true",Wr=on("true",!0),Rr="false",zr=on("false",!0),Gr="on",Vr=on("on",!0),Xr="off",qr=on("off",!0),Ur="0",Kr=on("0",!1),Zr="1",Yr=on("1",!1),Qr=0,Jr=0,tn=[{line:1,column:1}],en=0,rn=[],nn=0;if("startRule"in o){if(!(o.startRule in u))throw new Error("Can't start parsing from rule \""+o.startRule+'".');c=u[o.startRule]}function on(t,e){return{type:"literal",text:t,ignoreCase:e}}function an(t,e,r){return{type:"class",parts:t,inverted:e,ignoreCase:r}}function un(t){return{type:"other",description:t}}function cn(t){var e,r=tn[t];if(r)return r;for(e=t-1;!tn[e];)e--;for(r={line:(r=tn[e]).line,column:r.column};e<t;)10===n.charCodeAt(e)?(r.line++,r.column=1):r.column++,e++;return tn[t]=r,r}function sn(t,e){var r=cn(t),n=cn(e);return{start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:n.line,column:n.column}}}function ln(t){Qr<en||(Qr>en&&(en=Qr,rn=[]),rn.push(t))}function dn(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function fn(){var t,e,r,o,a;return t=Qr,(e=On())!==i&&function(){var t;return n.substr(Qr,3).toLowerCase()===p?(t=n.substr(Qr,3),Qr+=3):(t=i,0===nn&&ln(g)),t}()!==i&&On()!==i?(123===n.charCodeAt(Qr)?(r=s,Qr++):(r=i,0===nn&&ln(l)),r!==i&&On()!==i&&(o=function(){var t,e,r,o;return t=Qr,(e=function(){var t,e,r,o,a,u;for(t=Qr,e=Qr,r=[],o=Qr,(a=hn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=x(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);o!==i;)r.push(o),o=Qr,(a=hn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=x(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);return r!==i?(o=Qr,(a=hn())!==i?(59===n.charCodeAt(Qr)?(u=v,Qr++):(u=i,0===nn&&ln(w)),u!==i?(Jr=o,a=x(a),o=a):(Qr=o,o=i)):(Qr=o,o=i),o!==i?e=r=[r,o]:(Qr=e,e=i)):(Qr=e,e=i),e!==i&&(Jr=t,e=_(e)),t=e}())===i&&(e=null),e!==i?((r=function(){var t,e,r,o,a,u;for(t=Qr,e=Qr,r=[],o=Qr,(a=pn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=D(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);o!==i;)r.push(o),o=Qr,(a=pn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=D(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);return r!==i?(o=Qr,(a=pn())!==i?(59===n.charCodeAt(Qr)?(u=v,Qr++):(u=i,0===nn&&ln(w)),u!==i?(Jr=o,a=D(a),o=a):(Qr=o,o=i)):(Qr=o,o=i),o!==i?e=r=[r,o]:(Qr=e,e=i)):(Qr=e,e=i),e!==i&&(Jr=t,e=$(e)),t=e}())===i&&(r=null),r!==i?((o=function(){var t,e,r,o;if(t=[],e=Qr,(r=gn())!==i&&On()!==i?(59===n.charCodeAt(Qr)?(o=v,Qr++):(o=i,0===nn&&ln(w)),o!==i?(Jr=e,r=X(r),e=r):(Qr=e,e=i)):(Qr=e,e=i),e!==i)for(;e!==i;)t.push(e),e=Qr,(r=gn())!==i&&On()!==i?(59===n.charCodeAt(Qr)?(o=v,Qr++):(o=i,0===nn&&ln(w)),o!==i?(Jr=e,r=X(r),e=r):(Qr=e,e=i)):(Qr=e,e=i);else t=i;return t}())===i&&(o=null),o!==i?(Jr=t,e=b(e,r,o),t=e):(Qr=t,t=i)):(Qr=t,t=i)):(Qr=t,t=i),t}())!==i&&On()!==i?(125===n.charCodeAt(Qr)?(a=d,Qr++):(a=i,0===nn&&ln(f)),a!==i&&On()!==i?(Jr=t,e=h(e,o),t=e):(Qr=t,t=i)):(Qr=t,t=i)):(Qr=t,t=i),t}function hn(){var t,e,r,o,a;return nn++,t=Qr,(e=On())!==i?(n.substr(Qr,6).toLowerCase()===A?(r=n.substr(Qr,6),Qr+=6):(r=i,0===nn&&ln(k)),r===i&&(n.substr(Qr,5).toLowerCase()===S?(r=n.substr(Qr,5),Qr+=5):(r=i,0===nn&&ln(L)),r===i&&(n.substr(Qr,11).toLowerCase()===E?(r=n.substr(Qr,11),Qr+=11):(r=i,0===nn&&ln(j)))),r!==i&&On()!==i?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=i,0===nn&&ln(M)),o!==i&&On()!==i&&(a=function(){var t,e;return nn++,t=Qr,(e=function(){var t,e,r,o;return t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=i,0===nn&&ln(Ze)),e!==i&&(r=Pn())!==i?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=i,0===nn&&ln(Ze)),o!==i?(Jr=t,e=Er(r),t=e):(Qr=t,t=i)):(Qr=t,t=i),t}())!==i&&(Jr=t,e=Sr(e)),(t=e)===i&&(t=Qr,(e=Pn())!==i&&(Jr=t,e=Lr(e)),t=e),nn--,t===i&&(e=i,0===nn&&ln(kr)),t}())!==i&&On()!==i?(Jr=t,e=O(r,a),t=e):(Qr=t,t=i)):(Qr=t,t=i)):(Qr=t,t=i),t===i&&(t=Qr,(e=On())!==i?(n.substr(Qr,12).toLowerCase()===P?(r=n.substr(Qr,12),Qr+=12):(r=i,0===nn&&ln(F)),r!==i&&On()!==i?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=i,0===nn&&ln(M)),o!==i&&On()!==i&&(a=function(){var t,e;return nn++,t=Qr,(e=function(){var t,e,r,o;return t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=i,0===nn&&ln(Ze)),e!==i&&(r=In())!==i?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=i,0===nn&&ln(Ze)),o!==i?(Jr=t,e=Sr(r),t=e):(Qr=t,t=i)):(Qr=t,t=i),t}())!==i&&(Jr=t,e=Br(e)),(t=e)===i&&(t=Qr,(e=In())!==i&&(Jr=t,e=Nr(e)),t=e),nn--,t===i&&(e=i,0===nn&&ln($r)),t}())!==i&&On()!==i?(Jr=t,e=I(r,a),t=e):(Qr=t,t=i)):(Qr=t,t=i)):(Qr=t,t=i)),nn--,t===i&&(e=i,0===nn&&ln(C)),t}function pn(){var t,e,r,o,a,u,c;return nn++,t=Qr,(e=On())!==i&&(r=_n())!==i&&On()!==i?(o=Qr,91===n.charCodeAt(Qr)?(a=N,Qr++):(a=i,0===nn&&ln(H)),a!==i&&(u=vn())!==i?(93===n.charCodeAt(Qr)?(c=W,Qr++):(c=i,0===nn&&ln(R)),c!==i?(Jr=o,a=z(r,u),o=a):(Qr=o,o=i)):(Qr=o,o=i),o===i&&(o=null),o!==i&&(a=On())!==i?(Jr=t,e=G(r,o),t=e):(Qr=t,t=i)):(Qr=t,t=i),t===i&&(t=Qr,(e=On())!==i&&(r=An())!==i&&On()!==i?(o=Qr,91===n.charCodeAt(Qr)?(a=N,Qr++):(a=i,0===nn&&ln(H)),a!==i&&(u=vn())!==i?(93===n.charCodeAt(Qr)?(c=W,Qr++):(c=i,0===nn&&ln(R)),c!==i?(Jr=o,a=z(r,u),o=a):(Qr=o,o=i)):(Qr=o,o=i),o===i&&(o=null),o!==i&&(a=On())!==i?(Jr=t,e=V(r,o),t=e):(Qr=t,t=i)):(Qr=t,t=i)),nn--,t===i&&(e=i,0===nn&&ln(B)),t}function gn(){var t,e,r,o,a,u;for(t=Qr,e=Qr,r=[],o=Qr,(a=bn())!==i&&On()!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=X(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);o!==i;)r.push(o),o=Qr,(a=bn())!==i&&On()!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=X(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);return r!==i?(o=Qr,(a=bn())!==i&&(Jr=o,a=X(a)),(o=a)!==i?e=r=[r,o]:(Qr=e,e=i)):(Qr=e,e=i),e!==i&&(Jr=t,e=q(e)),t=e}function bn(){var t,e,r,o,a,u;return t=Qr,e=Qr,(r=function(){var t,e,r;return t=Qr,(e=On())!==i&&(r=function(){var t;return nn++,n.substr(Qr,3)===nt?(t=nt,Qr+=3):(t=i,0===nn&&ln(ot)),t===i&&(n.substr(Qr,3)===at?(t=at,Qr+=3):(t=i,0===nn&&ln(it))),nn--,t===i&&0===nn&&ln(rt),t}())!==i&&On()!==i?(Jr=t,e=Z(r),t=e):(Qr=t,t=i),t}())!==i&&(Jr=e,r=X(r)),(e=r)===i&&(e=Qr,(r=function(){var t,e,r,o,a;return t=Qr,(e=On())!==i&&(r=Cn())!==i&&On()!==i&&(o=function(){var t,e;return t=Qr,(e=mn())===i&&(e=yn())===i&&(e=xn())===i&&(e=function(){var t;return nn++,n.substr(Qr,4).toLowerCase()===ne?(t=n.substr(Qr,4),Qr+=4):(t=i,0===nn&&ln(oe)),t===i&&(n.substr(Qr,4).toLowerCase()===ae?(t=n.substr(Qr,4),Qr+=4):(t=i,0===nn&&ln(ie)),t===i&&(n.substr(Qr,4).toLowerCase()===ue?(t=n.substr(Qr,4),Qr+=4):(t=i,0===nn&&ln(ce)),t===i&&(n.substr(Qr,3).toLowerCase()===se?(t=n.substr(Qr,3),Qr+=3):(t=i,0===nn&&ln(le))))),nn--,t===i&&0===nn&&ln(re),t}()),e!==i&&(Jr=t,e=lt(e)),t=e}())!==i&&On()!==i&&(a=Cn())!==i&&On()!==i?(Jr=t,e=Y(r,o,a),t=e):(Qr=t,t=i),t===i&&(t=Qr,(e=On())!==i?(42===n.charCodeAt(Qr)?(r=Q,Qr++):(r=i,0===nn&&ln(J)),r!==i&&On()!==i&&(o=xn())!==i&&On()!==i&&(a=Cn())!==i&&On()!==i?(Jr=t,e=tt(o,a),t=e):(Qr=t,t=i)):(Qr=t,t=i),t===i&&(t=Qr,(e=On())!==i&&(r=Cn())!==i&&On()!==i&&(o=yn())!==i&&On()!==i?(42===n.charCodeAt(Qr)?(a=Q,Qr++):(a=i,0===nn&&ln(J)),a!==i&&On()!==i?(Jr=t,e=et(r,o),t=e):(Qr=t,t=i)):(Qr=t,t=i),t===i&&(t=Qr,(e=On())!==i&&(r=Cn())!==i&&On()!==i&&(o=mn())!==i&&On()!==i?(42===n.charCodeAt(Qr)?(a=Q,Qr++):(a=i,0===nn&&ln(J)),a!==i&&On()!==i?(Jr=t,e=et(r,o),t=e):(Qr=t,t=i)):(Qr=t,t=i)))),t}())!==i&&(Jr=e,r=X(r)),(e=r)===i&&(e=Qr,(r=function(){var t,e,r;return t=Qr,(e=On())!==i&&(r=function(){var t;return nn++,n.substr(Qr,3)===ct?(t=ct,Qr+=3):(t=i,0===nn&&ln(st)),nn--,t===i&&0===nn&&ln(ut),t}())!==i&&On()!==i?(Jr=t,e=Z(r),t=e):(Qr=t,t=i),t}())!==i&&(Jr=e,r=X(r)),e=r)),e!==i?(r=Qr,91===n.charCodeAt(Qr)?(o=N,Qr++):(o=i,0===nn&&ln(H)),o!==i&&(a=vn())!==i?(93===n.charCodeAt(Qr)?(u=W,Qr++):(u=i,0===nn&&ln(R)),u!==i?(Jr=r,o=U(e,a),r=o):(Qr=r,r=i)):(Qr=r,r=i),r===i&&(r=null),r!==i?(Jr=t,e=K(e,r),t=e):(Qr=t,t=i)):(Qr=t,t=i),t}function mn(){var t;return nn++,n.substr(Qr,2)===ft?(t=ft,Qr+=2):(t=i,0===nn&&ln(ht)),t===i&&(n.substr(Qr,3)===pt?(t=pt,Qr+=3):(t=i,0===nn&&ln(gt)),t===i&&(n.substr(Qr,2)===bt?(t=bt,Qr+=2):(t=i,0===nn&&ln(mt)),t===i&&(n.substr(Qr,5)===yt?(t=yt,Qr+=5):(t=i,0===nn&&ln(xt)),t===i&&(n.substr(Qr,3)===vt?(t=vt,Qr+=3):(t=i,0===nn&&ln(wt)),t===i&&(n.substr(Qr,2)===_t?(t=_t,Qr+=2):(t=i,0===nn&&ln(Ct)),t===i&&(n.substr(Qr,4)===At?(t=At,Qr+=4):(t=i,0===nn&&ln(kt)),t===i&&(n.substr(Qr,2)===St?(t=St,Qr+=2):(t=i,0===nn&&ln(Lt)),t===i&&(n.substr(Qr,3)===Et?(t=Et,Qr+=3):(t=i,0===nn&&ln(jt)))))))))),nn--,t===i&&0===nn&&ln(dt),t}function yn(){var t;return nn++,n.substr(Qr,2)===Mt?(t=Mt,Qr+=2):(t=i,0===nn&&ln(Ot)),t===i&&(n.substr(Qr,3)===Pt?(t=Pt,Qr+=3):(t=i,0===nn&&ln(Ft)),t===i&&(n.substr(Qr,2)===It?(t=It,Qr+=2):(t=i,0===nn&&ln(Dt)),t===i&&(n.substr(Qr,2)===$t?(t=$t,Qr+=2):(t=i,0===nn&&ln(Bt)),t===i&&(n.substr(Qr,2)===Nt?(t=Nt,Qr+=2):(t=i,0===nn&&ln(Ht)),t===i&&(n.substr(Qr,2).toLowerCase()===Wt?(t=n.substr(Qr,2),Qr+=2):(t=i,0===nn&&ln(Rt))))))),nn--,t===i&&0===nn&&ln(Tt),t}function xn(){var t;return nn++,n.substr(Qr,2)===Gt?(t=Gt,Qr+=2):(t=i,0===nn&&ln(Vt)),t===i&&(n.substr(Qr,3)===Xt?(t=Xt,Qr+=3):(t=i,0===nn&&ln(qt)),t===i&&(n.substr(Qr,2)===Ut?(t=Ut,Qr+=2):(t=i,0===nn&&ln(Kt)),t===i&&(n.substr(Qr,2)===Zt?(t=Zt,Qr+=2):(t=i,0===nn&&ln(Yt)),t===i&&(n.substr(Qr,2)===Qt?(t=Qt,Qr+=2):(t=i,0===nn&&ln(Jt)),t===i&&(n.substr(Qr,2).toLowerCase()===te?(t=n.substr(Qr,2),Qr+=2):(t=i,0===nn&&ln(ee))))))),nn--,t===i&&0===nn&&ln(zt),t}function vn(){var t,e,r,o,a,u;for(t=Qr,e=Qr,r=[],o=Qr,(a=wn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=X(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);o!==i;)r.push(o),o=Qr,(a=wn())!==i?(44===n.charCodeAt(Qr)?(u=m,Qr++):(u=i,0===nn&&ln(y)),u!==i?(Jr=o,a=X(a),o=a):(Qr=o,o=i)):(Qr=o,o=i);return r!==i?(o=Qr,(a=wn())!==i&&(Jr=o,a=X(a)),(o=a)!==i?e=r=[r,o]:(Qr=e,e=i)):(Qr=e,e=i),e!==i&&(Jr=t,e=de(e)),t=e}function wn(){var t,e,r,o,a;return t=Qr,(e=On())!==i&&(r=function(){var t;return nn++,n.substr(Qr,5).toLowerCase()===pe?(t=n.substr(Qr,5),Qr+=5):(t=i,0===nn&&ln(ge)),t===i&&(n.substr(Qr,5).toLowerCase()===be?(t=n.substr(Qr,5),Qr+=5):(t=i,0===nn&&ln(me)),t===i&&(n.substr(Qr,2).toLowerCase()===ye?(t=n.substr(Qr,2),Qr+=2):(t=i,0===nn&&ln(xe)),t===i&&(n.substr(Qr,3).toLowerCase()===ve?(t=n.substr(Qr,3),Qr+=3):(t=i,0===nn&&ln(we)),t===i&&(n.substr(Qr,9).toLowerCase()===_e?(t=n.substr(Qr,9),Qr+=9):(t=i,0===nn&&ln(Ce)),t===i&&(n.substr(Qr,10).toLowerCase()===Ae?(t=n.substr(Qr,10),Qr+=10):(t=i,0===nn&&ln(ke)),t===i&&(n.substr(Qr,9).toLowerCase()===Se?(t=n.substr(Qr,9),Qr+=9):(t=i,0===nn&&ln(Le)),t===i&&(n.substr(Qr,10).toLowerCase()===Ee?(t=n.substr(Qr,10),Qr+=10):(t=i,0===nn&&ln(je)),t===i&&(n.substr(Qr,11).toLowerCase()===Te?(t=n.substr(Qr,11),Qr+=11):(t=i,0===nn&&ln(Me)),t===i&&(n.substr(Qr,12).toLowerCase()===Oe?(t=n.substr(Qr,12),Qr+=12):(t=i,0===nn&&ln(Pe)),t===i&&(n.substr(Qr,12).toLowerCase()===Fe?(t=n.substr(Qr,12),Qr+=12):(t=i,0===nn&&ln(Ie)),t===i&&(n.substr(Qr,13).toLowerCase()===De?(t=n.substr(Qr,13),Qr+=13):(t=i,0===nn&&ln($e)),t===i&&(n.substr(Qr,12).toLowerCase()===Be?(t=n.substr(Qr,12),Qr+=12):(t=i,0===nn&&ln(Ne)),t===i&&(n.substr(Qr,13).toLowerCase()===He?(t=n.substr(Qr,13),Qr+=13):(t=i,0===nn&&ln(We)),t===i&&(n.substr(Qr,14).toLowerCase()===Re?(t=n.substr(Qr,14),Qr+=14):(t=i,0===nn&&ln(ze)),t===i&&(n.substr(Qr,15).toLowerCase()===Ge?(t=n.substr(Qr,15),Qr+=15):(t=i,0===nn&&ln(Ve)),t===i&&(n.substr(Qr,7).toLowerCase()===Xe?(t=n.substr(Qr,7),Qr+=7):(t=i,0===nn&&ln(qe)))))))))))))))))),nn--,t===i&&0===nn&&ln(he),t}())!==i&&On()!==i?(61===n.charCodeAt(Qr)?(o=T,Qr++):(o=i,0===nn&&ln(M)),o!==i&&On()!==i&&(a=Cn())!==i&&On()!==i?(Jr=t,e=fe(r,a),t=e):(Qr=t,t=i)):(Qr=t,t=i),t}function _n(){var t,e,r,o;return nn++,t=Qr,34===n.charCodeAt(Qr)?(e=Ke,Qr++):(e=i,0===nn&&ln(Ze)),e!==i&&(r=function(){var t,e,r,o;for(t=[],e=Qr,r=Qr,nn++,34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=i,0===nn&&ln(Ze)),nn--,o===i?r=void 0:(Qr=r,r=i),r!==i?(n.substr(Qr,2)===Qe?(o=Qe,Qr+=2):(o=i,0===nn&&ln(Je)),o===i&&(n.length>Qr?(o=n.charAt(Qr),Qr++):(o=i,0===nn&&ln(tr))),o!==i?(Jr=e,r=er(o),e=r):(Qr=e,e=i)):(Qr=e,e=i);e!==i;)t.push(e),e=Qr,r=Qr,nn++,34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=i,0===nn&&ln(Ze)),nn--,o===i?r=void 0:(Qr=r,r=i),r!==i?(n.substr(Qr,2)===Qe?(o=Qe,Qr+=2):(o=i,0===nn&&ln(Je)),o===i&&(n.length>Qr?(o=n.charAt(Qr),Qr++):(o=i,0===nn&&ln(tr))),o!==i?(Jr=e,r=er(o),e=r):(Qr=e,e=i)):(Qr=e,e=i);return t}())!==i?(34===n.charCodeAt(Qr)?(o=Ke,Qr++):(o=i,0===nn&&ln(Ze)),o!==i?(Jr=t,e=Ye(r),t=e):(Qr=t,t=i)):(Qr=t,t=i),nn--,t===i&&(e=i,0===nn&&ln(Ue)),t}function Cn(){var t;return nn++,(t=An())===i&&(t=_n()),nn--,t===i&&0===nn&&ln(rr),t}function An(){var t,e,r;if(t=Qr,e=[],nr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=i,0===nn&&ln(or)),r!==i)for(;r!==i;)e.push(r),nr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=i,0===nn&&ln(or));else e=i;return e!==i&&(Jr=t,e=ar(e)),t=e}function kn(){var t,e;return nn++,t=Qr,ur.test(n.charAt(Qr))?(e=n.charAt(Qr),Qr++):(e=i,0===nn&&ln(cr)),e!==i&&(Jr=t,e=er(e)),nn--,(t=e)===i&&(e=i,0===nn&&ln(ir)),t}function Sn(){var t,e;return nn++,t=Qr,lr.test(n.charAt(Qr))?(e=n.charAt(Qr),Qr++):(e=i,0===nn&&ln(dr)),e!==i&&(Jr=t,e=er(e)),nn--,(t=e)===i&&(e=i,0===nn&&ln(sr)),t}function Ln(){var t,e,r;return t=Qr,e=Qr,nn++,n.substr(Qr,2)===pr?(r=pr,Qr+=2):(r=i,0===nn&&ln(gr)),nn--,r===i?e=void 0:(Qr=e,e=i),e!==i?(n.length>Qr?(r=n.charAt(Qr),Qr++):(r=i,0===nn&&ln(tr)),r!==i?(Jr=t,e=er(r),t=e):(Qr=t,t=i)):(Qr=t,t=i),t}function En(){var t,e,r,o;if(t=Qr,(e=function(){var t;return n.substr(Qr,2)===fr?(t=fr,Qr+=2):(t=i,0===nn&&ln(hr)),t}())!==i){for(r=[],o=Ln();o!==i;)r.push(o),o=Ln();r!==i&&(o=function(){var t;return n.substr(Qr,2)===pr?(t=pr,Qr+=2):(t=i,0===nn&&ln(gr)),t}())!==i?(Jr=t,e=br(e,r,o),t=e):(Qr=t,t=i)}else Qr=t,t=i;return t}function jn(){var t;return wr.test(n.charAt(Qr))?(t=n.charAt(Qr),Qr++):(t=i,0===nn&&ln(_r)),t}function Tn(){var t,e,r,o;if(t=Qr,(e=function(){var t;return n.substr(Qr,2)===mr?(t=mr,Qr+=2):(t=i,0===nn&&ln(yr)),t===i&&(35===n.charCodeAt(Qr)?(t=xr,Qr++):(t=i,0===nn&&ln(vr))),t}())!==i){for(r=[],o=jn();o!==i;)r.push(o),o=jn();r!==i?(Jr=t,e=Cr(e,r),t=e):(Qr=t,t=i)}else Qr=t,t=i;return t}function Mn(){var t;return nn++,(t=Tn())===i&&(t=En()),nn--,t===i&&0===nn&&ln(Ar),t}function On(){var t,e;for(t=[],(e=kn())===i&&(e=Sn())===i&&(e=Mn());e!==i;)t.push(e),(e=kn())===i&&(e=Sn())===i&&(e=Mn());return t}function Pn(){var t;return(t=function(){var t,e,r,o,a;return nn++,t=Qr,e=Qr,(r=Fn())!==i?(46===n.charCodeAt(Qr)?(o=Fr,Qr++):(o=i,0===nn&&ln(Ir)),o!==i&&(a=Fn())!==i?e=r=[r,o,a]:(Qr=e,e=i)):(Qr=e,e=i),e!==i&&(Jr=t,e=Dr(e)),nn--,(t=e)===i&&(e=i,0===nn&&ln(Pr)),t}())===i&&(t=Fn()),t}function Fn(){var t,e,r;if(nn++,t=Qr,e=[],Tr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=i,0===nn&&ln(Mr)),r!==i)for(;r!==i;)e.push(r),Tr.test(n.charAt(Qr))?(r=n.charAt(Qr),Qr++):(r=i,0===nn&&ln(Mr));else e=i;return e!==i&&(Jr=t,e=Or(e)),nn--,(t=e)===i&&(e=i,0===nn&&ln(jr)),t}function In(){var t;return n.substr(Qr,4).toLowerCase()===Hr?(t=n.substr(Qr,4),Qr+=4):(t=i,0===nn&&ln(Wr)),t===i&&(n.substr(Qr,5).toLowerCase()===Rr?(t=n.substr(Qr,5),Qr+=5):(t=i,0===nn&&ln(zr)),t===i&&(n.substr(Qr,2).toLowerCase()===Gr?(t=n.substr(Qr,2),Qr+=2):(t=i,0===nn&&ln(Vr)),t===i&&(n.substr(Qr,3).toLowerCase()===Xr?(t=n.substr(Qr,3),Qr+=3):(t=i,0===nn&&ln(qr)),t===i&&(48===n.charCodeAt(Qr)?(t=Ur,Qr++):(t=i,0===nn&&ln(Kr)),t===i&&(49===n.charCodeAt(Qr)?(t=Zr,Qr++):(t=i,0===nn&&ln(Yr))))))),t}if((a=c())!==i&&Qr===n.length)return a;throw a!==i&&Qr<n.length&&ln({type:"end"}),dn(rn,en<n.length?n.charAt(en):null,en<n.length?sn(en,en+1):sn(en,en))}}})?n.apply(e,o):n)||(t.exports=a)},function(t,e,r){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=n(r(45)),i=n(r(44)),u=n(r(43)),c=o(r(42)),s=o(r(27)),l=o(r(25)),d=o(r(12)),f=o(r(24)),h=o(r(7)),p=a,g=d.default,b=Object.freeze({mscgen:a,xu:u,msgenny:i}),m=Object.freeze({mscgen:d.default,msgenny:f.default,xu:h.default,dot:s.default,doxygen:l.default});e.default={getParser:t=>["ast","json"].includes(t)?JSON:b[t]||p,getGraphicsRenderer:()=>c.default,getTextRenderer:t=>m[t]||g}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(23));function a(t,e,r){let n=r;return e.some(e=>e.name===t)&&(n=t),n}function i(t,e){return"boolean"==typeof t?t:e}e.default=((t,e)=>{const r=i(t.includeSource,!0);return{inputType:function(t){return a(t,o.default.inputType,"mscgen")}(t.inputType),elementId:t.elementId||"__svg",window:t.window||window,includeSource:r,source:r?e:null,styleAdditions:t.styleAdditions||null,additionalTemplate:function(t){return a(t,o.default.namedStyle,"basic")}(t.additionalTemplate),mirrorEntitiesOnBottom:i(t.mirrorEntitiesOnBottom,!1),regularArcTextVerticalAlignment:function(t){return a(t,o.default.regularArcTextVerticalAlignment,"middle")}(t.regularArcTextVerticalAlignment)}})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(23)),a=n(r(47));function i(t,e,r){return function(t,e){return"json"===e&&"object"==typeof t}(t,e)?t:r(e).parse(t)}function u(t,e,r){Boolean(t)&&(Boolean(e)?t(e,null):t(null,r))}e.default={renderMsc(t,e,r,n,o){const c=a.default(e,t);try{u(r,null,o().render(i(t,c.inputType,n),c.window,c.elementId,{source:c.source,styleAdditions:c.styleAdditions,additionalTemplate:c.additionalTemplate,mirrorEntitiesOnBottom:c.mirrorEntitiesOnBottom,regularArcTextVerticalAlignment:c.regularArcTextVerticalAlignment}))}catch(t){u(r,t)}},translateMsc(t,e,r,n){const o=Object.assign({inputType:"mscgen",outputType:"json"},e||{});return"ast"===o.outputType?r(o.inputType).parse(t):"json"===o.outputType?JSON.stringify(r(o.inputType).parse(t),null,"  "):n(o.outputType).render(i(t,o.inputType,r))},version:"2.1.0-beta-0",getAllowedValues:()=>o.default}},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=n(r(48)),a=n(r(46));t.exports={renderMsc(t,e,r){o.default.renderMsc(t,e||{},r,a.default.getParser,a.default.getGraphicsRenderer)},translateMsc:(t,e)=>o.default.translateMsc(t,e||{},a.default.getParser,a.default.getTextRenderer),version:o.default.version,getAllowedValues:o.default.getAllowedValues,getParser:a.default.getParser,getGraphicsRenderer:a.default.getGraphicsRenderer,getTextRenderer:a.default.getTextRenderer}}])});